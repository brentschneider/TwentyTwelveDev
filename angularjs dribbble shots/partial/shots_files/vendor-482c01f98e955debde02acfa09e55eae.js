/*!
 * jQuery JavaScript Library v1.8.3+1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Wed Mar 26 2014 11:04:46 GMT-0400 (EDT)
 */
function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(e){mejs.YouTubeApi.flashReady(e)}!function(e,t){function n(e){var t=ft[e]={};return J.each(e.split(tt),function(e,n){t[n]=!0}),t}function i(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(gt,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:mt.test(i)?J.parseJSON(i):i}catch(o){}J.data(e,n,i)}else i=t}return i}function r(e){var t;for(t in e)if(("data"!==t||!J.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(){return!1}function s(){return!0}function a(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function u(e,t,n){if(t=t||0,J.isFunction(t))return J.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return J.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=J.grep(e,function(e){return 1===e.nodeType});if(Ft.test(t))return J.filter(t,i,!n);t=J.filter(t,i)}return J.grep(e,function(e){return J.inArray(e,t)>=0===n})}function c(e){var t=zt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function d(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function h(e,t){if(1===t.nodeType&&J.hasData(e)){var n,i,r,o=J._data(e),s=J._data(t,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)J.event.add(t,n,a[n][i])}s.data&&(s.data=J.extend({},s.data))}}function p(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),J.support.html5Clone&&e.innerHTML&&!J.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Xt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(J.expando))}function f(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function m(e){Xt.test(e.type)&&(e.defaultChecked=e.checked)}function g(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=yn.length;r--;)if(t=yn[r]+n,t in e)return t;return i}function v(e,t){return e=t||e,"none"===J.css(e,"display")||!J.contains(e.ownerDocument,e)}function y(e,t){for(var n,i,r=[],o=0,s=e.length;s>o;o++)n=e[o],n.style&&(r[o]=J._data(n,"olddisplay"),t?(r[o]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&v(n)&&(r[o]=J._data(n,"olddisplay",x(n.nodeName)))):(i=nn(n,"display"),r[o]||"none"===i||J._data(n,"olddisplay",i)));for(o=0;s>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[o]||"":"none"));return e}function b(e,t,n){var i=dn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function _(e,t,n,i){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>r;r+=2)"margin"===n&&(o+=J.css(e,n+vn[r],!0)),i?("content"===n&&(o-=parseFloat(nn(e,"padding"+vn[r]))||0),"margin"!==n&&(o-=parseFloat(nn(e,"border"+vn[r]+"Width"))||0)):(o+=parseFloat(nn(e,"padding"+vn[r]))||0,"padding"!==n&&(o+=parseFloat(nn(e,"border"+vn[r]+"Width"))||0));return o}function w(e,t,n){var i="width"===t?e.offsetWidth:e.offsetHeight,r=!0,o=J.support.boxSizing&&"border-box"===J.css(e,"boxSizing");if(0>=i||null==i){if(i=nn(e,t),(0>i||null==i)&&(i=e.style[t]),hn.test(i))return i;r=o&&(J.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+_(e,t,n||(o?"border":"content"),r)+"px"}function x(e){if(fn[e])return fn[e];var t=J("<"+e+">").appendTo(W.body),n=t.css("display");return t.remove(),("none"===n||""===n)&&(rn=W.body.appendChild(rn||J.extend(W.createElement("iframe"),{frameBorder:0,width:0,height:0})),on&&rn.createElement||(on=(rn.contentWindow||rn.contentDocument).document,on.write("<!doctype html><html><body>"),on.close()),t=on.body.appendChild(on.createElement(e)),n=nn(t,"display"),W.body.removeChild(rn)),fn[e]=n,n}function k(e,t,n,i){var r;if(J.isArray(t))J.each(t,function(t,r){n||wn.test(e)?i(e,r):k(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==J.type(t))i(e,t);else for(r in t)k(e+"["+r+"]",t[r],n,i)}function S(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r,o,s=t.toLowerCase().split(tt),a=0,l=s.length;if(J.isFunction(n))for(;l>a;a++)i=s[a],o=/^\+/.test(i),o&&(i=i.substr(1)||"*"),r=e[i]=e[i]||[],r[o?"unshift":"push"](n)}}function C(e,n,i,r,o,s){o=o||n.dataTypes[0],s=s||{},s[o]=!0;for(var a,l=e[o],u=0,c=l?l.length:0,d=e===Dn;c>u&&(d||!a);u++)a=l[u](n,i,r),"string"==typeof a&&(!d||s[a]?a=t:(n.dataTypes.unshift(a),a=C(e,n,i,r,a,s)));return!d&&a||s["*"]||(a=C(e,n,i,r,"*",s)),a}function T(e,n){var i,r,o=J.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);r&&J.extend(!0,e,r)}function E(e,n,i){var r,o,s,a,l=e.contents,u=e.dataTypes,c=e.responseFields;for(o in c)o in i&&(n[c[o]]=i[o]);for(;"*"===u[0];)u.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("content-type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){u.unshift(o);break}if(u[0]in i)s=u[0];else{for(o in i){if(!u[0]||e.converters[o+" "+u[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==u[0]&&u.unshift(s),i[s]):void 0}function M(e,t){var n,i,r,o,s=e.dataTypes.slice(),a=s[0],l={},u=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s[1])for(n in e.converters)l[n.toLowerCase()]=e.converters[n];for(;r=s[++u];)if("*"!==r){if("*"!==a&&a!==r){if(n=l[a+" "+r]||l["* "+r],!n)for(i in l)if(o=i.split(" "),o[1]===r&&(n=l[a+" "+o[0]]||l["* "+o[0]])){n===!0?n=l[i]:l[i]!==!0&&(r=o[0],s.splice(u--,0,r));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(c){return{state:"parsererror",error:n?c:"No conversion from "+a+" to "+r}}}a=r}return{state:"success",data:t}}function A(){try{return new e.XMLHttpRequest}catch(t){}}function j(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function N(){return setTimeout(function(){Yn=t},0),Yn=J.now()}function P(e,t){J.each(t,function(t,n){for(var i=(ei[t]||[]).concat(ei["*"]),r=0,o=i.length;o>r;r++)if(i[r].call(e,t,n))return})}function L(e,t,n){var i,r=0,o=Zn.length,s=J.Deferred().always(function(){delete a.elem}),a=function(){for(var t=Yn||N(),n=Math.max(0,l.startTime+l.duration-t),i=n/l.duration||0,r=1-i,o=0,a=l.tweens.length;a>o;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),1>r&&a?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:J.extend({},t),opts:J.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Yn||N(),duration:n.duration,tweens:[],createTween:function(t,n){var i=J.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){for(var n=0,i=t?l.tweens.length:0;i>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),u=l.props;for(I(u,l.opts.specialEasing);o>r;r++)if(i=Zn[r].call(l,e,u,l.opts))return i;return P(l,u),J.isFunction(l.opts.start)&&l.opts.start.call(e,l),J.fx.timer(J.extend(a,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function I(e,t){var n,i,r,o,s;for(n in e)if(i=J.camelCase(n),r=t[i],o=e[n],J.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),s=J.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function O(e,t,n){var i,r,o,s,a,l,u,c,d,h=this,p=e.style,f={},m=[],g=e.nodeType&&v(e);n.queue||(c=J._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,d=c.empty.fire,c.empty.fire=function(){c.unqueued||d()}),c.unqueued++,h.always(function(){h.always(function(){c.unqueued--,J.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===J.css(e,"display")&&"none"===J.css(e,"float")&&(J.support.inlineBlockNeedsLayout&&"inline"!==x(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",J.support.shrinkWrapBlocks||h.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],Kn.exec(o)){if(delete t[i],l=l||"toggle"===o,o===(g?"hide":"show"))continue;m.push(i)}if(s=m.length){a=J._data(e,"fxshow")||J._data(e,"fxshow",{}),"hidden"in a&&(g=a.hidden),l&&(a.hidden=!g),g?J(e).show():h.done(function(){J(e).hide()}),h.done(function(){var t;J.removeData(e,"fxshow",!0);for(t in f)J.style(e,t,f[t])});for(i=0;s>i;i++)r=m[i],u=h.createTween(r,g?a[r]:0),f[r]=a[r]||J.style(e,r),r in a||(a[r]=u.start,g&&(u.end=u.start,u.start="width"===r||"height"===r?1:0))}}function F(e,t,n,i,r){return new F.prototype.init(e,t,n,i,r)}function D(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=vn[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function R(e){return J.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var z,H,W=e.document,B=e.location,U=e.navigator,q=e.jQuery,V=e.$,$=Array.prototype.push,G=Array.prototype.slice,Y=Array.prototype.indexOf,X=Object.prototype.toString,K=Object.prototype.hasOwnProperty,Q=String.prototype.trim,J=function(e,t){return new J.fn.init(e,t,z)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,it=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ot=/^[\],:{}\s]*$/,st=/(?:^|:|,)(?:\s*\[)+/g,at=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,lt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ut=/^-ms-/,ct=/-([\da-z])/gi,dt=function(e,t){return(t+"").toUpperCase()},ht=function(){W.addEventListener?(W.removeEventListener("DOMContentLoaded",ht,!1),J.ready()):"complete"===W.readyState&&(W.detachEvent("onreadystatechange",ht),J.ready())},pt={};J.fn=J.prototype={constructor:J,init:function(e,n,i){var r,o,s;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:it.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1])return n=n instanceof J?n[0]:n,s=n&&n.nodeType?n.ownerDocument||n:W,e=J.parseHTML(r[1],s,!0),rt.test(r[1])&&J.isPlainObject(n)&&this.attr.call(e,n,!0),J.merge(this,e);if(o=W.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=W,this.selector=e,this}return J.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),J.makeArray(e,this))},selector:"",jquery:"1.8.3+1",length:0,size:function(){return this.length},toArray:function(){return G.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=J.merge(this.constructor(),e);return i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return J.each(this,e,t)},ready:function(e){return J.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(G.apply(this,arguments),"slice",G.call(arguments).join(","))},map:function(e){return this.pushStack(J.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:$,sort:[].sort,splice:[].splice},J.fn.init.prototype=J.fn,J.extend=J.fn.extend=function(){var e,n,i,r,o,s,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},l=2),"object"==typeof a||J.isFunction(a)||(a={}),u===l&&(a=this,--l);u>l;l++)if(null!=(e=arguments[l]))for(n in e)i=a[n],r=e[n],a!==r&&(c&&r&&(J.isPlainObject(r)||(o=J.isArray(r)))?(o?(o=!1,s=i&&J.isArray(i)?i:[]):s=i&&J.isPlainObject(i)?i:{},a[n]=J.extend(c,s,r)):r!==t&&(a[n]=r));return a},J.extend({noConflict:function(t){return e.$===J&&(e.$=V),t&&e.jQuery===J&&(e.jQuery=q),J},isReady:!1,readyWait:1,holdReady:function(e){e?J.readyWait++:J.ready(!0)},ready:function(e){if(e===!0?!--J.readyWait:!J.isReady){if(!W.body)return setTimeout(J.ready,1);J.isReady=!0,e!==!0&&--J.readyWait>0||(H.resolveWith(W,[J]),J.fn.trigger&&J(W).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===J.type(e)},isArray:Array.isArray||function(e){return"array"===J.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):pt[X.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==J.type(e)||e.nodeType||J.isWindow(e))return!1;try{if(e.constructor&&!K.call(e,"constructor")&&!K.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||K.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var i;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||W,(i=rt.exec(e))?[t.createElement(i[1])]:(i=J.buildFragment([e],t,n?null:[]),J.merge([],(i.cacheable?J.clone(i.fragment):i.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=J.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):ot.test(t.replace(at,"@").replace(lt,"]").replace(st,""))?new Function("return "+t)():void J.error("Invalid JSON: "+t)):null},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||J.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ut,"ms-").replace(ct,dt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,i){var r,o=0,s=e.length,a=s===t||J.isFunction(e);if(i)if(a){for(r in e)if(n.apply(e[r],i)===!1)break}else for(;s>o&&n.apply(e[o++],i)!==!1;);else if(a){for(r in e)if(n.call(e[r],r,e[r])===!1)break}else for(;s>o&&n.call(e[o],o,e[o++])!==!1;);return e},trim:Q&&!Q.call("\ufeff\xa0")?function(e){return null==e?"":Q.call(e)}:function(e){return null==e?"":(e+"").replace(nt,"")},makeArray:function(e,t){var n,i=t||[];return null!=e&&(n=J.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||J.isWindow(e)?$.call(i,e):J.merge(i,e)),i},inArray:function(e,t,n){var i;if(t){if(Y)return Y.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,o=0;if("number"==typeof i)for(;i>o;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,s=e.length;for(n=!!n;s>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,n,i){var r,o,s=[],a=0,l=e.length,u=e instanceof J||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||J.isArray(e));if(u)for(;l>a;a++)r=n(e[a],a,i),null!=r&&(s[s.length]=r);else for(o in e)r=n(e[o],o,i),null!=r&&(s[s.length]=r);return s.concat.apply([],s)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(i=e[n],n=e,e=i),J.isFunction(e)?(r=G.call(arguments,2),o=function(){return e.apply(n,r.concat(G.call(arguments)))},o.guid=e.guid=e.guid||J.guid++,o):t},access:function(e,n,i,r,o,s,a){var l,u=null==i,c=0,d=e.length;if(i&&"object"==typeof i){for(c in i)J.access(e,n,c,i[c],1,s,r);o=1}else if(r!==t){if(l=a===t&&J.isFunction(r),u&&(l?(l=n,n=function(e,t,n){return l.call(J(e),n)}):(n.call(e,r),n=null)),n)for(;d>c;c++)n(e[c],i,l?r.call(e[c],c,n(e[c],i)):r,a);o=1}return o?e:u?n.call(e):d?n(e[0],i):s},now:function(){return(new Date).getTime()}}),J.ready.promise=function(t){if(!H)if(H=J.Deferred(),"complete"===W.readyState)setTimeout(J.ready,1);else if(W.addEventListener)W.addEventListener("DOMContentLoaded",ht,!1),e.addEventListener("load",J.ready,!1);else{W.attachEvent("onreadystatechange",ht),e.attachEvent("onload",J.ready);var n=!1;try{n=null==e.frameElement&&W.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!J.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}J.ready()}}()}return H.promise(t)},J.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){pt["[object "+t+"]"]=t.toLowerCase()}),z=J(W);var ft={};J.Callbacks=function(e){e="string"==typeof e?ft[e]||n(e):J.extend({},e);var i,r,o,s,a,l,u=[],c=!e.once&&[],d=function(t){for(i=e.memory&&t,r=!0,l=s||0,s=0,a=u.length,o=!0;u&&a>l;l++)if(u[l].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}o=!1,u&&(c?c.length&&d(c.shift()):i?u=[]:h.disable())},h={add:function(){if(u){var t=u.length;!function n(t){J.each(t,function(t,i){var r=J.type(i);"function"===r?e.unique&&h.has(i)||u.push(i):i&&i.length&&"string"!==r&&n(i)})}(arguments),o?a=u.length:i&&(s=t,d(i))}return this},remove:function(){return u&&J.each(arguments,function(e,t){for(var n;(n=J.inArray(t,u,n))>-1;)u.splice(n,1),o&&(a>=n&&a--,l>=n&&l--)}),this},has:function(e){return J.inArray(e,u)>-1},empty:function(){return u=[],this},disable:function(){return u=c=i=t,this},disabled:function(){return!u},lock:function(){return c=t,i||h.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||r&&!c||(o?c.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},J.extend({Deferred:function(e){var t=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return J.Deferred(function(n){J.each(t,function(t,i){var o=i[0],s=e[t];r[i[1]](J.isFunction(s)?function(){var e=s.apply(this,arguments);e&&J.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n:this,[e])}:n[o])}),e=null}).promise()},promise:function(e){return null!=e?J.extend(e,i):i}},r={};return i.pipe=i.then,J.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=s.fire,r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=G.call(arguments),s=o.length,a=1!==s||e&&J.isFunction(e.promise)?s:0,l=1===a?e:J.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?G.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&J.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,t)):--a;return a||l.resolveWith(i,o),l.promise()}}),J.support=function(){var t,n,i,r,o,s,a,l,u,c,d,h=W.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*"),i=h.getElementsByTagName("a")[0],!n||!i||!n.length)return{};r=W.createElement("select"),o=r.appendChild(W.createElement("option")),s=h.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===s.value,optSelected:o.selected,getSetAttribute:"t"!==h.className,enctype:!!W.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==W.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===W.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!o.disabled;try{delete h.test}catch(p){t.deleteExpando=!1}if(!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",d=function(){t.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick"),h.detachEvent("onclick",d)),s=W.createElement("input"),s.value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","checked"),s.setAttribute("name","t"),h.appendChild(s),a=W.createDocumentFragment(),a.appendChild(h.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=s.checked,a.removeChild(s),a.appendChild(h),h.attachEvent)for(u in{submit:!0,change:!0,focusin:!0})l="on"+u,c=l in h,c||(h.setAttribute(l,"return;"),c="function"==typeof h[l]),t[u+"Bubbles"]=c;return J(function(){var n,i,r,o,s="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=W.getElementsByTagName("body")[0];a&&(n=W.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild),i=W.createElement("div"),n.appendChild(i),i.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=i.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,i.innerHTML="",i.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===i.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,o=W.createElement("div"),o.style.cssText=i.style.cssText=s,o.style.marginRight=o.style.width="0",i.style.width="1px",i.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),"undefined"!=typeof i.style.zoom&&(i.innerHTML="",i.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===i.offsetWidth,i.style.display="block",i.style.overflow="visible",i.innerHTML="<div></div>",i.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==i.offsetWidth,n.style.zoom=1),a.removeChild(n),n=i=r=o=null)}),a.removeChild(h),n=i=r=o=s=a=h=null,t}();var mt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,gt=/([A-Z])/g;J.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(J.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?J.cache[e[J.expando]]:e[J.expando],!!e&&!r(e)},data:function(e,n,i,r){if(J.acceptData(e)){var o,s,a=J.expando,l="string"==typeof n,u=e.nodeType,c=u?J.cache:e,d=u?e[a]:e[a]&&a;if(d&&c[d]&&(r||c[d].data)||!l||i!==t)return d||(u?e[a]=d=J.deletedIds.pop()||J.guid++:d=a),c[d]||(c[d]={},u||(c[d].toJSON=J.noop)),("object"==typeof n||"function"==typeof n)&&(r?c[d]=J.extend(c[d],n):c[d].data=J.extend(c[d].data,n)),o=c[d],r||(o.data||(o.data={}),o=o.data),i!==t&&(o[J.camelCase(n)]=i),l?(s=o[n],null==s&&(s=o[J.camelCase(n)])):s=o,s}},removeData:function(e,t,n){if(J.acceptData(e)){var i,o,s,a=e.nodeType,l=a?J.cache:e,u=a?e[J.expando]:J.expando;if(l[u]){if(t&&(i=n?l[u]:l[u].data)){J.isArray(t)||(t in i?t=[t]:(t=J.camelCase(t),t=t in i?[t]:t.split(" ")));for(o=0,s=t.length;s>o;o++)delete i[t[o]];if(!(n?r:J.isEmptyObject)(i))return}(n||(delete l[u].data,r(l[u])))&&(a?J.cleanData([e],!0):J.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}},_data:function(e,t,n){return J.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&J.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),J.fn.extend({data:function(e,n){var r,o,s,a,l,u=this[0],c=0,d=null;if(e===t){if(this.length&&(d=J.data(u),1===u.nodeType&&!J._data(u,"parsedAttrs"))){for(s=u.attributes,l=s.length;l>c;c++)a=s[c].name,a.indexOf("data-")||(a=J.camelCase(a.substring(5)),i(u,a,d[a]));J._data(u,"parsedAttrs",!0)}return d}return"object"==typeof e?this.each(function(){J.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",o=r[1]+"!",J.access(this,function(n){return n===t?(d=this.triggerHandler("getData"+o,[r[0]]),d===t&&u&&(d=J.data(u,e),d=i(u,e,d)),d===t&&r[1]?this.data(r[0]):d):(r[1]=n,void this.each(function(){var t=J(this);t.triggerHandler("setData"+o,r),J.data(this,e,n),t.triggerHandler("changeData"+o,r)}))},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){J.removeData(this,e)})}}),J.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=J._data(e,t),n&&(!i||J.isArray(n)?i=J._data(e,t,J.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=J.queue(e,t),i=n.length,r=n.shift(),o=J._queueHooks(e,t),s=function(){J.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J._data(e,n)||J._data(e,n,{empty:J.Callbacks("once memory").add(function(){J.removeData(e,t+"queue",!0),J.removeData(e,n,!0)})})}}),J.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?J.queue(this[0],e):n===t?this:this.each(function(){var t=J.queue(this,e,n);J._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&J.dequeue(this,e)})},dequeue:function(e){return this.each(function(){J.dequeue(this,e)})},delay:function(e,t){return e=J.fx?J.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=J.Deferred(),s=this,a=this.length,l=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";a--;)i=J._data(s[a],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var vt,yt,bt,_t=/[\t\r\n]/g,wt=/\r/g,xt=/^(?:button|input)$/i,kt=/^(?:button|input|object|select|textarea)$/i,St=/^a(?:rea|)$/i,Ct=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Tt=J.support.getSetAttribute;J.fn.extend({attr:function(e,t){return J.access(this,J.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){J.removeAttr(this,e)})},prop:function(e,t){return J.access(this,J.prop,e,t,arguments.length>1)},removeProp:function(e){return e=J.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,s,a;if(J.isFunction(e))return this.each(function(t){J(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(tt),n=0,i=this.length;i>n;n++)if(r=this[n],1===r.nodeType)if(r.className||1!==t.length){for(o=" "+r.className+" ",s=0,a=t.length;a>s;s++)o.indexOf(" "+t[s]+" ")<0&&(o+=t[s]+" ");r.className=J.trim(o)}else r.className=e;return this},removeClass:function(e){var n,i,r,o,s,a,l;if(J.isFunction(e))return this.each(function(t){J(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(tt),a=0,l=this.length;l>a;a++)if(r=this[a],1===r.nodeType&&r.className){for(i=(" "+r.className+" ").replace(_t," "),o=0,s=n.length;s>o;o++)for(;i.indexOf(" "+n[o]+" ")>=0;)i=i.replace(" "+n[o]+" "," ");r.className=e?J.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return this.each(J.isFunction(e)?function(n){J(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var r,o=0,s=J(this),a=t,l=e.split(tt);r=l[o++];)a=i?a:!s.hasClass(r),s[a?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&J._data(this,"__className__",this.className),this.className=this.className||e===!1?"":J._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(_t," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];{if(arguments.length)return r=J.isFunction(e),this.each(function(i){var o,s=J(this);1===this.nodeType&&(o=r?e.call(this,i,s.val()):e,null==o?o="":"number"==typeof o?o+="":J.isArray(o)&&(o=J.map(o,function(e){return null==e?"":e+""})),n=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=J.valHooks[o.type]||J.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==t?i:(i=o.value,"string"==typeof i?i.replace(wt,""):null==i?"":i)}}}),J.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(J.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&J.nodeName(n.parentNode,"optgroup"))){if(t=J(n).val(),o)return t;s.push(t)}return s},set:function(e,t){var n=J.makeArray(t);return J(e).find("option").each(function(){this.selected=J.inArray(J(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,i,r){var o,s,a,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return r&&J.isFunction(J.fn[n])?J(e)[n](i):"undefined"==typeof e.getAttribute?J.prop(e,n,i):(a=1!==l||!J.isXMLDoc(e),a&&(n=n.toLowerCase(),s=J.attrHooks[n]||(Ct.test(n)?yt:vt)),i!==t?null===i?void J.removeAttr(e,n):s&&"set"in s&&a&&(o=s.set(e,i,n))!==t?o:(e.setAttribute(n,i+""),i):s&&"get"in s&&a&&null!==(o=s.get(e,n))?o:(o=e.getAttribute(n),null===o?t:o))},removeAttr:function(e,t){var n,i,r,o,s=0;if(t&&1===e.nodeType)for(i=t.split(tt);s<i.length;s++)r=i[s],r&&(n=J.propFix[r]||r,o=Ct.test(r),o||J.attr(e,r,""),e.removeAttribute(Tt?r:n),o&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(xt.test(e.nodeName)&&e.parentNode)J.error("type property can't be changed");else if(!J.support.radioValue&&"radio"===t&&J.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return vt&&J.nodeName(e,"button")?vt.get(e,t):t in e?e.value:null},set:function(e,t,n){return vt&&J.nodeName(e,"button")?vt.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,o,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!J.isXMLDoc(e),s&&(n=J.propFix[n]||n,o=J.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):kt.test(e.nodeName)||St.test(e.nodeName)&&e.href?0:t}}}}),yt={get:function(e,n){var i,r=J.prop(e,n);return r===!0||"boolean"!=typeof r&&(i=e.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var i;return t===!1?J.removeAttr(e,n):(i=J.propFix[n]||n,i in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},Tt||(bt={name:!0,id:!0,coords:!0},vt=J.valHooks.button={get:function(e,n){var i;return i=e.getAttributeNode(n),i&&(bt[n]?""!==i.value:i.specified)?i.value:t},set:function(e,t,n){var i=e.getAttributeNode(n);return i||(i=W.createAttribute(n),e.setAttributeNode(i)),i.value=t+""}},J.each(["width","height"],function(e,t){J.attrHooks[t]=J.extend(J.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),J.attrHooks.contenteditable={get:vt.get,set:function(e,t,n){""===t&&(t="false"),vt.set(e,t,n)}}),J.support.hrefNormalized||J.each(["href","src","width","height"],function(e,n){J.attrHooks[n]=J.extend(J.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null===i?t:i}})}),J.support.style||(J.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),J.support.optSelected||(J.propHooks.selected=J.extend(J.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null
}})),J.support.enctype||(J.propFix.enctype="encoding"),J.support.checkOn||J.each(["radio","checkbox"],function(){J.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]=J.extend(J.valHooks[this],{set:function(e,t){return J.isArray(t)?e.checked=J.inArray(J(e).val(),t)>=0:void 0}})});var Et=/^(?:textarea|input|select)$/i,Mt=/^([^\.]*|)(?:\.(.+)|)$/,At=/(?:^|\s)hover(\.\S+|)\b/,jt=/^key/,Nt=/^(?:mouse|contextmenu)|click/,Pt=/^(?:focusinfocus|focusoutblur)$/,Lt=function(e){return J.event.special.hover?e:e.replace(At,"mouseenter$1 mouseleave$1")};J.event={add:function(e,n,i,r,o){var s,a,l,u,c,d,h,p,f,m,g;if(3!==e.nodeType&&8!==e.nodeType&&n&&i&&(s=J._data(e))){for(i.handler&&(f=i,i=f.handler,o=f.selector),i.guid||(i.guid=J.guid++),l=s.events,l||(s.events=l={}),a=s.handle,a||(s.handle=a=function(e){return"undefined"==typeof J||e&&J.event.triggered===e.type?t:J.event.dispatch.apply(a.elem,arguments)},a.elem=e),n=J.trim(Lt(n)).split(" "),u=0;u<n.length;u++)c=Mt.exec(n[u])||[],d=c[1],h=(c[2]||"").split(".").sort(),g=J.event.special[d]||{},d=(o?g.delegateType:g.bindType)||d,g=J.event.special[d]||{},p=J.extend({type:d,origType:c[1],data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&J.expr.match.needsContext.test(o),namespace:h.join(".")},f),m=l[d],m||(m=l[d]=[],m.delegateCount=0,g.setup&&g.setup.call(e,r,h,a)!==!1||(e.addEventListener?e.addEventListener(d,a,!1):e.attachEvent&&e.attachEvent("on"+d,a))),g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=i.guid)),o?m.splice(m.delegateCount++,0,p):m.push(p),J.event.global[d]=!0;e=null}},global:{},remove:function(e,t,n,i,r){var o,s,a,l,u,c,d,h,p,f,m,g=J.hasData(e)&&J._data(e);if(g&&(h=g.events)){for(t=J.trim(Lt(t||"")).split(" "),o=0;o<t.length;o++)if(s=Mt.exec(t[o])||[],a=l=s[1],u=s[2],a){for(p=J.event.special[a]||{},a=(i?p.delegateType:p.bindType)||a,f=h[a]||[],c=f.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=0;d<f.length;d++)m=f[d],!r&&l!==m.origType||n&&n.guid!==m.guid||u&&!u.test(m.namespace)||i&&i!==m.selector&&("**"!==i||!m.selector)||(f.splice(d--,1),m.selector&&f.delegateCount--,p.remove&&p.remove.call(e,m));0===f.length&&c!==f.length&&(p.teardown&&p.teardown.call(e,u,g.handle)!==!1||J.removeEvent(e,a,g.handle),delete h[a])}else for(a in h)J.event.remove(e,a+t[o],n,i,!0);J.isEmptyObject(h)&&(delete g.handle,J.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,r,o){if(!r||3!==r.nodeType&&8!==r.nodeType){var s,a,l,u,c,d,h,p,f,m,g=n.type||n,v=[];if(!Pt.test(g+J.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),a=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),r&&!J.event.customEvent[g]||J.event.global[g]))if(n="object"==typeof n?n[J.expando]?n:new J.Event(g,n):new J.Event(g),n.type=g,n.isTrigger=!0,n.exclusive=a,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=g.indexOf(":")<0?"on"+g:"",r){if(n.result=t,n.target||(n.target=r),i=null!=i?J.makeArray(i):[],i.unshift(n),h=J.event.special[g]||{},!h.trigger||h.trigger.apply(r,i)!==!1){if(f=[[r,h.bindType||g]],!o&&!h.noBubble&&!J.isWindow(r)){for(m=h.delegateType||g,u=Pt.test(m+g)?r:r.parentNode,c=r;u;u=u.parentNode)f.push([u,m]),c=u;c===(r.ownerDocument||W)&&f.push([c.defaultView||c.parentWindow||e,m])}for(l=0;l<f.length&&!n.isPropagationStopped();l++)u=f[l][0],n.type=f[l][1],p=(J._data(u,"events")||{})[n.type]&&J._data(u,"handle"),p&&p.apply(u,i),p=d&&u[d],p&&J.acceptData(u)&&p.apply&&p.apply(u,i)===!1&&n.preventDefault();return n.type=g,o||n.isDefaultPrevented()||h._default&&h._default.apply(r.ownerDocument,i)!==!1||"click"===g&&J.nodeName(r,"a")||!J.acceptData(r)||d&&r[g]&&("focus"!==g&&"blur"!==g||0!==n.target.offsetWidth)&&!J.isWindow(r)&&(c=r[d],c&&(r[d]=null),J.event.triggered=g,r[g](),J.event.triggered=t,c&&(r[d]=c)),n.result}}else{s=J.cache;for(l in s)s[l].events&&s[l].events[g]&&J.event.trigger(n,i,s[l].handle.elem,!0)}}},dispatch:function(n){n=J.event.fix(n||e.event);var i,r,o,s,a,l,u,c,d,h=(J._data(this,"events")||{})[n.type]||[],p=h.delegateCount,f=G.call(arguments),m=!n.exclusive&&!n.namespace,g=J.event.special[n.type]||{},v=[];if(f[0]=n,n.delegateTarget=this,!g.preDispatch||g.preDispatch.call(this,n)!==!1){if(p&&(!n.button||"click"!==n.type))for(o=n.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0||"click"!==n.type){for(a={},u=[],i=0;p>i;i++)c=h[i],d=c.selector,a[d]===t&&(a[d]=c.needsContext?J(d,this).index(o)>=0:J.find(d,this,null,[o]).length),a[d]&&u.push(c);u.length&&v.push({elem:o,matches:u})}for(h.length>p&&v.push({elem:this,matches:h.slice(p)}),i=0;i<v.length&&!n.isPropagationStopped();i++)for(l=v[i],n.currentTarget=l.elem,r=0;r<l.matches.length&&!n.isImmediatePropagationStopped();r++)c=l.matches[r],(m||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))&&(n.data=c.data,n.handleObj=c,s=((J.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,f),s!==t&&(n.result=s,s===!1&&(n.preventDefault(),n.stopPropagation())));return g.postDispatch&&g.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,s=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||W,r=i.documentElement,o=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[J.expando])return e;var t,n,i=e,r=J.event.fixHooks[e.type]||{},o=r.props?this.props.concat(r.props):this.props;for(e=J.Event(i),t=o.length;t;)n=o[--t],e[n]=i[n];return e.target||(e.target=i.srcElement||W),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,i):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){J.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,i){var r=J.extend(new J.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?J.event.trigger(r,null,t):J.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},J.event.handle=J.event.dispatch,J.removeEvent=W.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),e.detachEvent(i,n))},J.Event=function(e,t){return this instanceof J.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?s:o):this.type=e,t&&J.extend(this,t),this.timeStamp=e&&e.timeStamp||J.now(),void(this[J.expando]=!0)):new J.Event(e,t)},J.Event.prototype={preventDefault:function(){this.isDefaultPrevented=s;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=s;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},J.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){J.event.special[e]={delegateType:t,bindType:t,handle:function(e){{var n,i=this,r=e.relatedTarget,o=e.handleObj;o.selector}return(!r||r!==i&&!J.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),J.support.submitBubbles||(J.event.special.submit={setup:function(){return J.nodeName(this,"form")?!1:void J.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=J.nodeName(n,"input")||J.nodeName(n,"button")?n.form:t;i&&!J._data(i,"_submit_attached")&&(J.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),J._data(i,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&J.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return J.nodeName(this,"form")?!1:void J.event.remove(this,"._submit")}}),J.support.changeBubbles||(J.event.special.change={setup:function(){return Et.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(J.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),J.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),J.event.simulate("change",this,e,!0)})),!1):void J.event.add(this,"beforeactivate._change",function(e){var t=e.target;Et.test(t.nodeName)&&!J._data(t,"_change_attached")&&(J.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||J.event.simulate("change",this.parentNode,e,!0)}),J._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return J.event.remove(this,"._change"),!Et.test(this.nodeName)}}),J.support.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){J.event.simulate(t,e.target,J.event.fix(e),!0)};J.event.special[t]={setup:function(){0===n++&&W.addEventListener(e,i,!0)},teardown:function(){0===--n&&W.removeEventListener(e,i,!0)}}}),J.fn.extend({on:function(e,n,i,r,s){var a,l;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(l in e)this.on(l,n,i,e[l],s);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=o;else if(!r)return this;return 1===s&&(a=r,r=function(e){return J().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=J.guid++)),this.each(function(){J.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,s;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,J(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(s in e)this.off(s,n,e[s]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=o),this.each(function(){J.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return J(this.context).on(e,this.selector,t,n),this},die:function(e,t){return J(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){J.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?J.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||J.guid++,i=0,r=function(n){var r=(J._data(this,"lastToggle"+e.guid)||0)%i;return J._data(this,"lastToggle"+e.guid,r+1),n.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=n;i<t.length;)t[i++].guid=n;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){J.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},jt.test(t)&&(J.event.fixHooks[t]=J.event.keyHooks),Nt.test(t)&&(J.event.fixHooks[t]=J.event.mouseHooks)}),/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
function(e,t){function n(e,t,n,i){n=n||[],t=t||N;var r,o,s,a,l=t.nodeType;if(!e||"string"!=typeof e)return n;if(1!==l&&9!==l)return[];if(s=w(t),!s&&!i&&(r=nt.exec(e)))if(a=r[1]){if(9===l){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&x(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return F.apply(n,D.call(t.getElementsByTagName(e),0)),n;if((a=r[3])&&ht&&t.getElementsByClassName)return F.apply(n,D.call(t.getElementsByClassName(a),0)),n}return m(e.replace(Q,"$1"),t,n,i,s)}function i(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function r(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function o(e){return z(function(t){return t=+t,z(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function s(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}function a(e,t){var i,r,o,s,a,l,u,c=B[A][e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=b.preFilter;a;){(!i||(r=Z.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=et.exec(a))&&(o.push(i=new j(r.shift())),a=a.slice(i.length),i.type=r[0].replace(Q," "));for(s in b.filter)!(r=at[s].exec(a))||u[s]&&!(r=u[s](r))||(o.push(i=new j(r.shift())),a=a.slice(i.length),i.type=s,i.matches=r);if(!i)break}return t?a.length:a?n.error(e):B(e,l).slice(0)}function l(e,t,n){var i=t.dir,r=n&&"parentNode"===t.dir,o=I++;return t.first?function(t,n,o){for(;t=t[i];)if(r||1===t.nodeType)return e(t,n,o)}:function(t,n,s){if(s){for(;t=t[i];)if((r||1===t.nodeType)&&e(t,n,s))return t}else for(var a,l=L+" "+o+" ",u=l+v;t=t[i];)if(r||1===t.nodeType){if((a=t[A])===u)return t.sizset;if("string"==typeof a&&0===a.indexOf(l)){if(t.sizset)return t}else{if(t[A]=u,e(t,n,s))return t.sizset=!0,t;t.sizset=!1}}}}function u(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function c(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;l>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),u&&t.push(a));return s}function d(e,t,n,i,r,o){return i&&!i[A]&&(i=d(i)),r&&!r[A]&&(r=d(r,o)),z(function(o,s,a,l){var u,d,h,p=[],m=[],g=s.length,v=o||f(t||"*",a.nodeType?[a]:a,[]),y=!e||!o&&t?v:c(v,p,e,a,l),b=n?r||(o?e:g||i)?[]:s:y;if(n&&n(y,b,a,l),i)for(u=c(b,m),i(u,[],a,l),d=u.length;d--;)(h=u[d])&&(b[m[d]]=!(y[m[d]]=h));if(o){if(r||e){if(r){for(u=[],d=b.length;d--;)(h=b[d])&&u.push(y[d]=h);r(null,b=[],u,l)}for(d=b.length;d--;)(h=b[d])&&(u=r?R.call(o,h):p[d])>-1&&(o[u]=!(s[u]=h))}}else b=c(b===s?b.splice(g,b.length):b),r?r(null,s,b,l):F.apply(s,b)})}function h(e){for(var t,n,i,r=e.length,o=b.relative[e[0].type],s=o||b.relative[" "],a=o?1:0,c=l(function(e){return e===t},s,!0),p=l(function(e){return R.call(t,e)>-1},s,!0),f=[function(e,n,i){return!o&&(i||n!==T)||((t=n).nodeType?c(e,n,i):p(e,n,i))}];r>a;a++)if(n=b.relative[e[a].type])f=[l(u(f),n)];else{if(n=b.filter[e[a].type].apply(null,e[a].matches),n[A]){for(i=++a;r>i&&!b.relative[e[i].type];i++);return d(a>1&&u(f),a>1&&e.slice(0,a-1).join("").replace(Q,"$1"),n,i>a&&h(e.slice(a,i)),r>i&&h(e=e.slice(i)),r>i&&e.join(""))}f.push(n)}return u(f)}function p(e,t){var i=t.length>0,r=e.length>0,o=function(s,a,l,u,d){var h,p,f,m=[],g=0,y="0",_=s&&[],w=null!=d,x=T,k=s||r&&b.find.TAG("*",d&&a.parentNode||a),S=L+=null==x?1:Math.E;for(w&&(T=a!==N&&a,v=o.el);null!=(h=k[y]);y++){if(r&&h){for(p=0;f=e[p];p++)if(f(h,a,l)){u.push(h);break}w&&(L=S,v=++o.el)}i&&((h=!f&&h)&&g--,s&&_.push(h))}if(g+=y,i&&y!==g){for(p=0;f=t[p];p++)f(_,m,a,l);if(s){if(g>0)for(;y--;)_[y]||m[y]||(m[y]=O.call(u));m=c(m)}F.apply(u,m),w&&!s&&m.length>0&&g+t.length>1&&n.uniqueSort(u)}return w&&(L=S,T=x),_};return o.el=0,i?z(o):o}function f(e,t,i){for(var r=0,o=t.length;o>r;r++)n(e,t[r],i);return i}function m(e,t,n,i,r){{var o,s,l,u,c,d=a(e);d.length}if(!i&&1===d.length){if(s=d[0]=d[0].slice(0),s.length>2&&"ID"===(l=s[0]).type&&9===t.nodeType&&!r&&b.relative[s[1].type]){if(t=b.find.ID(l.matches[0].replace(st,""),t,r)[0],!t)return n;e=e.slice(s.shift().length)}for(o=at.POS.test(e)?-1:s.length-1;o>=0&&(l=s[o],!b.relative[u=l.type]);o--)if((c=b.find[u])&&(i=c(l.matches[0].replace(st,""),it.test(s[0].type)&&t.parentNode||t,r))){if(s.splice(o,1),e=i.length&&s.join(""),!e)return F.apply(n,D.call(i,0)),n;break}}return k(e,d)(i,t,r,n,it.test(e)),n}function g(){}var v,y,b,_,w,x,k,S,C,T,E=!0,M="undefined",A=("sizcache"+Math.random()).replace(".",""),j=String,N=e.document,P=N.documentElement,L=0,I=0,O=[].pop,F=[].push,D=[].slice,R=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},z=function(e,t){return e[A]=null==t||t,e},H=function(){var e={},t=[];return z(function(n,i){return t.push(n)>b.cacheLength&&delete e[t.shift()],e[n+" "]=i},e)},W=H(),B=H(),U=H(),q="[\\x20\\t\\r\\n\\f]",V="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",$=V.replace("w","w#"),G="([*^$|!~]?=)",Y="\\["+q+"*("+V+")"+q+"*(?:"+G+q+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+$+")|)|)"+q+"*\\]",X=":("+V+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+Y+")|[^:]|\\\\.)*|.*))\\)|)",K=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+q+"*((?:-\\d)?\\d*)"+q+"*\\)|)(?=[^-]|$)",Q=new RegExp("^"+q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+q+"+$","g"),Z=new RegExp("^"+q+"*,"+q+"*"),et=new RegExp("^"+q+"*([\\x20\\t\\r\\n\\f>+~])"+q+"*"),tt=new RegExp(X),nt=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,it=/[\x20\t\r\n\f]*[+~]/,rt=/h\d/i,ot=/input|select|textarea|button/i,st=/\\(?!\\)/g,at={ID:new RegExp("^#("+V+")"),CLASS:new RegExp("^\\.("+V+")"),NAME:new RegExp("^\\[name=['\"]?("+V+")['\"]?\\]"),TAG:new RegExp("^("+V.replace("w","w*")+")"),ATTR:new RegExp("^"+Y),PSEUDO:new RegExp("^"+X),POS:new RegExp(K,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+q+"*(even|odd|(([+-]|)(\\d*)n|)"+q+"*(?:([+-]|)"+q+"*(\\d+)|))"+q+"*\\)|)","i"),needsContext:new RegExp("^"+q+"*[>+~]|"+K,"i")},lt=function(e){var t=N.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},ut=lt(function(e){return e.appendChild(N.createComment("")),!e.getElementsByTagName("*").length}),ct=lt(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==M&&"#"===e.firstChild.getAttribute("href")}),dt=lt(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),ht=lt(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),pt=lt(function(e){e.id=A+0,e.innerHTML="<a name='"+A+"'></a><div name='"+A+"'></div>",P.insertBefore(e,P.firstChild);var t=N.getElementsByName&&N.getElementsByName(A).length===2+N.getElementsByName(A+0).length;return y=!N.getElementById(A),P.removeChild(e),t});try{D.call(P.childNodes,0)[0].nodeType}catch(ft){D=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},_=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=_(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=_(t);return n},w=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},x=n.contains=P.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!!(i&&1===i.nodeType&&n.contains&&n.contains(i))}:P.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,i=w(e);return i||(t=t.toLowerCase()),(n=b.attrHandle[t])?n(e):i||dt?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},b=n.selectors={cacheLength:50,createPseudo:z,match:at,attrHandle:ct?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:y?function(e,t,n){if(typeof t.getElementById!==M&&!n){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}}:function(e,n,i){if(typeof n.getElementById!==M&&!i){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==M&&r.getAttributeNode("id").value===e?[r]:t:[]}},TAG:ut?function(e,t){return typeof t.getElementsByTagName!==M?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var i,r=[],o=0;i=n[o];o++)1===i.nodeType&&r.push(i);return r}return n},NAME:pt&&function(e,t){return typeof t.getElementsByName!==M?t.getElementsByName(name):void 0},CLASS:ht&&function(e,t,n){return typeof t.getElementsByClassName===M||n?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(st,""),e[3]=(e[4]||e[5]||"").replace(st,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;return at.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(tt.test(t)&&(n=a(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t),e.slice(0,3))}},filter:{ID:y?function(e){return e=e.replace(st,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(st,""),function(t){var n=typeof t.getAttributeNode!==M&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(st,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=W[A][e+" "];return t||(t=new RegExp("(^|"+q+")"+e+"("+q+"|$)"))&&W(e,function(e){return t.test(e.className||typeof e.getAttribute!==M&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(r){var o=n.attr(r,e);return null==o?"!="===t:t?(o+="","="===t?o===i:"!="===t?o!==i:"^="===t?i&&0===o.indexOf(i):"*="===t?i&&o.indexOf(i)>-1:"$="===t?i&&o.substr(o.length-i.length)===i:"~="===t?(" "+o+" ").indexOf(i)>-1:"|="===t?o===i||o.substr(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i){return"nth"===e?function(e){var t,r,o=e.parentNode;if(1===n&&0===i)return!0;if(o)for(r=0,t=o.firstChild;t&&(1!==t.nodeType||(r++,e!==t));t=t.nextSibling);return r-=i,r===n||r%n===0&&r/n>=0}:function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var i,r=b.pseudos[e]||b.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[A]?r(t):r.length>1?(i=[e,e,"",t],b.setFilters.hasOwnProperty(e.toLowerCase())?z(function(e,n){for(var i,o=r(e,t),s=o.length;s--;)i=R.call(e,o[s]),e[i]=!(n[i]=o[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:z(function(e){var t=[],n=[],i=k(e.replace(Q,"$1"));return i[A]?z(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:z(function(e){return function(t){return n(e,t).length>0}}),contains:z(function(e){return function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!b.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return rt.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:i("radio"),checkbox:i("checkbox"),file:i("file"),password:i("password"),image:i("image"),submit:r("submit"),reset:r("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return ot.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[0>n?n+t:n]}),even:o(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:o(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},S=P.compareDocumentPosition?function(e,t){return e===t?(C=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return C=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,r=[],o=[],a=e.parentNode,l=t.parentNode,u=a;if(a===l)return s(e,t);if(!a)return-1;if(!l)return 1;for(;u;)r.unshift(u),u=u.parentNode;for(u=l;u;)o.unshift(u),u=u.parentNode;n=r.length,i=o.length;for(var c=0;n>c&&i>c;c++)if(r[c]!==o[c])return s(r[c],o[c]);return c===n?s(e,o[c],-1):s(r[c],t,1)},[0,0].sort(S),E=!C,n.uniqueSort=function(e){var t,n=[],i=1,r=0;if(C=E,e.sort(S),C){for(;t=e[i];i++)t===e[i-1]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},k=n.compile=function(e,t){var n,i=[],r=[],o=U[A][e+" "];if(!o){for(t||(t=a(e)),n=t.length;n--;)o=h(t[n]),o[A]?i.push(o):r.push(o);o=U(e,p(r,i))}return o},N.querySelectorAll&&!function(){var e,t=m,i=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[":focus"],s=[":active"],l=P.matchesSelector||P.mozMatchesSelector||P.webkitMatchesSelector||P.oMatchesSelector||P.msMatchesSelector;lt(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||o.push("\\["+q+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||o.push(":checked")}),lt(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&o.push("[*^$]="+q+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=new RegExp(o.join("|")),m=function(e,n,r,s,l){if(!s&&!l&&!o.test(e)){var u,c,d=!0,h=A,p=n,f=9===n.nodeType&&e;if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){for(u=a(e),(d=n.getAttribute("id"))?h=d.replace(i,"\\$&"):n.setAttribute("id",h),h="[id='"+h+"'] ",c=u.length;c--;)u[c]=h+u[c].join("");p=it.test(e)&&n.parentNode||n,f=u.join(",")}if(f)try{return F.apply(r,D.call(p.querySelectorAll(f),0)),r}catch(m){}finally{d||n.removeAttribute("id")}}return t(e,n,r,s,l)},l&&(lt(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),s.push("!=",X)}catch(n){}}),s=new RegExp(s.join("|")),n.matchesSelector=function(t,i){if(i=i.replace(r,"='$1']"),!w(t)&&!s.test(i)&&!o.test(i))try{var a=l.call(t,i);if(a||e||t.document&&11!==t.document.nodeType)return a}catch(u){}return n(i,null,null,[t]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=g.prototype=b.pseudos,b.setFilters=new g,n.attr=J.attr,J.find=n,J.expr=n.selectors,J.expr[":"]=J.expr.pseudos,J.unique=n.uniqueSort,J.text=n.getText,J.isXMLDoc=n.isXML,J.contains=n.contains}(e);var It=/Until$/,Ot=/^(?:parents|prev(?:Until|All))/,Ft=/^.[^:#\[\.,]*$/,Dt=J.expr.match.needsContext,Rt={children:!0,contents:!0,next:!0,prev:!0};J.fn.extend({find:function(e){var t,n,i,r,o,s,a=this;if("string"!=typeof e)return J(e).filter(function(){for(t=0,n=a.length;n>t;t++)if(J.contains(a[t],this))return!0});for(s=this.pushStack("","find",e),t=0,n=this.length;n>t;t++)if(i=s.length,J.find(e,this[t],s),t>0)for(r=i;r<s.length;r++)for(o=0;i>o;o++)if(s[o]===s[r]){s.splice(r--,1);break}return s},has:function(e){var t,n=J(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(J.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(u(this,e,!1),"not",e)},filter:function(e){return this.pushStack(u(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?Dt.test(e)?J(e,this.context).index(this[0])>=0:J.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=Dt.test(e)||"string"!=typeof e?J(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(s?s.index(n)>-1:J.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return o=o.length>1?J.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?J.inArray(this[0],J(e)):J.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?J(e,t):J.makeArray(e&&e.nodeType?[e]:e),i=J.merge(this.get(),n);return this.pushStack(a(n[0])||a(i[0])?i:J.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),J.fn.andSelf=J.fn.addBack,J.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return J.dir(e,"parentNode")},parentsUntil:function(e,t,n){return J.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return J.dir(e,"nextSibling")},prevAll:function(e){return J.dir(e,"previousSibling")},nextUntil:function(e,t,n){return J.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return J.dir(e,"previousSibling",n)},siblings:function(e){return J.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return J.sibling(e.firstChild)},contents:function(e){return J.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:J.merge([],e.childNodes)}},function(e,t){J.fn[e]=function(n,i){var r=J.map(this,t,n);return It.test(e)||(i=n),i&&"string"==typeof i&&(r=J.filter(i,r)),r=this.length>1&&!Rt[e]?J.unique(r):r,this.length>1&&Ot.test(e)&&(r=r.reverse()),this.pushStack(r,e,G.call(arguments).join(","))}}),J.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?J.find.matchesSelector(t[0],e)?[t[0]]:[]:J.find.matches(e,t)},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!J(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var zt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ht=/ jQuery\d+="(?:null|\d+)"/g,Wt=/^\s+/,Bt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ut=/<([\w:]+)/,qt=/<tbody/i,Vt=/<|&#?\w+;/,$t=/<(?:script|style|link)/i,Gt=/<(?:script|object|embed|option|style)/i,Yt=new RegExp("<(?:"+zt+")[\\s/>]","i"),Xt=/^(?:checkbox|radio)$/,Kt=/checked\s*(?:[^=]|=\s*.checked.)/i,Qt=/\/(java|ecma)script/i,Jt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},en=c(W),tn=en.appendChild(W.createElement("div"));Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td,J.support.htmlSerialize||(Zt._default=[1,"X<div>","</div>"]),J.fn.extend({text:function(e){return J.access(this,function(e){return e===t?J.text(this):this.empty().append((this[0]&&this[0].ownerDocument||W).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(J.isFunction(e))return this.each(function(t){J(this).wrapAll(e.call(this,t))});if(this[0]){var t=J(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(J.isFunction(e)?function(t){J(this).wrapInner(e.call(this,t))}:function(){var t=J(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=J.isFunction(e);return this.each(function(n){J(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=J.clean(arguments);return this.pushStack(J.merge(e,this),"before",this.selector)}},after:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=J.clean(arguments);return this.pushStack(J.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||J.filter(e,[n]).length)&&(t||1!==n.nodeType||(J.cleanData(n.getElementsByTagName("*")),J.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&J.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return J.clone(this,e,t)})},html:function(e){return J.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Ht,""):t;if(!("string"!=typeof e||$t.test(e)||!J.support.htmlSerialize&&Yt.test(e)||!J.support.leadingWhitespace&&Wt.test(e)||Zt[(Ut.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Bt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(J.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return a(this[0])?this.length?this.pushStack(J(J.isFunction(e)?e():e),"replaceWith",e):this:J.isFunction(e)?this.each(function(t){var n=J(this),i=n.html();n.replaceWith(e.call(this,t,i))}):("string"!=typeof e&&(e=J(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;J(this).remove(),t?J(t).before(e):J(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=[].concat.apply([],e);var r,o,s,a,l=0,u=e[0],c=[],h=this.length;if(!J.support.checkClone&&h>1&&"string"==typeof u&&Kt.test(u))return this.each(function(){J(this).domManip(e,n,i)});if(J.isFunction(u))return this.each(function(r){var o=J(this);e[0]=u.call(this,r,n?o.html():t),o.domManip(e,n,i)});if(this[0]){if(r=J.buildFragment(e,this,c),s=r.fragment,o=s.firstChild,1===s.childNodes.length&&(s=o),o)for(n=n&&J.nodeName(o,"tr"),a=r.cacheable||h-1;h>l;l++)i.call(n&&J.nodeName(this[l],"table")?d(this[l],"tbody"):this[l],l===a?s:J.clone(s,!0,!0));s=o=null,c.length&&J.each(c,function(e,t){t.src?J.ajax?J.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):J.error("no ajax"):J.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Jt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),J.buildFragment=function(e,n,i){var r,o,s,a=e[0];return n=n||W,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,!(1===e.length&&"string"==typeof a&&a.length<512&&n===W&&"<"===a.charAt(0))||Gt.test(a)||!J.support.checkClone&&Kt.test(a)||!J.support.html5Clone&&Yt.test(a)||(o=!0,r=J.fragments[a],s=r!==t),r||(r=n.createDocumentFragment(),J.clean(e,n,r,i),o&&(J.fragments[a]=s&&r)),{fragment:r,cacheable:o}},J.fragments={},J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){J.fn[e]=function(n){var i,r=0,o=[],s=J(n),a=s.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===a)return s[t](this[0]),this;for(;a>r;r++)i=(r>0?this.clone(!0):this).get(),J(s[r])[t](i),o=o.concat(i);return this.pushStack(o,e,s.selector)}}),J.extend({clone:function(e,t,n){var i,r,o,s;if(J.support.html5Clone||J.isXMLDoc(e)||!Yt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(tn.innerHTML=e.outerHTML,tn.removeChild(s=tn.firstChild)),!(J.support.noCloneEvent&&J.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||J.isXMLDoc(e)))for(p(e,s),i=f(e),r=f(s),o=0;i[o];++o)r[o]&&p(i[o],r[o]);if(t&&(h(e,s),n))for(i=f(e),r=f(s),o=0;i[o];++o)h(i[o],r[o]);return i=r=null,s},clean:function(e,t,n,i){var r,o,s,a,l,u,d,h,p,f,g,v=t===W&&en,y=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=W),r=0;null!=(s=e[r]);r++)if("number"==typeof s&&(s+=""),s){if("string"==typeof s)if(Vt.test(s)){for(v=v||c(t),d=t.createElement("div"),v.appendChild(d),s=s.replace(Bt,"<$1></$2>"),a=(Ut.exec(s)||["",""])[1].toLowerCase(),l=Zt[a]||Zt._default,u=l[0],d.innerHTML=l[1]+s+l[2];u--;)d=d.lastChild;if(!J.support.tbody)for(h=qt.test(s),p="table"!==a||h?"<table>"!==l[1]||h?[]:d.childNodes:d.firstChild&&d.firstChild.childNodes,o=p.length-1;o>=0;--o)J.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o]);!J.support.leadingWhitespace&&Wt.test(s)&&d.insertBefore(t.createTextNode(Wt.exec(s)[0]),d.firstChild),s=d.childNodes,d.parentNode.removeChild(d)}else s=t.createTextNode(s);s.nodeType?y.push(s):J.merge(y,s)}if(d&&(s=d=v=null),!J.support.appendChecked)for(r=0;null!=(s=y[r]);r++)J.nodeName(s,"input")?m(s):"undefined"!=typeof s.getElementsByTagName&&J.grep(s.getElementsByTagName("input"),m);if(n)for(f=function(e){return!e.type||Qt.test(e.type)?i?i.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},r=0;null!=(s=y[r]);r++)J.nodeName(s,"script")&&f(s)||(n.appendChild(s),"undefined"!=typeof s.getElementsByTagName&&(g=J.grep(J.merge([],s.getElementsByTagName("script")),f),y.splice.apply(y,[r+1,0].concat(g)),r+=g.length));return y},cleanData:function(e,t){for(var n,i,r,o,s=0,a=J.expando,l=J.cache,u=J.support.deleteExpando,c=J.event.special;null!=(r=e[s]);s++)if((t||J.acceptData(r))&&(i=r[a],n=i&&l[i])){if(n.events)for(o in n.events)c[o]?J.event.remove(r,o):J.removeEvent(r,o,n.handle);l[i]&&(delete l[i],u?delete r[a]:r.removeAttribute?r.removeAttribute(a):r[a]=null,J.deletedIds.push(i))}}}),function(){var e,t;J.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=J.uaMatch(U.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),J.browser=t,J.sub=function(){function e(t,n){return new e.fn.init(t,n)}J.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof J&&!(i instanceof e)&&(i=e(i)),J.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(W);return e}}();var nn,rn,on,sn=/alpha\([^)]*\)/i,an=/opacity=([^)]*)/,ln=/^(top|right|bottom|left)$/,un=/^(none|table(?!-c[ea]).+)/,cn=/^margin/,dn=new RegExp("^("+Z+")(.*)$","i"),hn=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),pn=new RegExp("^([-+])=("+Z+")","i"),fn={BODY:"block"},mn={position:"absolute",visibility:"hidden",display:"block"},gn={letterSpacing:0,fontWeight:400},vn=["Top","Right","Bottom","Left"],yn=["Webkit","O","Moz","ms"],bn=J.fn.toggle;J.fn.extend({css:function(e,n){return J.access(this,function(e,n,i){return i!==t?J.style(e,n,i):J.css(e,n)},e,n,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e,t){var n="boolean"==typeof e;return J.isFunction(e)&&J.isFunction(t)?bn.apply(this,arguments):this.each(function(){(n?e:v(this))?J(this).show():J(this).hide()})}}),J.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":J.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,a,l=J.camelCase(n),u=e.style;if(n=J.cssProps[l]||(J.cssProps[l]=g(u,l)),a=J.cssHooks[n]||J.cssHooks[l],i===t)return a&&"get"in a&&(o=a.get(e,!1,r))!==t?o:u[n];if(s=typeof i,"string"===s&&(o=pn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(J.css(e,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||J.cssNumber[l]||(i+="px"),a&&"set"in a&&(i=a.set(e,i,r))===t)))try{u[n]=i}catch(c){}}},css:function(e,n,i,r){var o,s,a,l=J.camelCase(n);return n=J.cssProps[l]||(J.cssProps[l]=g(e.style,l)),a=J.cssHooks[n]||J.cssHooks[l],a&&"get"in a&&(o=a.get(e,!0,r)),o===t&&(o=nn(e,n)),"normal"===o&&n in gn&&(o=gn[n]),i||r!==t?(s=parseFloat(o),i||J.isNumeric(s)?s||0:o):o},swap:function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];i=n.call(e);for(r in t)e.style[r]=o[r];return i}}),e.getComputedStyle?nn=function(t,n){var i,r,o,s,a=e.getComputedStyle(t,null),l=t.style;return a&&(i=a.getPropertyValue(n)||a[n],""!==i||J.contains(t.ownerDocument,t)||(i=J.style(t,n)),hn.test(i)&&cn.test(n)&&(r=l.width,o=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=i,i=a.width,l.width=r,l.minWidth=o,l.maxWidth=s)),i}:W.documentElement.currentStyle&&(nn=function(e,t){var n,i,r=e.currentStyle&&e.currentStyle[t],o=e.style;return null==r&&o&&o[t]&&(r=o[t]),hn.test(r)&&!ln.test(t)&&(n=o.left,i=e.runtimeStyle&&e.runtimeStyle.left,i&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":r,r=o.pixelLeft+"px",o.left=n,i&&(e.runtimeStyle.left=i)),""===r?"auto":r}),J.each(["height","width"],function(e,t){J.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&un.test(nn(e,"display"))?J.swap(e,mn,function(){return w(e,t,i)}):w(e,t,i):void 0},set:function(e,n,i){return b(e,n,i?_(e,t,i,J.support.boxSizing&&"border-box"===J.css(e,"boxSizing")):0)}}}),J.support.opacity||(J.cssHooks.opacity={get:function(e,t){return an.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=J.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,t>=1&&""===J.trim(o.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=sn.test(o)?o.replace(sn,r):o+" "+r)}}),J(function(){J.support.reliableMarginRight||(J.cssHooks.marginRight={get:function(e,t){return J.swap(e,{display:"inline-block"},function(){return t?nn(e,"marginRight"):void 0})}}),!J.support.pixelPosition&&J.fn.position&&J.each(["top","left"],function(e,t){J.cssHooks[t]={get:function(e,n){if(n){var i=nn(e,t);return hn.test(i)?J(e).position()[t]+"px":i}}}})}),J.expr&&J.expr.filters&&(J.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!J.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nn(e,"display"))},J.expr.filters.visible=function(e){return!J.expr.filters.hidden(e)}),J.each({margin:"",padding:"",border:"Width"},function(e,t){J.cssHooks[e+t]={expand:function(n){var i,r="string"==typeof n?n.split(" "):[n],o={};for(i=0;4>i;i++)o[e+vn[i]+t]=r[i]||r[i-2]||r[0];return o}},cn.test(e)||(J.cssHooks[e+t].set=b)});var _n=/%20/g,wn=/\[\]$/,xn=/\r?\n/g,kn=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Sn=/^(?:select|textarea)/i;J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?J.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Sn.test(this.nodeName)||kn.test(this.type))}).map(function(e,t){var n=J(this).val();return null==n?null:J.isArray(n)?J.map(n,function(e){return{name:t.name,value:e.replace(xn,"\r\n")}}):{name:t.name,value:n.replace(xn,"\r\n")}}).get()}}),J.param=function(e,n){var i,r=[],o=function(e,t){t=J.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)
};if(n===t&&(n=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(e)||e.jquery&&!J.isPlainObject(e))J.each(e,function(){o(this.name,this.value)});else for(i in e)k(i,e[i],n,o);return r.join("&").replace(_n,"+")};var Cn,Tn,En=/#.*$/,Mn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,An=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,jn=/^(?:GET|HEAD)$/,Nn=/^\/\//,Pn=/\?/,Ln=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,In=/([?&])_=[^&]*/,On=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Fn=J.fn.load,Dn={},Rn={},zn=["*/"]+["*"];try{Tn=B.href}catch(Hn){Tn=W.createElement("a"),Tn.href="",Tn=Tn.href}Cn=On.exec(Tn.toLowerCase())||[],J.fn.load=function(e,n,i){if("string"!=typeof e&&Fn)return Fn.apply(this,arguments);if(!this.length)return this;var r,o,s,a=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),J.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(o="POST"),J.ajax({url:e,type:o,dataType:"html",data:n,complete:function(e,t){i&&a.each(i,s||[e.responseText,t,e])}}).done(function(e){s=arguments,a.html(r?J("<div>").append(e.replace(Ln,"")).find(r):e)}),this},J.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){J.fn[t]=function(e){return this.on(t,e)}}),J.each(["get","post"],function(e,n){J[n]=function(e,i,r,o){return J.isFunction(i)&&(o=o||r,r=i,i=t),J.ajax({type:n,url:e,data:i,success:r,dataType:o})}}),J.extend({getScript:function(e,n){return J.get(e,t,n,"script")},getJSON:function(e,t,n){return J.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?T(e,J.ajaxSettings):(t=e,e=J.ajaxSettings),T(e,t),e},ajaxSettings:{url:Tn,isLocal:An.test(Cn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":zn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:S(Dn),ajaxTransport:S(Rn),ajax:function(e,n){function i(e,n,i,s){var u,d,y,b,w,k=n;2!==_&&(_=2,l&&clearTimeout(l),a=t,o=s||"",x.readyState=e>0?4:0,i&&(b=E(h,x,i)),e>=200&&300>e||304===e?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(J.lastModified[r]=w),w=x.getResponseHeader("Etag"),w&&(J.etag[r]=w)),304===e?(k="notmodified",u=!0):(u=M(h,b),k=u.state,d=u.data,y=u.error,u=!y)):(y=k,(!k||e)&&(k="error",0>e&&(e=0))),x.status=e,x.statusText=(n||k)+"",u?m.resolveWith(p,[d,k,x]):m.rejectWith(p,[x,k,y]),x.statusCode(v),v=t,c&&f.trigger("ajax"+(u?"Success":"Error"),[x,h,u?d:y]),g.fireWith(p,[x,k]),c&&(f.trigger("ajaxComplete",[x,h]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,s,a,l,u,c,d,h=J.ajaxSetup({},n),p=h.context||h,f=p!==h&&(p.nodeType||p instanceof J)?J(p):J.event,m=J.Deferred(),g=J.Callbacks("once memory"),v=h.statusCode||{},y={},b={},_=0,w="canceled",x={readyState:0,setRequestHeader:function(e,t){if(!_){var n=e.toLowerCase();e=b[n]=b[n]||e,y[e]=t}return this},getAllResponseHeaders:function(){return 2===_?o:null},getResponseHeader:function(e){var n;if(2===_){if(!s)for(s={};n=Mn.exec(o);)s[n[1].toLowerCase()]=n[2];n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return _||(h.mimeType=e),this},abort:function(e){return e=e||w,a&&a.abort(e),i(0,e),this}};if(m.promise(x),x.success=x.done,x.error=x.fail,x.complete=g.add,x.statusCode=function(e){if(e){var t;if(2>_)for(t in e)v[t]=[v[t],e[t]];else t=e[x.status],x.always(t)}return this},h.url=((e||h.url)+"").replace(En,"").replace(Nn,Cn[1]+"//"),h.dataTypes=J.trim(h.dataType||"*").toLowerCase().split(tt),null==h.crossDomain&&(u=On.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]===Cn[1]&&u[2]===Cn[2]&&(u[3]||("http:"===u[1]?80:443))==(Cn[3]||("http:"===Cn[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=J.param(h.data,h.traditional)),C(Dn,h,n,x),2===_)return x;if(c=h.global,h.type=h.type.toUpperCase(),h.hasContent=!jn.test(h.type),c&&0===J.active++&&J.event.trigger("ajaxStart"),!h.hasContent&&(h.data&&(h.url+=(Pn.test(h.url)?"&":"?")+h.data,delete h.data),r=h.url,h.cache===!1)){var k=J.now(),S=h.url.replace(In,"$1_="+k);h.url=S+(S===h.url?(Pn.test(h.url)?"&":"?")+"_="+k:"")}(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",h.contentType),h.ifModified&&(r=r||h.url,J.lastModified[r]&&x.setRequestHeader("If-Modified-Since",J.lastModified[r]),J.etag[r]&&x.setRequestHeader("If-None-Match",J.etag[r])),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+zn+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)x.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(h.beforeSend.call(p,x,h)===!1||2===_))return x.abort();w="abort";for(d in{success:1,error:1,complete:1})x[d](h[d]);if(a=C(Rn,h,n,x)){x.readyState=1,c&&f.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},h.timeout));try{_=1,a.send(y,i)}catch(T){if(!(2>_))throw T;i(-1,T)}}else i(-1,"No Transport");return x},active:0,lastModified:{},etag:{}});var Wn=[],Bn=/\?/,Un=/(=)\?(?=&|$)|\?\?/,qn=J.now();J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wn.pop()||J.expando+"_"+qn++;return this[e]=!0,e}}),J.ajaxPrefilter("json jsonp",function(n,i,r){var o,s,a,l=n.data,u=n.url,c=n.jsonp!==!1,d=c&&Un.test(u),h=c&&!d&&"string"==typeof l&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Un.test(l);return"jsonp"===n.dataTypes[0]||d||h?(o=n.jsonpCallback=J.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,s=e[o],d?n.url=u.replace(Un,"$1"+o):h?n.data=l.replace(Un,"$1"+o):c&&(n.url+=(Bn.test(u)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||J.error(o+" was not called"),a[0]},n.dataTypes[0]="json",e[o]=function(){a=arguments},r.always(function(){e[o]=s,n[o]&&(n.jsonpCallback=i.jsonpCallback,Wn.push(o)),a&&J.isFunction(s)&&s(a[0]),a=s=t}),"script"):void 0}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return J.globalEval(e),e}}}),J.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),J.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=W.head||W.getElementsByTagName("head")[0]||W.documentElement;return{send:function(r,o){n=W.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,r){(r||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=t,r||o(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Vn,$n=e.ActiveXObject?function(){for(var e in Vn)Vn[e](0,1)}:!1,Gn=0;J.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&A()||j()}:A,function(e){J.extend(J.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(J.ajaxSettings.xhr()),J.support.ajax&&J.ajaxTransport(function(n){if(!n.crossDomain||J.support.cors){var i;return{send:function(r,o){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(u){}l.send(n.hasContent&&n.data||null),i=function(e,r){var a,u,c,d,h;try{if(i&&(r||4===l.readyState))if(i=t,s&&(l.onreadystatechange=J.noop,$n&&delete Vn[s]),r)4!==l.readyState&&l.abort();else{a=l.status,c=l.getAllResponseHeaders(),d={},h=l.responseXML,h&&h.documentElement&&(d.xml=h);try{d.text=l.responseText}catch(p){}try{u=l.statusText}catch(p){u=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(f){r||o(-1,f)}d&&o(a,u,d,c)},n.async?4===l.readyState?setTimeout(i,0):(s=++Gn,$n&&(Vn||(Vn={},J(e).unload($n)),Vn[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var Yn,Xn,Kn=/^(?:toggle|show|hide)$/,Qn=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Jn=/queueHooks$/,Zn=[O],ei={"*":[function(e,t){var n,i,r=this.createTween(e,t),o=Qn.exec(t),s=r.cur(),a=+s||0,l=1,u=20;if(o){if(n=+o[2],i=o[3]||(J.cssNumber[e]?"":"px"),"px"!==i&&a){a=J.css(r.elem,e,!0)||n||1;do l=l||".5",a/=l,J.style(r.elem,e,a+i);while(l!==(l=r.cur()/s)&&1!==l&&--u)}r.unit=i,r.start=a,r.end=o[1]?a+(o[1]+1)*n:n}return r}]};J.Animation=J.extend(L,{tweener:function(e,t){J.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],ei[n]=ei[n]||[],ei[n].unshift(t)},prefilter:function(e,t){t?Zn.unshift(e):Zn.push(e)}}),J.Tween=F,F.prototype={constructor:F,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(J.cssNumber[n]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,n=F.propHooks[this.prop];return this.pos=t=this.options.duration?J.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=J.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){J.fx.step[e.prop]?J.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[J.cssProps[e.prop]]||J.cssHooks[e.prop])?J.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},J.each(["toggle","show","hide"],function(e,t){var n=J.fn[t];J.fn[t]=function(i,r,o){return null==i||"boolean"==typeof i||!e&&J.isFunction(i)&&J.isFunction(r)?n.apply(this,arguments):this.animate(D(t,!0),i,r,o)}}),J.fn.extend({fadeTo:function(e,t,n,i){return this.filter(v).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=J.isEmptyObject(e),o=J.speed(t,n,i),s=function(){var t=L(this,J.extend({},e),o);r&&t.stop(!0)};return r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=J.timers,s=J._data(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&Jn.test(n)&&r(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&J.dequeue(this,e)})}}),J.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){J.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),J.speed=function(e,t,n){var i=e&&"object"==typeof e?J.extend({},e):{complete:n||!n&&t||J.isFunction(e)&&e,duration:e,easing:n&&t||t&&!J.isFunction(t)&&t};return i.duration=J.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in J.fx.speeds?J.fx.speeds[i.duration]:J.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){J.isFunction(i.old)&&i.old.call(this),i.queue&&J.dequeue(this,i.queue)},i},J.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},J.timers=[],J.fx=F.prototype.init,J.fx.tick=function(){var e,n=J.timers,i=0;for(Yn=J.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||J.fx.stop(),Yn=t},J.fx.timer=function(e){e()&&J.timers.push(e)&&!Xn&&(Xn=setInterval(J.fx.tick,J.fx.interval))},J.fx.interval=13,J.fx.stop=function(){clearInterval(Xn),Xn=null},J.fx.speeds={slow:600,fast:200,_default:400},J.fx.step={},J.expr&&J.expr.filters&&(J.expr.filters.animated=function(e){return J.grep(J.timers,function(t){return e===t.elem}).length});var ti=/^(?:body|html)$/i;J.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){J.offset.setOffset(this,e,t)});var n,i,r,o,s,a,l,u={top:0,left:0},c=this[0],d=c&&c.ownerDocument;if(d)return(i=d.body)===c?J.offset.bodyOffset(c):(n=d.documentElement,J.contains(n,c)?("undefined"!=typeof c.getBoundingClientRect&&(u=c.getBoundingClientRect()),r=R(d),o=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0,a=r.pageYOffset||n.scrollTop,l=r.pageXOffset||n.scrollLeft,{top:u.top+a-o,left:u.left+l-s}):u)},J.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return J.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(J.css(e,"marginTop"))||0,n+=parseFloat(J.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=J.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,s=J(e),a=s.offset(),l=J.css(e,"top"),u=J.css(e,"left"),c=("absolute"===i||"fixed"===i)&&J.inArray("auto",[l,u])>-1,d={},h={};c?(h=s.position(),r=h.top,o=h.left):(r=parseFloat(l)||0,o=parseFloat(u)||0),J.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+r),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):s.css(d)}},J.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),i=ti.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(J.css(e,"marginTop"))||0,n.left-=parseFloat(J.css(e,"marginLeft"))||0,i.top+=parseFloat(J.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(J.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||W.body;e&&!ti.test(e.nodeName)&&"static"===J.css(e,"position");)e=e.offsetParent;return e||W.body})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);J.fn[e]=function(r){return J.access(this,function(e,r,o){var s=R(e);return o===t?s?n in s?s[n]:s.document.documentElement[r]:e[r]:void(s?s.scrollTo(i?J(s).scrollLeft():o,i?o:J(s).scrollTop()):e[r]=o)},e,r,arguments.length,null)}}),J.each({Height:"height",Width:"width"},function(e,n){J.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){J.fn[r]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return J.access(this,function(n,i,r){var o;return J.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?J.css(n,i,r,a):J.style(n,i,r,a)},n,s?r:t,s,null)}})}),e.jQuery=e.$=J,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return J})}(window),/*!
 * jQuery UI Core 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
function(e,t){function n(t,n){var r,o,s,a=t.nodeName.toLowerCase();return"area"===a?(r=t.parentNode,o=r.name,t.href&&o&&"map"===r.nodeName.toLowerCase()?(s=e("img[usemap=#"+o+"]")[0],!!s&&i(s)):!1):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,r,o=e(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function r(t,n,i,r){return e.each(o,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?a["inner"+i].call(this):this.each(function(){e(this).css(s,r(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?a["outer"+i].call(this,t):this.each(function(){e(this).css(s,r(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n){var i,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0?!0:(t[i]=1,r=t[i]>0,t[i]=0,r)}})}(jQuery),/*!
 * jQuery UI Widget 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(o){}r(t)},e.widget=function(t,n,i){var r,o,s,a,l={},u=t.split(".")[0];t=t.split(".")[1],r=u+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[u]=e[u]||{},o=e[u][t],s=e[u][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),a=new n,a.options=e.widget.extend({},a.options),e.each(i,function(t,i){return e.isFunction(i)?void(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=o,t}}()):void(l[t]=i)}),s.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||t:t},l,{constructor:s,namespace:u,widgetName:t,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s)},e.widget.extend=function(n){for(var r,o,s=i.call(arguments,1),a=0,l=s.length;l>a;a++)for(r in s[a])o=s[a][r],s[a].hasOwnProperty(r)&&o!==t&&(n[r]=e.isPlainObject(o)?e.isPlainObject(n[r])?e.widget.extend({},n[r],o):e.widget.extend({},o):o);return n},e.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;e.fn[n]=function(s){var a="string"==typeof s,l=i.call(arguments,1),u=this;return s=!a&&l.length?e.widget.extend.apply(null,[s].concat(l)):s,this.each(a?function(){var i,r=e.data(this,o);return r?e.isFunction(r[s])&&"_"!==s.charAt(0)?(i=r[s].apply(r,l),i!==r&&i!==t?(u=i&&i.jquery?u.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+s+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+s+"'")}:function(){var t=e.data(this,o);t?t.option(s||{})._init():e.data(this,o,new r(s,this))}),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,o,s,a=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(a={},r=n.split("."),n=r.shift(),r.length){for(o=a[n]=e.widget.extend({},this.options[n]),s=0;s<r.length-1;s++)o[r[s]]=o[r[s]]||{},o=o[r[s]];if(n=r.pop(),1===arguments.length)return o[n]===t?null:o[n];o[n]=i}else{if(1===arguments.length)return this.options[n]===t?null:this.options[n];a[n]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,s){function a(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.delegate(c,u,a):n.bind(u,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),s=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&e.effects&&e.effects.effect[a]?i[t](r):a!==t&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}})}(jQuery),/*!
 * jQuery UI Menu 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
function(e){e.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var n=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,r,o,s,a,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,r=this.previousFilter||"",o=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),o===r?s=!0:o=r+o,a=new RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())}),i=s&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(o=String.fromCharCode(t.keyCode),a=new RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())})),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n=this.options.icons.submenu,i=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.prev("a"),r=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",i.attr("id"))}),t=i.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=t.height(),0>r?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(n,i)},nextPage:function(t){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i-r<0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i+r>0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)}})}(jQuery),/*!
 * jQuery UI Mouse 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 *
 * Depends:
 *	jquery.ui.widget.js
 */
function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return r&&!o&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),/*!
 * jQuery UI Position 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
function(e,t){function n(e,t,n){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?n/100:1)]}function i(t,n){return parseInt(e.css(t,n),10)||0}function r(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var o,s=Math.max,a=Math.abs,l=Math.round,u=/left|center|right/,c=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(o!==t)return o;var n,i,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return e("body").append(r),n=s.offsetWidth,r.css("overflow","scroll"),i=s.offsetWidth,n===i&&(i=r[0].clientWidth),r.remove(),o=n-i},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,o="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return f.apply(this,arguments);t=e.extend({},t);var o,p,m,g,v,y,b=e(t.of),_=e.position.getWithinInfo(t.within),w=e.position.getScrollInfo(_),x=(t.collision||"flip").split(" "),k={};return y=r(b),b[0].preventDefault&&(t.at="left top"),p=y.width,m=y.height,g=y.offset,v=e.extend({},g),e.each(["my","at"],function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=u.test(i[0])?i.concat(["center"]):c.test(i[0])?["center"].concat(i):["center","center"]),i[0]=u.test(i[0])?i[0]:"center",i[1]=c.test(i[1])?i[1]:"center",e=d.exec(i[0]),n=d.exec(i[1]),k[this]=[e?e[0]:0,n?n[0]:0],t[this]=[h.exec(i[0])[0],h.exec(i[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===t.at[0]?v.left+=p:"center"===t.at[0]&&(v.left+=p/2),"bottom"===t.at[1]?v.top+=m:"center"===t.at[1]&&(v.top+=m/2),o=n(k.at,p,m),v.left+=o[0],v.top+=o[1],this.each(function(){var r,u,c=e(this),d=c.outerWidth(),h=c.outerHeight(),f=i(this,"marginLeft"),y=i(this,"marginTop"),S=d+f+i(this,"marginRight")+w.width,C=h+y+i(this,"marginBottom")+w.height,T=e.extend({},v),E=n(k.my,c.outerWidth(),c.outerHeight());"right"===t.my[0]?T.left-=d:"center"===t.my[0]&&(T.left-=d/2),"bottom"===t.my[1]?T.top-=h:"center"===t.my[1]&&(T.top-=h/2),T.left+=E[0],T.top+=E[1],e.support.offsetFractions||(T.left=l(T.left),T.top=l(T.top)),r={marginLeft:f,marginTop:y},e.each(["left","top"],function(n,i){e.ui.position[x[n]]&&e.ui.position[x[n]][i](T,{targetWidth:p,targetHeight:m,elemWidth:d,elemHeight:h,collisionPosition:r,collisionWidth:S,collisionHeight:C,offset:[o[0]+E[0],o[1]+E[1]],my:t.my,at:t.at,within:_,elem:c})}),t.using&&(u=function(e){var n=g.left-T.left,i=n+p-d,r=g.top-T.top,o=r+m-h,l={target:{element:b,left:g.left,top:g.top,width:p,height:m},element:{element:c,left:T.left,top:T.top,width:d,height:h},horizontal:0>i?"left":n>0?"right":"center",vertical:0>o?"top":r>0?"bottom":"middle"};d>p&&a(n+i)<p&&(l.horizontal="center"),h>m&&a(r+o)<m&&(l.vertical="middle"),l.important=s(a(n),a(i))>s(a(r),a(o))?"horizontal":"vertical",t.using.call(this,e,l)}),c.offset(e.extend(T,{using:u}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=e.left-t.collisionPosition.marginLeft,l=r-a,u=a+t.collisionWidth-o-r;t.collisionWidth>o?l>0&&0>=u?(n=e.left+l+t.collisionWidth-o-r,e.left+=l-n):e.left=u>0&&0>=l?r:l>u?r+o-t.collisionWidth:r:l>0?e.left+=l:u>0?e.left-=u:e.left=s(e.left-a,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,a=e.top-t.collisionPosition.marginTop,l=r-a,u=a+t.collisionHeight-o-r;t.collisionHeight>o?l>0&&0>=u?(n=e.top+l+t.collisionHeight-o-r,e.top+=l-n):e.top=u>0&&0>=l?r:l>u?r+o-t.collisionHeight:r:l>0?e.top+=l:u>0?e.top-=u:e.top=s(e.top-a,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=e.left-t.collisionPosition.marginLeft,c=u-l,d=u+t.collisionWidth-s-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>c?(n=e.left+h+p+f+t.collisionWidth-s-o,(0>n||n<a(c))&&(e.left+=h+p+f)):d>0&&(i=e.left-t.collisionPosition.marginLeft+h+p+f-l,(i>0||a(i)<d)&&(e.left+=h+p+f))},top:function(e,t){var n,i,r=t.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=e.top-t.collisionPosition.marginTop,c=u-l,d=u+t.collisionHeight-s-l,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>c?(i=e.top+p+f+m+t.collisionHeight-s-o,e.top+p+f+m>c&&(0>i||i<a(c))&&(e.top+=p+f+m)):d>0&&(n=e.top-t.collisionPosition.marginTop+p+f+m-l,e.top+p+f+m>d&&(n>0||a(n)<d)&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,r,o,s=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in i)t.style[o]=i[o];t.appendChild(a),n=s||document.documentElement,n.insertBefore(t,n.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",r=e(a).offset().left,e.support.offsetFractions=r>10&&11>r,t.innerHTML="",n.removeChild(t)}()}(jQuery),/*!
 * jQuery UI Autocomplete 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 *	jquery.ui.menu.js
 */
function(e){e.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=o?!0:s?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case o.UP:t=!0,this._keyEvent("previous",r);break;case o.DOWN:t=!0,this._keyEvent("next",r);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(i){i.target===t.element[0]||i.target===n||e.contains(n,i.target)||t.close()})})},menufocus:function(t,n){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});var i=n.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:i})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<a>").text(n.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),/*!
 * jQuery UI Sortable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){function t(e,t,n){return e>t&&t+n>e}function n(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||n(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var i=null,r=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,o.widgetName+"-item")===o?(i=e(this),!1):void 0}),e.data(t.target,o.widgetName+"-item")===o&&(i=e(t.target)),i&&(!this.options.handle||n||(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=!0)}),r))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-e(document).scrollTop()<s.scrollSensitivity?a=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(a=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed)),t.pageX-e(document).scrollLeft()<s.scrollSensitivity?a=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(a=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed))),a!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],r):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,u=this.offset.click.top,c=this.offset.click.left,d="x"===this.options.axis||i+u>a&&l>i+u,h="y"===this.options.axis||t+c>o&&s>t+c,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var n="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=n&&i,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return r?this.floating?s&&"right"===s||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(e){var n=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:r&&("down"===r&&n||"up"===r&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){a.push(this)}var i,r,o,s,a=[],l=[],u=this._connectWith();if(u&&t)for(i=u.length-1;i>=0;i--)for(o=e(u[i]),r=o.length-1;r>=0;r--)s=e.data(o[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,u,c=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(r=e(h[n]),i=r.length-1;i>=0;i--)o=e.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(s=d[n][1],a=d[n][0],i=0,u=a.length;u>i;i++)l=e(a[i]),l.data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(r)}):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(i){var r,o,s,a,l,u,c,d,h,p,f=null,m=null;for(r=this.containers.length-1;r>=0;r--)if(!e.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(f&&e.contains(this.containers[r].element[0],f.element[0]))continue;f=this.containers[r],m=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",i,this._uiHash(this)),this.containers[r].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(s=1e4,a=null,p=f.floating||n(this.currentItem),l=p?"left":"top",u=p?"width":"height",c=this.positionAbs[l]+this.offset.click[l],o=this.items.length-1;o>=0;o--)e.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||t(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(d=this.items[o].item.offset()[l],h=!1,Math.abs(d-c)>Math.abs(d+this.items[o][u]-c)&&(h=!0,d+=this.items[o][u]),Math.abs(d-c)<s&&(s=Math.abs(d-c),a=this.items[o],this.direction=h?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;a?this._rearrange(i,a,null,!0):this._rearrange(i,null,this.containers[m].element,!0),this._trigger("change",i,this._uiHash()),this.containers[m]._trigger("change",i,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,o=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){function n(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),i=0;i<r.length;i++)r[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;i<r.length;i++)r[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var n=e.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}}if(e.support.touch="ontouchend"in document,e.support.touch){var n,i=e.ui.mouse.prototype,r=i._mouseInit,o=i._mouseDestroy;i._touchStart=function(e){var i=this;!n&&i._mouseCapture(e.originalEvent.changedTouches[0])&&(n=!0,i._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},i._touchMove=function(e){n&&(this._touchMoved=!0,t(e,"mousemove"))},i._touchEnd=function(e){n&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),n=!1)},i._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),r.call(t)},i._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),o.call(t)}}}(jQuery),function(e,t){var n=function(){var t=e._data(document,"events");return t&&t.click&&e.grep(t.click,function(e){return"rails"===e.namespace}).length};n()&&e.error("jquery-ujs has already been loaded!");var i;e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var r,o,s,a,l,u,c,d;if(i.fire(n,"ajax:before")){if(a=n.data("cross-domain"),l=a===t?null:a,u=n.data("with-credentials")||null,c=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){r=n.attr("method"),o=n.attr("action"),s=n.serializeArray();var h=n.data("ujs:submit-button");h&&(s.push(h),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(r=n.data("method"),o=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):(r=n.data("method"),o=i.href(n),s=n.data("params")||null);d={type:r||"GET",data:s,dataType:c,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),i.fire(n,"ajax:beforeSend",[e,r])},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},xhrFields:{withCredentials:u},crossDomain:l},o&&(d.url=o);var p=i.ajax(d);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var r=i.href(n),o=n.data("method"),s=n.attr("target"),a=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),u=e('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+o+'" type="hidden" />';l!==t&&a!==t&&(c+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&u.attr("target",s),u.hide().append(c).appendTo("body"),u.submit()},disableFormElements:function(t){t.find(i.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(i.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,n=e.data("confirm"),r=!1;return n?(i.fire(e,"confirm")&&(r=i.confirm(n),t=i.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,n,i){var r,o,s=e(),a=n||"input,textarea",l=t.find(a);return l.each(function(){if(r=e(this),o=r.is(":checkbox,:radio")?r.is(":checked"):r.val(),!o==!i){if(r.is(":radio")&&l.filter('input:radio:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),s.length?s:!1},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,i){var r=n.data("events"),o=!0;return r!==t&&r.submit!==t&&e.each(r.submit,function(e,t){return"function"==typeof t.handler?o=t.handler(i):void 0}),o},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return i.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},i.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||i.CSRFProtection(n)}),e(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(e(this))}),e(document).delegate(i.linkClickSelector,"click.rails",function(n){var r=e(this),o=r.data("method"),s=r.data("params");if(!i.allowAction(r))return i.stopEverything(n);if(r.is(i.linkDisableSelector)&&i.disableElement(r),r.data("remote")!==t){if(!(!n.metaKey&&!n.ctrlKey||o&&"GET"!==o||s))return!0;var a=i.handleRemote(r);return a===!1?i.enableElement(r):a.error(function(){i.enableElement(r)}),!1}return r.data("method")?(i.handleMethod(r),!1):void 0}),e(document).delegate(i.inputChangeSelector,"change.rails",function(t){var n=e(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(t)}),e(document).delegate(i.formSubmitSelector,"submit.rails",function(n){var r=e(this),o=r.data("remote")!==t,s=i.blankInputs(r,i.requiredInputSelector),a=i.nonBlankInputs(r,i.fileInputSelector);if(!i.allowAction(r))return i.stopEverything(n);if(s&&r.attr("novalidate")==t&&i.fire(r,"ajax:aborted:required",[s]))return i.stopEverything(n);if(o){if(a){setTimeout(function(){i.disableFormElements(r)},13);var l=i.fire(r,"ajax:aborted:file",[a]);return l||setTimeout(function(){i.enableFormElements(r)},13),l}return!e.support.submitBubbles&&e().jquery<"1.7"&&i.callFormSubmitBindings(r,n)===!1?i.stopEverything(n):(i.handleRemote(r),!1)}setTimeout(function(){i.disableFormElements(r)},13)}),e(document).delegate(i.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);var r=n.attr("name"),o=r?{name:r,value:n.val()}:null;n.closest("form").data("ujs:submit-button",o)}),e(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&i.disableFormElements(e(this))}),e(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&i.enableFormElements(e(this))}),e(function(){csrf_token=e("meta[name=csrf-token]").attr("content"),csrf_param=e("meta[name=csrf-param]").attr("content"),e('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),function(){var e=this,t=e._,n={},i=Array.prototype,r=Object.prototype,o=Function.prototype,s=i.push,a=i.slice,l=i.concat,u=r.toString,c=r.hasOwnProperty,d=i.forEach,h=i.map,p=i.reduce,f=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,_=Array.isArray,w=Object.keys,x=o.bind,k=function(e){return e instanceof k?e:this instanceof k?void(this._wrapped=e):new k(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):e._=k,k.VERSION="1.6.0";var S=k.each=k.forEach=function(e,t,i){if(null==e)return e;if(d&&e.forEach===d)e.forEach(t,i);else if(e.length===+e.length){for(var r=0,o=e.length;o>r;r++)if(t.call(i,e[r],r,e)===n)return}else for(var s=k.keys(e),r=0,o=s.length;o>r;r++)if(t.call(i,e[s[r]],s[r],e)===n)return;return e};k.map=k.collect=function(e,t,n){var i=[];return null==e?i:h&&e.map===h?e.map(t,n):(S(e,function(e,r,o){i.push(t.call(n,e,r,o))}),i)};var C="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=k.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(S(e,function(e,o,s){r?n=t.call(i,n,e,o,s):(n=e,r=!0)}),!r)throw new TypeError(C);return n},k.reduceRight=k.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return i&&(t=k.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var s=k.keys(e);o=s.length}if(S(e,function(a,l,u){l=s?s[--o]:--o,r?n=t.call(i,n,e[l],l,u):(n=e[l],r=!0)}),!r)throw new TypeError(C);return n},k.find=k.detect=function(e,t,n){var i;return T(e,function(e,r,o){return t.call(n,e,r,o)?(i=e,!0):void 0}),i},k.filter=k.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(S(e,function(e,r,o){t.call(n,e,r,o)&&i.push(e)}),i)},k.reject=function(e,t,n){return k.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},k.every=k.all=function(e,t,i){t||(t=k.identity);var r=!0;return null==e?r:g&&e.every===g?e.every(t,i):(S(e,function(e,o,s){return(r=r&&t.call(i,e,o,s))?void 0:n}),!!r)};var T=k.some=k.any=function(e,t,i){t||(t=k.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,i):(S(e,function(e,o,s){return r||(r=t.call(i,e,o,s))?n:void 0}),!!r)};k.contains=k.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):T(e,function(e){return e===t})},k.invoke=function(e,t){var n=a.call(arguments,2),i=k.isFunction(t);return k.map(e,function(e){return(i?t:e[t]).apply(e,n)})},k.pluck=function(e,t){return k.map(e,k.property(t))},k.where=function(e,t){return k.filter(e,k.matches(t))},k.findWhere=function(e,t){return k.find(e,k.matches(t))},k.max=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var i=-1/0,r=-1/0;return S(e,function(e,o,s){var a=t?t.call(n,e,o,s):e;a>r&&(i=e,r=a)}),i},k.min=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var i=1/0,r=1/0;return S(e,function(e,o,s){var a=t?t.call(n,e,o,s):e;r>a&&(i=e,r=a)}),i},k.shuffle=function(e){var t,n=0,i=[];return S(e,function(e){t=k.random(n++),i[n-1]=i[t],i[t]=e}),i},k.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=k.values(e)),e[k.random(e.length-1)]):k.shuffle(e).slice(0,Math.max(0,t))};var E=function(e){return null==e?k.identity:k.isFunction(e)?e:k.property(e)};k.sortBy=function(e,t,n){return t=E(t),k.pluck(k.map(e,function(e,i,r){return{value:e,index:i,criteria:t.call(n,e,i,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var M=function(e){return function(t,n,i){var r={};return n=E(n),S(t,function(o,s){var a=n.call(i,o,s,t);e(r,a,o)}),r}};k.groupBy=M(function(e,t,n){k.has(e,t)?e[t].push(n):e[t]=[n]}),k.indexBy=M(function(e,t,n){e[t]=n}),k.countBy=M(function(e,t){k.has(e,t)?e[t]++:e[t]=1}),k.sortedIndex=function(e,t,n,i){n=E(n);for(var r=n.call(i,t),o=0,s=e.length;s>o;){var a=o+s>>>1;n.call(i,e[a])<r?o=a+1:s=a}return o},k.toArray=function(e){return e?k.isArray(e)?a.call(e):e.length===+e.length?k.map(e,k.identity):k.values(e):[]},k.size=function(e){return null==e?0:e.length===+e.length?e.length:k.keys(e).length},k.first=k.head=k.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:a.call(e,0,t)},k.initial=function(e,t,n){return a.call(e,0,e.length-(null==t||n?1:t))},k.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},k.rest=k.tail=k.drop=function(e,t,n){return a.call(e,null==t||n?1:t)},k.compact=function(e){return k.filter(e,k.identity)};var A=function(e,t,n){return t&&k.every(e,k.isArray)?l.apply(n,e):(S(e,function(e){k.isArray(e)||k.isArguments(e)?t?s.apply(n,e):A(e,t,n):n.push(e)}),n)};k.flatten=function(e,t){return A(e,t,[])},k.without=function(e){return k.difference(e,a.call(arguments,1))},k.partition=function(e,t){var n=[],i=[];return S(e,function(e){(t(e)?n:i).push(e)}),[n,i]},k.uniq=k.unique=function(e,t,n,i){k.isFunction(t)&&(i=n,n=t,t=!1);var r=n?k.map(e,n,i):e,o=[],s=[];return S(r,function(n,i){(t?i&&s[s.length-1]===n:k.contains(s,n))||(s.push(n),o.push(e[i]))}),o},k.union=function(){return k.uniq(k.flatten(arguments,!0))},k.intersection=function(e){var t=a.call(arguments,1);return k.filter(k.uniq(e),function(e){return k.every(t,function(t){return k.contains(t,e)})})},k.difference=function(e){var t=l.apply(i,a.call(arguments,1));return k.filter(e,function(e){return!k.contains(t,e)})},k.zip=function(){for(var e=k.max(k.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=k.pluck(arguments,""+n);return t},k.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},k.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=k.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},k.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(b&&e.lastIndexOf===b)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},k.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,o=new Array(i);i>r;)o[r++]=e,e+=n;return o};var j=function(){};k.bind=function(e,t){var n,i;if(x&&e.bind===x)return x.apply(e,a.call(arguments,1));if(!k.isFunction(e))throw new TypeError;return n=a.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(a.call(arguments)));j.prototype=e.prototype;var r=new j;j.prototype=null;var o=e.apply(r,n.concat(a.call(arguments)));return Object(o)===o?o:r}},k.partial=function(e){var t=a.call(arguments,1);return function(){for(var n=0,i=t.slice(),r=0,o=i.length;o>r;r++)i[r]===k&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return e.apply(this,i)}},k.bindAll=function(e){var t=a.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return S(t,function(t){e[t]=k.bind(e[t],e)}),e},k.memoize=function(e,t){var n={};return t||(t=k.identity),function(){var i=t.apply(this,arguments);return k.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},k.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},k.defer=function(e){return k.delay.apply(k,[e,1].concat(a.call(arguments,1)))},k.throttle=function(e,t,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:k.now(),s=null,o=e.apply(i,r),i=r=null};return function(){var u=k.now();a||n.leading!==!1||(a=u);var c=t-(u-a);return i=this,r=arguments,0>=c?(clearTimeout(s),s=null,a=u,o=e.apply(i,r),i=r=null):s||n.trailing===!1||(s=setTimeout(l,c)),o}},k.debounce=function(e,t,n){var i,r,o,s,a,l=function(){var u=k.now()-s;t>u?i=setTimeout(l,t-u):(i=null,n||(a=e.apply(o,r),o=r=null))};return function(){o=this,r=arguments,s=k.now();var u=n&&!i;return i||(i=setTimeout(l,t)),u&&(a=e.apply(o,r),o=r=null),a}},k.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},k.wrap=function(e,t){return k.partial(t,e)},k.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},k.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},k.keys=function(e){if(!k.isObject(e))return[];if(w)return w(e);var t=[];for(var n in e)k.has(e,n)&&t.push(n);return t},k.values=function(e){for(var t=k.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},k.pairs=function(e){for(var t=k.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},k.invert=function(e){for(var t={},n=k.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},k.functions=k.methods=function(e){var t=[];for(var n in e)k.isFunction(e[n])&&t.push(n);return t.sort()},k.extend=function(e){return S(a.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},k.pick=function(e){var t={},n=l.apply(i,a.call(arguments,1));return S(n,function(n){n in e&&(t[n]=e[n])}),t},k.omit=function(e){var t={},n=l.apply(i,a.call(arguments,1));for(var r in e)k.contains(n,r)||(t[r]=e[r]);return t},k.defaults=function(e){return S(a.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},k.clone=function(e){return k.isObject(e)?k.isArray(e)?e.slice():k.extend({},e):e},k.tap=function(e,t){return t(e),e};var N=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof k&&(e=e._wrapped),t instanceof k&&(t=t._wrapped);var r=u.call(e);if(r!=u.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return i[o]==t;var s=e.constructor,a=t.constructor;if(s!==a&&!(k.isFunction(s)&&s instanceof s&&k.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),i.push(t);var l=0,c=!0;if("[object Array]"==r){if(l=e.length,c=l==t.length)for(;l--&&(c=N(e[l],t[l],n,i)););}else{for(var d in e)if(k.has(e,d)&&(l++,!(c=k.has(t,d)&&N(e[d],t[d],n,i))))break;if(c){for(d in t)if(k.has(t,d)&&!l--)break;c=!l}}return n.pop(),i.pop(),c};k.isEqual=function(e,t){return N(e,t,[],[])},k.isEmpty=function(e){if(null==e)return!0;if(k.isArray(e)||k.isString(e))return 0===e.length;for(var t in e)if(k.has(e,t))return!1;return!0},k.isElement=function(e){return!(!e||1!==e.nodeType)},k.isArray=_||function(e){return"[object Array]"==u.call(e)},k.isObject=function(e){return e===Object(e)},S(["Arguments","Function","String","Number","Date","RegExp"],function(e){k["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),k.isArguments(arguments)||(k.isArguments=function(e){return!(!e||!k.has(e,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(e){return"function"==typeof e}),k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},k.isNaN=function(e){return k.isNumber(e)&&e!=+e},k.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},k.isNull=function(e){return null===e},k.isUndefined=function(e){return void 0===e},k.has=function(e,t){return c.call(e,t)},k.noConflict=function(){return e._=t,this},k.identity=function(e){return e},k.constant=function(e){return function(){return e}},k.property=function(e){return function(t){return t[e]}},k.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},k.times=function(e,t,n){for(var i=Array(Math.max(0,e)),r=0;e>r;r++)i[r]=t.call(n,r);return i},k.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},k.now=Date.now||function(){return(new Date).getTime()};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};P.unescape=k.invert(P.escape);var L={escape:new RegExp("["+k.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(P.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(e){k[e]=function(t){return null==t?"":(""+t).replace(L[e],function(t){return P[e][t]})}}),k.result=function(e,t){if(null==e)return void 0;var n=e[t];return k.isFunction(n)?n.call(e):n},k.mixin=function(e){S(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),R.call(this,n.apply(k,e))}})};var I=0;k.uniqueId=function(e){var t=++I+"";return e?e+t:t},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(e,t,n){var i;n=k.defaults({},n,k.templateSettings);var r=new RegExp([(n.escape||O).source,(n.interpolate||O).source,(n.evaluate||O).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(r,function(t,n,i,r,a){return s+=e.slice(o,a).replace(D,function(e){return"\\"+F[e]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(s+="';\n"+r+"\n__p+='"),o=a+t.length,t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(t)return i(t,k);var l=function(e){return i.call(this,e,k)};return l.source="function("+(n.variable||"obj")+"){\n"+s+"}",l},k.chain=function(e){return k(e).chain()};var R=function(e){return this._chain?k(e).chain():e};k.mixin(k),S(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];k.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],R.call(this,n)}}),S(["concat","join","slice"],function(e){var t=i[e];k.prototype[e]=function(){return R.call(this,t.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return k})}.call(this),function(){var e;e=function(){function e(){}return e.version="1.2.0",e.registered_features={},e.featurettes_counter=0,e.register=function(e,t){return this.registered_features[e]=t},e.load=function(){var e,t,n,i,r,o,s,a,l,u,c,d;for(n=document.querySelectorAll("[data-featurette]"),t=[],a=0,u=n.length;u>a;a++)e=n[a],e.featuretteLoading||e.featurette||(t.push(e),e.featuretteLoading=!0);for(d=[],l=0,c=t.length;c>l;l++)e=t[l],i=e.getAttribute("data-featurette"),o=this.registered_features[i],o?(r=e.id,(null==r||""===r)&&(r="featurette-"+this.featurettes_counter,e.id=r),s=new o(e),e.featurette=s,d.push(this.featurettes_counter+=1)):d.push(window.console?console.log("Unknown featurette "+i):void 0);return d},e.get=function(e){var t;return null!=(t=document.getElementById(e))?t.featurette:void 0},e}(),window.Featurette=e}.call(this),/*

Uniform v2.1.2
Copyright © 2009 Josh Pyles / Pixelmatrix Design LLC
http://pixelmatrixdesign.com

Requires jQuery 1.3 or newer

Much thanks to Thomas Reynolds and Buck Wilson for their help and advice on
this.

Disabling text selection is made possible by Mathias Bynens
<http://mathiasbynens.be/> and his noSelect plugin.
<https://github.com/mathiasbynens/jquery-noselect>, which is embedded.

Also, thanks to David Kaneda and Eugene Bond for their contributions to the
plugin.

Tyler Akins has also rewritten chunks of the plugin, helped close many issues,
and ensured version 2 got out the door.

License:
MIT License - http://www.opensource.org/licenses/mit-license.php

Enjoy!

*/
function(e,t,n){"use strict";function i(e){var t=Array.prototype.slice.call(arguments,1);return e.prop?e.prop.apply(e,t):e.attr.apply(e,t)}function r(e,t,n){var i,r;for(i in n)n.hasOwnProperty(i)&&(r=i.replace(/ |$/g,t.eventNamespace),e.bind(r,n[i]))}function o(e,t,n){r(e,n,{focus:function(){t.addClass(n.focusClass)},blur:function(){t.removeClass(n.focusClass),t.removeClass(n.activeClass)},mouseenter:function(){t.addClass(n.hoverClass)},mouseleave:function(){t.removeClass(n.hoverClass),t.removeClass(n.activeClass)},"mousedown touchbegin":function(){e.is(":disabled")||t.addClass(n.activeClass)},"mouseup touchend":function(){t.removeClass(n.activeClass)}})}function s(e,t){e.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass)}function a(e,t,n){n?e.addClass(t):e.removeClass(t)}function l(e,t,n){var i="checked",r=t.is(":"+i);t.prop?t.prop(i,r):r?t.attr(i,i):t.removeAttr(i),a(e,n.checkedClass,r)}function u(e,t,n){a(e,n.disabledClass,t.is(":disabled"))}function c(e,t,n){switch(n){case"after":return e.after(t),e.next();case"before":return e.before(t),e.prev();case"wrap":return e.wrap(t),e.parent()}return null}function d(e,n,r){var o,s,a;return r||(r={}),r=t.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},r),o=t("<div />"),s=t("<span />"),n.autoHide&&e.is(":hidden")&&"none"===e.css("display")&&o.hide(),r.divClass&&o.addClass(r.divClass),n.wrapperClass&&o.addClass(n.wrapperClass),r.spanClass&&s.addClass(r.spanClass),a=i(e,"id"),n.useID&&a&&i(o,"id",n.idPrefix+"-"+a),r.spanHtml&&s.html(r.spanHtml),o=c(e,o,r.divWrap),s=c(e,s,r.spanWrap),u(o,e,n),{div:o,span:s}}function h(e,n){var i;return n.wrapperClass?(i=t("<span />").addClass(n.wrapperClass),i=c(e,i,"wrap")):null}function p(){var n,i,r,o;return o="rgb(120,2,153)",i=t('<div style="width:0;height:0;color:'+o+'">'),t("body").append(i),r=i.get(0),n=e.getComputedStyle?e.getComputedStyle(r,"").color:(r.currentStyle||r.style||{}).color,i.remove(),n.replace(/ /g,"")!==o}function f(e){return e?t("<span />").text(e).html():""}function m(){return navigator.cpuClass&&!navigator.product}function g(){return void 0!==e.XMLHttpRequest?!0:!1}function v(e){var t;return e[0].multiple?!0:(t=i(e,"size"),!t||1>=t?!1:!0)}function y(){return!1}function b(e,t){var n="none";r(e,t,{"selectstart dragstart mousedown":y}),e.css({MozUserSelect:n,msUserSelect:n,webkitUserSelect:n,userSelect:n})}function _(e,t,n){var i=e.val();""===i?i=n.fileDefaultHtml:(i=i.split(/[\/\\]+/),i=i[i.length-1]),t.text(i)}function w(e,t,n){var i,r;for(i=[],e.each(function(){var e;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i.push({el:this,name:e,old:this.style[e]}),this.style[e]=t[e])}),n();i.length;)r=i.pop(),r.el.style[r.name]=r.old}function x(e,t){var n;n=e.parents(),n.push(e[0]),n=n.not(":visible"),w(n,{visibility:"hidden",display:"block",position:"absolute"},t)}function k(e,t){return function(){e.unwrap().unwrap().unbind(t.eventNamespace)}}var S=!0,C=!1,T=[{match:function(e){return e.is("a, button, :submit, :reset, input[type='button']")},apply:function(t,n){var a,l,c,h,p;return l=n.submitDefaultHtml,t.is(":reset")&&(l=n.resetDefaultHtml),h=t.is("a, button")?function(){return t.html()||l}:function(){return f(i(t,"value"))||l},c=d(t,n,{divClass:n.buttonClass,spanHtml:h()}),a=c.div,o(t,a,n),p=!1,r(a,n,{"click touchend":function(){var n,r,o,s;p||t.is(":disabled")||(p=!0,t[0].dispatchEvent?(n=document.createEvent("MouseEvents"),n.initEvent("click",!0,!0),r=t[0].dispatchEvent(n),t.is("a")&&r&&(o=i(t,"target"),s=i(t,"href"),o&&"_self"!==o?e.open(s,o):document.location.href=s)):t.click(),p=!1)}}),b(a,n),{remove:function(){return a.after(t),a.remove(),t.unbind(n.eventNamespace),t},update:function(){s(a,n),u(a,t,n),t.detach(),c.span.html(h()).append(t)}}}},{match:function(e){return e.is(":checkbox")},apply:function(e,t){var n,i,a;return n=d(e,t,{divClass:t.checkboxClass}),i=n.div,a=n.span,o(e,i,t),r(e,t,{"click touchend":function(){l(a,e,t)}}),l(a,e,t),{remove:k(e,t),update:function(){s(i,t),a.removeClass(t.checkedClass),l(a,e,t),u(i,e,t)}}}},{match:function(e){return e.is(":file")},apply:function(e,n){function a(){_(e,p,n)}var l,h,p,f;return l=d(e,n,{divClass:n.fileClass,spanClass:n.fileButtonClass,spanHtml:n.fileButtonHtml,spanWrap:"after"}),h=l.div,f=l.span,p=t("<span />").html(n.fileDefaultHtml),p.addClass(n.filenameClass),p=c(e,p,"after"),i(e,"size")||i(e,"size",h.width()/10),o(e,h,n),a(),m()?r(e,n,{click:function(){e.trigger("change"),setTimeout(a,0)}}):r(e,n,{change:a}),b(p,n),b(f,n),{remove:function(){return p.remove(),f.remove(),e.unwrap().unbind(n.eventNamespace)},update:function(){s(h,n),_(e,p,n),u(h,e,n)}}}},{match:function(e){if(e.is("input")){var t=(" "+i(e,"type")+" ").toLowerCase(),n=" color date datetime datetime-local email month number password search tel text time url week ";return n.indexOf(t)>=0}return!1},apply:function(e,t){var n,r;return n=i(e,"type"),e.addClass(t.inputClass),r=h(e,t),o(e,e,t),t.inputAddTypeAsClass&&e.addClass(n),{remove:function(){e.removeClass(t.inputClass),t.inputAddTypeAsClass&&e.removeClass(n),r&&e.unwrap()},update:y}}},{match:function(e){return e.is(":radio")},apply:function(e,n){var a,c,h;return a=d(e,n,{divClass:n.radioClass}),c=a.div,h=a.span,o(e,c,n),r(e,n,{"click touchend":function(){t.uniform.update(t(':radio[name="'+i(e,"name")+'"]'))}}),l(h,e,n),{remove:k(e,n),update:function(){s(c,n),l(h,e,n),u(c,e,n)}}}},{match:function(e){return e.is("select")&&!v(e)?!0:!1},apply:function(e,n){var i,a,l,c;return n.selectAutoWidth&&x(e,function(){c=e.width()}),i=d(e,n,{divClass:n.selectClass,spanHtml:(e.find(":selected:first")||e.find("option:first")).html(),spanWrap:"before"}),a=i.div,l=i.span,n.selectAutoWidth?x(e,function(){w(t([l[0],a[0]]),{display:"block"},function(){var e;e=l.outerWidth()-l.width(),a.width(c+e),l.width(c)})}):a.addClass("fixedWidth"),o(e,a,n),r(e,n,{change:function(){l.html(e.find(":selected").html()),a.removeClass(n.activeClass)},"click touchend":function(){var t=e.find(":selected").html();l.html()!==t&&e.trigger("change")},keyup:function(){l.html(e.find(":selected").html())}}),b(l,n),{remove:function(){return l.remove(),e.unwrap().unbind(n.eventNamespace),e},update:function(){n.selectAutoWidth?(t.uniform.restore(e),e.uniform(n)):(s(a,n),l.html(e.find(":selected").html()),u(a,e,n))}}}},{match:function(e){return e.is("select")&&v(e)?!0:!1},apply:function(e,t){var n;return e.addClass(t.selectMultiClass),n=h(e,t),o(e,e,t),{remove:function(){e.removeClass(t.selectMultiClass),n&&e.unwrap()},update:y}}},{match:function(e){return e.is("textarea")},apply:function(e,t){var n;return e.addClass(t.textareaClass),n=h(e,t),o(e,e,t),{remove:function(){e.removeClass(t.textareaClass),n&&e.unwrap()},update:y}}}];m()&&!g()&&(S=!1),t.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:!0,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!0,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:!0,wrapperClass:null},elements:[]},t.fn.uniform=function(n){var i=this;return n=t.extend({},t.uniform.defaults,n),C||(C=!0,p()&&(S=!1)),S?(n.resetSelector&&t(n.resetSelector).mouseup(function(){e.setTimeout(function(){t.uniform.update(i)},10)}),this.each(function(){var e,i,r,o=t(this);if(o.data("uniformed"))return void t.uniform.update(o);for(e=0;e<T.length;e+=1)if(i=T[e],i.match(o,n))return r=i.apply(o,n),o.data("uniformed",r),void t.uniform.elements.push(o.get(0))})):this},t.uniform.restore=t.fn.uniform.restore=function(e){e===n&&(e=t.uniform.elements),t(e).each(function(){var e,n,i=t(this);n=i.data("uniformed"),n&&(n.remove(),e=t.inArray(this,t.uniform.elements),e>=0&&t.uniform.elements.splice(e,1),i.removeData("uniformed"))})},t.uniform.update=t.fn.uniform.update=function(e){e===n&&(e=t.uniform.elements),t(e).each(function(){var e,n=t(this);e=n.data("uniformed"),e&&e.update(n,e.options)})}}(this,jQuery),function(e){var t,n={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},i='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],o=e(i).data("autosize",!0)[0];o.style.lineHeight="99px","99px"===e(o).css("lineHeight")&&r.push("lineHeight"),o.style.lineHeight="",e.fn.autosize=function(i){return this.length?(i=e.extend({},n,i||{}),o.parentNode!==document.body&&e(document.body).append(o),this.each(function(){function n(){var t,n=window.getComputedStyle?window.getComputedStyle(h,null):!1;n?(t=h.getBoundingClientRect().width,(0===t||"number"!=typeof t)&&(t=parseInt(n.width,10)),e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,i){t-=parseInt(n[i],10)})):t=p.width(),o.style.width=Math.max(t,0)+"px"}function s(){var s={};if(t=h,o.className=i.className,o.id=i.id,u=parseInt(p.css("maxHeight"),10),e.each(r,function(e,t){s[t]=p.css(t)}),e(o).css(s).attr("wrap",p.attr("wrap")),n(),window.chrome){var a=h.style.width;h.style.width="0px";{h.offsetWidth}h.style.width=a}}function a(){var e,r;t!==h?s():n(),o.value=!h.value&&i.placeholder?(p.attr("placeholder")||"")+i.append:h.value+i.append,o.style.overflowY=h.style.overflowY,r=parseInt(h.style.height,10),o.scrollTop=0,o.scrollTop=9e4,e=o.scrollTop,u&&e>u?(h.style.overflowY="scroll",e=u):(h.style.overflowY="hidden",c>e&&(e=c)),e+=f,r!==e&&(h.style.height=e+"px",m&&i.callback.call(h,h))}function l(){clearTimeout(d),d=setTimeout(function(){var e=p.width();e!==v&&(v=e,a())},parseInt(i.resizeDelay,10))}var u,c,d,h=this,p=e(h),f=0,m=e.isFunction(i.callback),g={height:h.style.height,overflow:h.style.overflow,overflowY:h.style.overflowY,wordWrap:h.style.wordWrap,resize:h.style.resize},v=p.width(),y=p.css("resize");p.data("autosize")||(p.data("autosize",!0),("border-box"===p.css("box-sizing")||"border-box"===p.css("-moz-box-sizing")||"border-box"===p.css("-webkit-box-sizing"))&&(f=p.outerHeight()-p.height()),c=Math.max(parseInt(p.css("minHeight"),10)-f||0,p.height()),p.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===y?p.css("resize","none"):"both"===y&&p.css("resize","horizontal"),"onpropertychange"in h?"oninput"in h?p.on("input.autosize keyup.autosize",a):p.on("propertychange.autosize",function(){"value"===event.propertyName&&a()}):p.on("input.autosize",a),i.resizeDelay!==!1&&e(window).on("resize.autosize",l),p.on("autosize.resize",a),p.on("autosize.resizeIncludeStyle",function(){t=null,a()}),p.on("autosize.destroy",function(){t=null,clearTimeout(d),e(window).off("resize",l),p.off("autosize").off(".autosize").css(g).removeData("autosize")}),a())})):this}}(window.jQuery||window.$),/*
 * jquery.infieldlabel
 * A simple jQuery plugin for adding labels that sit over a form field and fade away when the fields are populated.
 * 
 * Copyright (c) 2009 - 2013 Doug Neiner <doug@dougneiner.com> (http://code.dougneiner.com)
 * Source: https://github.com/dcneiner/In-Field-Labels-jQuery-Plugin
 * Dual licensed MIT or GPL
 *   MIT (http://www.opensource.org/licenses/mit-license)
 *   GPL (http://www.opensource.org/licenses/gpl-license)
 *
 * @version 0.1.5
 */
function(e){e.InFieldLabels=function(t,n,i){var r=this;r.$label=e(t),r.label=t,r.$field=e(n),r.field=n,r.$label.data("InFieldLabels",r),r.showing=!0,r.init=function(){var t;r.options=e.extend({},e.InFieldLabels.defaultOptions,i),r.options.className&&r.$label.addClass(r.options.className),setTimeout(function(){""!==r.$field.val()?(r.$label.hide(),r.showing=!1):(r.$label.show(),r.showing=!0)},200),r.$field.focus(function(){r.fadeOnFocus()}).blur(function(){r.checkForEmpty(!0)}).bind("keydown.infieldlabel",function(e){r.hideOnChange(e)}).bind("paste",function(){r.setOpacity(0)}).change(function(){r.checkForEmpty()}).bind("onPropertyChange",function(){r.checkForEmpty()}).bind("keyup.infieldlabel",function(){r.checkForEmpty()}),r.options.pollDuration>0&&(t=setInterval(function(){""!==r.$field.val()&&(r.$label.hide(),r.showing=!1,clearInterval(t))},r.options.pollDuration))},r.fadeOnFocus=function(){r.showing&&r.setOpacity(r.options.fadeOpacity)},r.setOpacity=function(e){r.$label.stop().animate({opacity:e},r.options.fadeDuration,function(){0===e&&r.$label.hide()}),r.showing=e>0},r.checkForEmpty=function(e){""===r.$field.val()?(r.prepForShow(),r.setOpacity(e?1:r.options.fadeOpacity)):r.setOpacity(0)},r.prepForShow=function(){r.showing||(r.$label.css({opacity:0}).show(),r.$field.bind("keydown.infieldlabel",function(e){r.hideOnChange(e)}))},r.hideOnChange=function(e){16!==e.keyCode&&9!==e.keyCode&&(r.showing&&(r.$label.hide(),r.showing=!1),r.$field.unbind("keydown.infieldlabel"))},r.init()},e.InFieldLabels.defaultOptions={fadeOpacity:.5,fadeDuration:300,pollDuration:0,enabledInputTypes:["text","search","tel","url","email","password","number","textarea"],className:!1},e.fn.inFieldLabels=function(t){var n=t&&t.enabledInputTypes||e.InFieldLabels.defaultOptions.enabledInputTypes;return this.each(function(){var i,r,o=e(this).attr("for");o&&(i=document.getElementById(o),i&&(r=e.inArray(i.type,n),(-1!==r||"TEXTAREA"===i.nodeName)&&new e.InFieldLabels(this,i,t)))})}}(jQuery),function(){var e;e=function(){function e(t,n){this.form_field=t,this.options=null!=n?n:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return e.prototype.set_default_values=function(){return this.click_test_action=function(e){return function(t){return e.test_active_click(t)}}(this),this.activate_action=function(e){return function(t){return e.activate_field(t)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){if(this.is_multiple){if(!this.active_field)return setTimeout(function(e){return function(){return e.container_mousedown()}}(this),50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(e){return function(){return e.blur_test()}}(this),100))},e.prototype.results_option_build=function(e){var t,n,i,r,o;for(t="",o=this.results_data,i=0,r=o.length;r>i;i++)n=o[i],t+=n.group?this.result_add_group(n):this.result_add_option(n),(null!=e?e.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(n.text));return t},e.prototype.result_add_option=function(e){var t,n;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),n=document.createElement("li"),n.className=t.join(" "),n.style.cssText=e.style,n.setAttribute("data-option-array-index",e.array_index),n.innerHTML=e.search_text,this.outerHTML(n)):""},e.prototype.result_add_group=function(e){var t;return(e.search_match||e.group_match)&&e.active_options>0?(t=document.createElement("li"),t.className="group-result",t.innerHTML=e.search_text,this.outerHTML(t)):""},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},e.prototype.reset_single_select_options=function(){var e,t,n,i,r;for(i=this.results_data,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.selected?e.selected=!1:void 0);return r},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,n,i,r,o,s,a,l,u,c,d,h;for(this.no_results_clear(),r=0,s=this.get_search_text(),e=s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=this.search_contains?"":"^",n=new RegExp(i+e,"i"),u=new RegExp(e,"i"),h=this.results_data,c=0,d=h.length;d>c;c++)t=h[c],t.search_match=!1,o=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(o=this.results_data[t.group_array_index],0===o.active_options&&o.search_match&&(r+=1),o.active_options+=1),(!t.group||this.group_search)&&(t.search_text=t.group?t.label:t.html,t.search_match=this.search_string_match(t.search_text,n),t.search_match&&!t.group&&(r+=1),t.search_match?(s.length&&(a=t.search_text.search(u),l=t.search_text.substr(0,a+s.length)+"</em>"+t.search_text.substr(a+s.length),t.search_text=l.substr(0,a)+"<em>"+l.substr(a)),null!=o&&(o.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),1>r&&s.length?(this.update_results_content(""),this.no_results(s)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.search_string_match=function(e,t){var n,i,r,o;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(i=e.replace(/\[|\]/g,"").split(" "),i.length))for(r=0,o=i.length;o>r;r++)if(n=i[r],t.test(n))return!0},e.prototype.choices_count=function(){var e,t,n,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,i=this.form_field.options,t=0,n=i.length;n>t;t++)e=i[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(){return setTimeout(function(e){return function(){return e.results_search()}}(this),50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return this.is_multiple&&!this.display_selected_options&&e.selected?!1:!this.display_disabled_options&&e.disabled?!1:e.empty?!1:!0},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){return this.touch_started?this.search_results_mouseup(e):void 0},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:(t=document.createElement("div"),t.appendChild(e),t.innerHTML)},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),window.AbstractChosen=e}.call(this),function(){var e;e=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,i,r,o,s;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled}),o=e.childNodes,s=[],i=0,r=o.length;r>i;i++)n=o[i],s.push(this.add_option(n,t,e.disabled));return s},e.prototype.add_option=function(e,t,n){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:n===!0?n:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t,n;return null==e||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(n,function(e){return t[e]||"&amp;"})):e},e}(),e.select_to_array=function(t){var n,i,r,o,s;for(i=new e,s=t.childNodes,r=0,o=s.length;o>r;r++)n=s[r],i.add_node(n);return i.parsed},window.SelectParser=e}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=jQuery,e.fn.extend({chosen:function(n){return AbstractChosen.browser_is_supported()?this.each(function(){var i,r;i=e(this),r=i.data("chosen"),"destroy"===n&&r?r.destroy():r||i.data("chosen",new t(this,n))}):this}}),t=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},n.prototype.set_up_html=function(){var t,n;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),n={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(n.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",n),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},n.prototype.register_observers=function(){return this.container.bind("mousedown.chosen",function(e){return function(t){e.container_mousedown(t)}}(this)),this.container.bind("mouseup.chosen",function(e){return function(t){e.container_mouseup(t)}}(this)),this.container.bind("mouseenter.chosen",function(e){return function(t){e.mouse_enter(t)}}(this)),this.container.bind("mouseleave.chosen",function(e){return function(t){e.mouse_leave(t)}}(this)),this.search_results.bind("mouseup.chosen",function(e){return function(t){e.search_results_mouseup(t)}}(this)),this.search_results.bind("mouseover.chosen",function(e){return function(t){e.search_results_mouseover(t)}}(this)),this.search_results.bind("mouseout.chosen",function(e){return function(t){e.search_results_mouseout(t)}}(this)),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){return function(t){e.search_results_mousewheel(t)}}(this)),this.search_results.bind("touchstart.chosen",function(e){return function(t){e.search_results_touchstart(t)}}(this)),this.search_results.bind("touchmove.chosen",function(e){return function(t){e.search_results_touchmove(t)}}(this)),this.search_results.bind("touchend.chosen",function(e){return function(t){e.search_results_touchend(t)}}(this)),this.form_field_jq.bind("chosen:updated.chosen",function(e){return function(t){e.results_update_field(t)}}(this)),this.form_field_jq.bind("chosen:activate.chosen",function(e){return function(t){e.activate_field(t)}}(this)),this.form_field_jq.bind("chosen:open.chosen",function(e){return function(t){e.container_mousedown(t)}}(this)),this.form_field_jq.bind("chosen:close.chosen",function(e){return function(t){e.input_blur(t)}}(this)),this.search_field.bind("blur.chosen",function(e){return function(t){e.input_blur(t)}}(this)),this.search_field.bind("keyup.chosen",function(e){return function(t){e.keyup_checker(t)}}(this)),this.search_field.bind("keydown.chosen",function(e){return function(t){e.keydown_checker(t)}}(this)),this.search_field.bind("focus.chosen",function(e){return function(t){e.input_focus(t)}}(this)),this.search_field.bind("cut.chosen",function(e){return function(t){e.clipboard_event_checker(t)}}(this)),this.search_field.bind("paste.chosen",function(e){return function(t){e.clipboard_event_checker(t)}}(this)),this.is_multiple?this.search_choices.bind("click.chosen",function(e){return function(t){e.choices_click(t)}}(this)):this.container.bind("click.chosen",function(e){e.preventDefault()})},n.prototype.destroy=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},n.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},n.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},n.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},n.prototype.search_results_mousewheel=function(e){var t;return e.originalEvent&&(t=-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},n.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},n.prototype.close_field=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},n.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},n.prototype.test_active_click=function(t){var n;return n=e(t.target).closest(".chosen-container"),n.length&&this.container[0]===n[0]?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},n.prototype.result_do_highlight=function(e){var t,n,i,r,o;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),r=i+o,n=this.result_highlight.position().top+this.search_results.scrollTop(),t=n+this.result_highlight.outerHeight(),t>=r)return this.search_results.scrollTop(t-i>0?t-i:0);if(o>n)return this.search_results.scrollTop(n)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},n.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},n.prototype.update_results_content=function(e){return this.search_results.html(e)},n.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},n.prototype.set_tab_index=function(){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},n.prototype.set_label_behavior=function(){return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(e){return function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}}(this)):void 0},n.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},n.prototype.search_results_mouseup=function(t){var n;return n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),n.length?(this.result_highlight=n,this.result_select(t),this.search_field.focus()):void 0},n.prototype.search_results_mouseover=function(t){var n;return n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),n?this.result_do_highlight(n):void 0},n.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},n.prototype.choice_build=function(t){var n,i;return n=e("<li />",{"class":"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?n.addClass("search-choice-disabled"):(i=e("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),i.bind("click.chosen",function(e){return function(t){return e.choice_destroy_link_click(t)}}(this)),n.append(i)),this.search_container.before(n)},n.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},n.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},n.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},n.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},n.prototype.result_select=function(e){var t,n;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),n=this.results_data[t[0].getAttribute("data-option-array-index")],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(n.text),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},n.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(e)},n.prototype.result_deselect=function(e){var t;return t=this.results_data[e],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},n.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},n.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html()},n.prototype.winnow_results_set_highlight=function(){var e,t;return t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null!=e?this.result_do_highlight(e):void 0},n.prototype.no_results=function(t){var n;return n=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),n.find("span").first().html(t),this.search_results.append(n),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},n.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},n.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},n.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},n.prototype.keydown_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},n.prototype.search_field_scale=function(){var t,n,i,r,o,s,a,l,u;if(this.is_multiple){for(i=0,a=0,o="position:absolute; left: -1000px; top: -1000px; display:none;",s=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,u=s.length;u>l;l++)r=s[l],o+=r+":"+this.search_field.css(r)+";";return t=e("<div />",{style:o}),t.text(this.search_field.val()),e("body").append(t),a=t.width()+25,t.remove(),n=this.container.outerWidth(),a>n-10&&(a=n-10),this.search_field.css({width:a+"px"})}},n}(AbstractChosen)}.call(this),/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(e){return a.raw?e:encodeURIComponent(e)}function n(e){return a.raw?e:decodeURIComponent(e)}function i(e){return t(a.json?JSON.stringify(e):String(e))}function r(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(s," ")),a.json?JSON.parse(e):e}catch(t){}}function o(t,n){var i=a.raw?t:r(t);return e.isFunction(n)?n(i):i}var s=/\+/g,a=e.cookie=function(r,s,l){if(void 0!==s&&!e.isFunction(s)){if(l=e.extend({},a.defaults,l),"number"==typeof l.expires){var u=l.expires,c=l.expires=new Date;c.setTime(+c+864e5*u)}return document.cookie=[t(r),"=",i(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var d=r?void 0:{},h=document.cookie?document.cookie.split("; "):[],p=0,f=h.length;f>p;p++){var m=h[p].split("="),g=n(m.shift()),v=m.join("=");if(r&&r===g){d=o(v,s);break}r||void 0===(v=o(v))||(d[g]=v)}return d};a.defaults={},e.removeCookie=function(t,n){return void 0===e.cookie(t)?!1:(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),// copyright chris wanstrath
function(e){function t(t,i,r){var o=this;return this.on("click.pjax",t,function(t){var s=e.extend({},h(i,r));s.container||(s.container=e(this).attr("data-pjax")||o),n(t,s)})}function n(t,n,i){i=h(n,i);var o=t.currentTarget;if("A"!==o.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||location.protocol!==o.protocol||location.hostname!==o.hostname||o.hash&&o.href.replace(o.hash,"")===location.href.replace(location.hash,"")||o.href===location.href+"#")){var s={url:o.href,container:e(o).attr("data-pjax"),target:o},a=e.extend({},s,i),l=e.Event("pjax:click");e(o).trigger(l,[a]),l.isDefaultPrevented()||(r(a),t.preventDefault())}}function i(t,n,i){i=h(n,i);var o=t.currentTarget;if("FORM"!==o.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var s={type:o.method.toUpperCase(),url:o.action,data:e(o).serializeArray(),container:e(o).attr("data-pjax"),target:o};r(e.extend({},s,i)),t.preventDefault()}function r(t){function n(t,n){var r=e.Event(t,{relatedTarget:i});return a.trigger(r,n),!r.isDefaultPrevented()}t=e.extend(!0,{},e.ajaxSettings,r.defaults,t),e.isFunction(t.url)&&(t.url=t.url());var i=t.target,o=d(t.url).hash,a=t.context=p(t.container);t.data||(t.data={}),t.data._pjax=a.selector;var l;t.beforeSend=function(e,i){return"GET"!==i.type&&(i.timeout=0),e.setRequestHeader("X-PJAX","true"),e.setRequestHeader("X-PJAX-Container",a.selector),n("pjax:beforeSend",[e,i])?(i.timeout>0&&(l=setTimeout(function(){n("pjax:timeout",[e,t])&&e.abort("timeout")},i.timeout),i.timeout=0),void(t.requestUrl=d(i.url).href)):!1},t.complete=function(e,i){l&&clearTimeout(l),n("pjax:complete",[e,i,t]),n("pjax:end",[e,t])},t.error=function(e,i,r){var o=g("",e,t),a=n("pjax:error",[e,i,r,t]);"GET"==t.type&&"abort"!==i&&a&&s(o.url)},t.success=function(i,l,c){var h="function"==typeof e.pjax.defaults.version?e.pjax.defaults.version():e.pjax.defaults.version,p=c.getResponseHeader("X-PJAX-Version"),f=g(i,c,t);if(h&&p&&h!==p)return void s(f.url);if(!f.contents)return void s(f.url);r.state={id:t.id||u(),url:f.url,title:f.title,container:a.selector,fragment:t.fragment,timeout:t.timeout},(t.push||t.replace)&&window.history.replaceState(r.state,f.title,f.url),document.activeElement.blur(),f.title&&(document.title=f.title),a.html(f.contents);var m=a.find("input[autofocus], textarea[autofocus]").last()[0];if(m&&document.activeElement!==m&&m.focus(),v(f.scripts),"number"==typeof t.scrollTo&&e(window).scrollTop(t.scrollTo),""!==o){var y=d(f.url);y.hash=o,r.state.url=y.href,window.history.replaceState(r.state,f.title,y.href);var b=e(y.hash);b.length&&e(window).scrollTop(b.offset().top)}n("pjax:success",[i,l,c,t])},r.state||(r.state={id:u(),url:window.location.href,title:document.title,container:a.selector,fragment:t.fragment,timeout:t.timeout},window.history.replaceState(r.state,document.title));var h=r.xhr;h&&h.readyState<4&&(h.onreadystatechange=e.noop,h.abort()),r.options=t;var h=r.xhr=e.ajax(t);return h.readyState>0&&(t.push&&!t.replace&&(y(r.state.id,a.clone().contents()),window.history.pushState(null,"",c(t.requestUrl))),n("pjax:start",[h,t]),n("pjax:send",[h,t])),r.xhr}function o(t,n){var i={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return r(e.extend(i,h(t,n)))}function s(e){window.history.replaceState(null,"","#"),window.location.replace(e)}function a(t){var n=t.state;if(n&&n.container){if(k&&S==n.url)return;if(r.state.id===n.id)return;var i=e(n.container);if(i.length){var o,a=T[n.id];r.state&&(o=r.state.id<n.id?"forward":"back",b(o,r.state.id,i.clone().contents()));var l=e.Event("pjax:popstate",{state:n,direction:o});i.trigger(l);var u={id:n.id,url:n.url,container:i,push:!1,fragment:n.fragment,timeout:n.timeout,scrollTo:!1};a?(i.trigger("pjax:start",[null,u]),n.title&&(document.title=n.title),i.html(a),r.state=n,i.trigger("pjax:end",[null,u])):r(u),i[0].offsetHeight}else s(location.href)}k=!1}function l(t){var n=e.isFunction(t.url)?t.url():t.url,i=t.type?t.type.toUpperCase():"GET",r=e("<form>",{method:"GET"===i?"GET":"POST",action:n,style:"display:none"});"GET"!==i&&"POST"!==i&&r.append(e("<input>",{type:"hidden",name:"_method",value:i.toLowerCase()}));var o=t.data;if("string"==typeof o)e.each(o.split("&"),function(t,n){var i=n.split("=");r.append(e("<input>",{type:"hidden",name:i[0],value:i[1]}))});else if("object"==typeof o)for(key in o)r.append(e("<input>",{type:"hidden",name:key,value:o[key]}));e(document.body).append(r),r.submit()}function u(){return(new Date).getTime()}function c(e){return e.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function d(e){var t=document.createElement("a");return t.href=e,t}function h(t,n){return t&&n?n.container=t:n=e.isPlainObject(t)?t:{container:t},n.container&&(n.container=p(n.container)),n}function p(t){if(t=e(t),t.length){if(""!==t.selector&&t.context===document)return t;if(t.attr("id"))return e("#"+t.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+t.selector}function f(e,t){return e.filter(t).add(e.find(t))}function m(t){return e.parseHTML(t,document,!0)}function g(t,n,i){var r={};if(r.url=c(n.getResponseHeader("X-PJAX-URL")||i.requestUrl),/<html/i.test(t))var o=e(m(t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),s=e(m(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var o=s=e(m(t));if(0===s.length)return r;if(r.title=f(o,"title").last().text(),i.fragment){if("body"===i.fragment)var a=s;else var a=f(s,i.fragment).first();a.length&&(r.contents=a.contents(),r.title||(r.title=a.attr("title")||a.data("title")))}else/<html/i.test(t)||(r.contents=s);return r.contents&&(r.contents=r.contents.not(function(){return e(this).is("title")}),r.contents.find("title").remove(),r.scripts=f(r.contents,"script[src]").remove(),r.contents=r.contents.not(r.scripts)),r.title&&(r.title=e.trim(r.title)),r}function v(t){if(t){var n=e("script[src]");t.each(function(){var t=this.src,i=n.filter(function(){return this.src===t});if(!i.length){var r=document.createElement("script");r.type=e(this).attr("type"),r.src=e(this).attr("src"),document.head.appendChild(r)}})}}function y(e,t){for(T[e]=t,M.push(e);E.length;)delete T[E.shift()];for(;M.length>r.defaults.maxCacheLength;)delete T[M.shift()]}function b(e,t,n){var i,r;T[t]=n,"forward"===e?(i=M,r=E):(i=E,r=M),i.push(t),(t=r.pop())&&delete T[t]}function _(){return e("meta").filter(function(){var t=e(this).attr("http-equiv");return t&&"X-PJAX-VERSION"===t.toUpperCase()}).attr("content")}function w(){e.fn.pjax=t,e.pjax=r,e.pjax.enable=e.noop,e.pjax.disable=x,e.pjax.click=n,e.pjax.submit=i,e.pjax.reload=o,e.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:_},e(window).on("popstate.pjax",a)}function x(){e.fn.pjax=function(){return this},e.pjax=l,e.pjax.enable=w,e.pjax.disable=e.noop,e.pjax.click=e.noop,e.pjax.submit=e.noop,e.pjax.reload=function(){window.location.reload()},e(window).off("popstate.pjax",a)}var k=!0,S=window.location.href,C=window.history.state;C&&C.container&&(r.state=C),"state"in window.history&&(k=!1);var T={},E=[],M=[];e.inArray("state",e.event.props)<0&&e.event.props.push("state"),e.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/),e.support.pjax?w():x()}(jQuery),function(){var e,t,n,i,r,o,s,a,l,u,c,d,h,p,f,m,g,v,y,b=[].slice,_=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=jQuery,e.payment={},e.payment.fn={},e.fn.payment=function(){var t,n;return n=arguments[0],t=2<=arguments.length?b.call(arguments,1):[],e.payment.fn[n].apply(this,t)},r=/(\d{1,4})/g,i=[{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,format:r,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:r,length:[14],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:r,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:r,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,format:r,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"visa",pattern:/^4/,format:r,length:[13,16],cvcLength:[3],luhn:!0}],t=function(e){var t,n,r;for(e=(e+"").replace(/\D/g,""),n=0,r=i.length;r>n;n++)if(t=i[n],t.pattern.test(e))return t},n=function(e){var t,n,r;for(n=0,r=i.length;r>n;n++)if(t=i[n],t.type===e)return t},h=function(e){var t,n,i,r,o,s;for(i=!0,r=0,n=(e+"").split("").reverse(),o=0,s=n.length;s>o;o++)t=n[o],t=parseInt(t,10),(i=!i)&&(t*=2),t>9&&(t-=9),r+=t;return r%10===0},d=function(e){var t;return null!=e.prop("selectionStart")&&e.prop("selectionStart")!==e.prop("selectionEnd")?!0:("undefined"!=typeof document&&null!==document&&null!=(t=document.selection)&&"function"==typeof t.createRange?t.createRange().text:void 0)?!0:!1},p=function(t){return setTimeout(function(){return function(){var n,i;return n=e(t.currentTarget),i=n.val(),i=e.payment.formatCardNumber(i),n.val(i)}}(this))},a=function(n){var i,r,o,s,a,l,u;return o=String.fromCharCode(n.which),!/^\d+$/.test(o)||(i=e(n.currentTarget),u=i.val(),r=t(u+o),s=(u.replace(/\D/g,"")+o).length,l=16,r&&(l=r.length[r.length.length-1]),s>=l||null!=i.prop("selectionStart")&&i.prop("selectionStart")!==u.length)?void 0:(a=r&&"amex"===r.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,a.test(u)?(n.preventDefault(),i.val(u+" "+o)):a.test(u+o)?(n.preventDefault(),i.val(u+o+" ")):void 0)},o=function(t){var n,i;return n=e(t.currentTarget),i=n.val(),t.meta||8!==t.which||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==i.length?void 0:/\d\s$/.test(i)?(t.preventDefault(),n.val(i.replace(/\d\s$/,""))):/\s\d?$/.test(i)?(t.preventDefault(),n.val(i.replace(/\s\d?$/,""))):void 0},l=function(t){var n,i,r;return i=String.fromCharCode(t.which),/^\d+$/.test(i)?(n=e(t.currentTarget),r=n.val()+i,/^\d$/.test(r)&&"0"!==r&&"1"!==r?(t.preventDefault(),n.val("0"+r+" / ")):/^\d\d$/.test(r)?(t.preventDefault(),n.val(""+r+" / ")):void 0):void 0},u=function(t){var n,i,r;return i=String.fromCharCode(t.which),/^\d+$/.test(i)?(n=e(t.currentTarget),r=n.val(),/^\d\d$/.test(r)?n.val(""+r+" / "):void 0):void 0},c=function(t){var n,i,r;return i=String.fromCharCode(t.which),"/"===i?(n=e(t.currentTarget),r=n.val(),/^\d$/.test(r)&&"0"!==r?n.val("0"+r+" / "):void 0):void 0},s=function(t){var n,i;if(!t.meta&&(n=e(t.currentTarget),i=n.val(),8===t.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length)))return/\d(\s|\/)+$/.test(i)?(t.preventDefault(),n.val(i.replace(/\d(\s|\/)*$/,""))):/\s\/\s?\d?$/.test(i)?(t.preventDefault(),n.val(i.replace(/\s\/\s?\d?$/,""))):void 0},v=function(e){var t;return e.metaKey||e.ctrlKey?!0:32===e.which?!1:0===e.which?!0:e.which<33?!0:(t=String.fromCharCode(e.which),!!/[\d\s]/.test(t))},m=function(n){var i,r,o,s;return i=e(n.currentTarget),o=String.fromCharCode(n.which),/^\d+$/.test(o)&&!d(i)?(s=(i.val()+o).replace(/\D/g,""),r=t(s),r?s.length<=r.length[r.length.length-1]:s.length<=16):void 0},g=function(t){var n,i,r;return n=e(t.currentTarget),i=String.fromCharCode(t.which),/^\d+$/.test(i)&&!d(n)?(r=n.val()+i,r=r.replace(/\D/g,""),r.length>6?!1:void 0):void 0},f=function(t){var n,i,r;return n=e(t.currentTarget),i=String.fromCharCode(t.which),/^\d+$/.test(i)&&!d(n)?(r=n.val()+i,r.length<=4):void 0},y=function(t){var n,r,o,s,a;return n=e(t.currentTarget),a=n.val(),s=e.payment.cardType(a)||"unknown",n.hasClass(s)?void 0:(r=function(){var e,t,n;for(n=[],e=0,t=i.length;t>e;e++)o=i[e],n.push(o.type);return n}(),n.removeClass("unknown"),n.removeClass(r.join(" ")),n.addClass(s),n.toggleClass("identified","unknown"!==s),n.trigger("payment.cardType",s))},e.payment.fn.formatCardCVC=function(){return this.payment("restrictNumeric"),this.on("keypress",f),this},e.payment.fn.formatCardExpiry=function(){return this.payment("restrictNumeric"),this.on("keypress",g),this.on("keypress",l),this.on("keypress",c),this.on("keypress",u),this.on("keydown",s),this},e.payment.fn.formatCardNumber=function(){return this.payment("restrictNumeric"),this.on("keypress",m),this.on("keypress",a),this.on("keydown",o),this.on("keyup",y),this.on("paste",p),this},e.payment.fn.restrictNumeric=function(){return this.on("keypress",v),this},e.payment.fn.cardExpiryVal=function(){return e.payment.cardExpiryVal(e(this).val())},e.payment.cardExpiryVal=function(e){var t,n,i,r;return e=e.replace(/\s/g,""),r=e.split("/",2),t=r[0],i=r[1],2===(null!=i?i.length:void 0)&&/^\d+$/.test(i)&&(n=(new Date).getFullYear(),n=n.toString().slice(0,2),i=n+i),t=parseInt(t,10),i=parseInt(i,10),{month:t,year:i}},e.payment.validateCardNumber=function(e){var n,i;return e=(e+"").replace(/\s+|-/g,""),/^\d+$/.test(e)?(n=t(e),n?(i=e.length,_.call(n.length,i)>=0&&(n.luhn===!1||h(e))):!1):!1},e.payment.validateCardExpiry=function(){return function(t,n){var i,r,o,s;return"object"==typeof t&&"month"in t&&(s=t,t=s.month,n=s.year),t&&n?(t=e.trim(t),n=e.trim(n),/^\d+$/.test(t)&&/^\d+$/.test(n)&&parseInt(t,10)<=12?(2===n.length&&(o=(new Date).getFullYear(),o=o.toString().slice(0,2),n=o+n),r=new Date(n,t),i=new Date,r.setMonth(r.getMonth()-1),r.setMonth(r.getMonth()+1,1),r>i):!1):!1}}(this),e.payment.validateCardCVC=function(t,i){var r,o;return t=e.trim(t),/^\d+$/.test(t)?i?(r=t.length,_.call(null!=(o=n(i))?o.cvcLength:void 0,r)>=0):t.length>=3&&t.length<=4:!1},e.payment.cardType=function(e){var n;return e?(null!=(n=t(e))?n.type:void 0)||null:null},e.payment.formatCardNumber=function(e){var n,i,r,o;return(n=t(e))?(r=n.length[n.length.length-1],e=e.replace(/\D/g,""),e=e.slice(0,+r+1||9e9),n.format.global?null!=(o=e.match(n.format))?o.join(" "):void 0:(i=n.format.exec(e),null!=i&&i.shift(),null!=i?i.join(" "):void 0)):e}}.call(this),function(e,t,n){function i(e){var t={},i=/^jQuery\d+$/;return n.each(e.attributes,function(e,n){n.specified&&!i.test(n.name)&&(t[n.name]=n.value)}),t}function r(e,t){var i=this,r=n(i);if(i.value==r.attr("placeholder")&&r.hasClass("placeholder"))if(r.data("placeholder-password")){if(r=r.hide().next().show().attr("id",r.removeAttr("id").data("placeholder-id")),e===!0)return r[0].value=t;r.focus()}else i.value="",r.removeClass("placeholder"),i==s()&&i.select()}function o(){var e,t=this,o=n(t),s=this.id;if(""==t.value){if("password"==t.type){if(!o.data("placeholder-textinput")){try{e=o.clone().attr({type:"text"})}catch(a){e=n("<input>").attr(n.extend(i(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":o,"placeholder-id":s}).bind("focus.placeholder",r),o.data({"placeholder-textinput":e,"placeholder-id":s}).before(e)}o=o.removeAttr("id").hide().prev().attr("id",s).show()}o.addClass("placeholder"),o[0].value=o.attr("placeholder")}else o.removeClass("placeholder")}function s(){try{return t.activeElement}catch(e){}}var a,l,u="[object OperaMini]"==Object.prototype.toString.call(e.operamini),c="placeholder"in t.createElement("input")&&!u,d="placeholder"in t.createElement("textarea")&&!u,h=n.fn,p=n.valHooks,f=n.propHooks;c&&d?(l=h.placeholder=function(){return this},l.input=l.textarea=!0):(l=h.placeholder=function(){var e=this;return e.filter((c?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":r,"blur.placeholder":o}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},l.input=c,l.textarea=d,a={get:function(e){var t=n(e),i=t.data("placeholder-password");return i?i[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var i=n(e),a=i.data("placeholder-password");return a?a[0].value=t:i.data("placeholder-enabled")?(""==t?(e.value=t,e!=s()&&o.call(e)):i.hasClass("placeholder")?r.call(e,!0,t)||(e.value=t):e.value=t,i):e.value=t}},c||(p.input=a,f.value=a),d||(p.textarea=a,f.value=a),n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(r);setTimeout(function(){e.each(o)},10)})}),n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),/*
 * jQuery Hotkeys Plugin
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Based upon the plugin by Tzury Bar Yochay:
 * http://github.com/tzuryby/hotkeys
 *
 * Original idea by:
 * Binny V A, http://www.openjs.com/scripts/events/keyboard_shortcuts/
*/
function(e){function t(t){if("string"==typeof t.data){var n=t.handler,i=t.data.toLowerCase().split(" ");t.handler=function(t){if(this===t.target||!/textarea|select/i.test(t.target.nodeName)&&"text"!==t.target.type){var r="keypress"!==t.type&&e.hotkeys.specialKeys[t.which],o=String.fromCharCode(t.which).toLowerCase(),s="",a={};t.altKey&&"alt"!==r&&(s+="alt+"),t.ctrlKey&&"ctrl"!==r&&(s+="ctrl+"),t.metaKey&&!t.ctrlKey&&"meta"!==r&&(s+="meta+"),t.shiftKey&&"shift"!==r&&(s+="shift+"),r?a[s+r]=!0:(a[s+o]=!0,a[s+e.hotkeys.shiftNums[o]]=!0,"shift+"===s&&(a[e.hotkeys.shiftNums[o]]=!0));for(var l=0,u=i.length;u>l;l++)if(a[i[l]])return n.apply(this,arguments)}}}}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},e.each(["keydown","keyup","keypress"],function(){e.event.special[this]={add:t}})}(jQuery),function(e,t){var n={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188,SPACE:32,HOME:36,END:35},i={triggerChar:"@",onDataRequest:e.noop,minChars:2,showAvatars:!0,elastic:!0,insertSpaceAfterMention:!0,classes:{autoCompleteItemActive:"active"},templates:{wrapper:t.template('<div class="mentions-input-box"></div>'),autocompleteList:t.template('<div class="mentions-autocomplete-list"></div>'),autocompleteListItem:t.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><%= content %></li>'),autocompleteListItemAvatar:t.template('<img src="<%= avatar %>" />'),autocompleteListItemIcon:t.template('<div class="icon <%= icon %>"></div>'),mentionsOverlay:t.template('<div class="mentions"><div></div></div>'),mentionItemSyntax:t.template("@[<%= value %>](<%= type %>:<%= id %>)"),mentionItemHighlight:t.template("<strong><span><%= value %></span></strong>")}},r={htmlEncode:function(e){return t.escape(e)},highlightTerm:function(e,t){return t||t.length?e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>"):e},setCaratPosition:function(e,t){if(e.createTextRange){var n=e.createTextRange();n.move("character",t),n.select()}else e.selectionStart?(e.focus(),e.setSelectionRange(t,t)):e.focus()},rtrim:function(e){return e.replace(/\s+$/,"")}},o=function(o){function s(){T=e(C),"true"!=T.attr("data-mentions-input")&&(E=T.parent(),A=e(o.templates.wrapper()),T.wrapAll(A),A=E.find("> div"),T.attr("data-mentions-input","true"),T.bind("keydown",b),T.bind("keypress",y),T.bind("input",v),T.bind("click",m),T.bind("blur",g),o.elastic&&T.elastic())}function a(){M=e(o.templates.autocompleteList()),M.appendTo(A),M.delegate("li","mousedown",f)}function l(){j=e(o.templates.mentionsOverlay()),j.prependTo(A)}function u(){var e=p();t.each(L,function(t){var n=o.templates.mentionItemSyntax(t);e=e.replace(t.value,n)});var n=r.htmlEncode(e);t.each(L,function(e){var i=t.extend({},e,{value:r.htmlEncode(e.value)}),s=o.templates.mentionItemSyntax(i),a=o.templates.mentionItemHighlight(i);n=n.replace(s,a)}),n=n.replace(/\n/g,"<br />"),n=n.replace(/ {2}/g,"&nbsp; "),T.data("messageText",e),j.find("div").html(n)}function c(){O=[]}function d(){var e=p();L=t.reject(L,function(t){return!t.value||-1==e.indexOf(t.value)}),L=t.compact(L)}function h(e){var t=p(),n=new RegExp("\\"+o.triggerChar+P,"gi");if(match=n.exec(t)){var i=n.lastIndex-P.length-1,s=n.lastIndex,a=t.substr(0,i),l=t.substr(s,t.length),d=(a+e.value).length;o.insertSpaceAfterMention&&(d+=1),L.push(e),c(),P="",_();var h=a+e.value;o.insertSpaceAfterMention&&(h+=" "),h+=l,T.val(h),u(),T.focus(),r.setCaratPosition(T[0],d)}}function p(){return e.trim(T.val())}function f(){var t=e(this),n=I[t.attr("data-uid")];return h(n),!1}function m(){c()}function g(){_()}function v(){u(),d();var e=t.lastIndexOf(O,o.triggerChar);e>-1&&(P=O.slice(e+1).join(""),P=r.rtrim(P),t.defer(t.bind(k,this,P)))}function y(e){if(e.keyCode!==n.BACKSPACE){var t=String.fromCharCode(e.which||e.keyCode);O.push(t)}}function b(i){if(i.keyCode==n.LEFT||i.keyCode==n.RIGHT||i.keyCode==n.HOME||i.keyCode==n.END)return t.defer(c),void(navigator.userAgent.indexOf("MSIE 9")>-1&&t.defer(u));if(i.keyCode==n.BACKSPACE)return void(O=O.slice(0,-1+O.length));if(!M.is(":visible"))return!0;switch(i.keyCode){case n.UP:case n.DOWN:var r=null;return r=i.keyCode==n.DOWN?N&&N.length?N.next():M.find("li").first():e(N).prev(),r.length&&w(r),!1;case n.RETURN:case n.TAB:return N&&N.length?(N.trigger("mousedown"),!1):!0}return!0}function _(){N=null,M.empty().hide()}function w(e){e.addClass(o.classes.autoCompleteItemActive),e.siblings().removeClass(o.classes.autoCompleteItemActive),N=e}function x(n,i){M.show();var s=t.pluck(L,"value");if(i=t.reject(i,function(e){return t.include(s,e.name)}),!i.length)return void _();M.empty();var a=e("<ul>").appendTo(M).hide();t.each(i,function(i,s){var l=t.uniqueId("mention_");I[l]=t.extend({},i,{value:i.name});var u=e(o.templates.autocompleteListItem({id:r.htmlEncode(i.id),display:r.htmlEncode(i.name),type:r.htmlEncode(i.type),username:r.highlightTerm(r.htmlEncode(i.username),n),content:r.highlightTerm(r.htmlEncode(i.name),n)})).attr("data-uid",l);if(0===s&&w(u),o.showAvatars){var c;c=e(i.avatar?o.templates.autocompleteListItemAvatar({avatar:i.avatar,type:i.type}):o.templates.autocompleteListItemIcon({icon:i.icon})),c.prependTo(u.find("a"))}u=u.appendTo(a)}),M.show(),a.show()}function k(e){e&&e.length&&e.length>=o.minChars?o.onDataRequest.call(this,"search",e,function(t){x(e,t)}):_()}function S(){T.val(""),L=[],u()}var C,T,E,M,A,j,N,P,L=[],I={},O=[];return o=e.extend(!0,{},i,o),{init:function(e){C=e,s(),a(),l(),S(),o.prefillMention&&h(o.prefillMention)},val:function(e){if(t.isFunction(e)){var n=L.length?T.data("messageText"):p();e.call(this,n)}},reset:function(){S()},getMentions:function(e){t.isFunction(e)&&e.call(this,L)},setMentions:function(e,n){T.val(e),insertSpace=o.insertSpaceAfterMention,o.insertSpaceAfterMention=!1,t.each(n,function(e){e.value=e.name,P=e.value,h(e)}),o.insertSpaceAfterMention=insertSpace}}};e.fn.mentionsInput=function(n,i){var r=arguments;return"object"!=typeof n&&n||(i=n),this.each(function(){var s=e.data(this,"mentionsInput")||e.data(this,"mentionsInput",new o(i));return t.isFunction(s[n])?s[n].apply(this,Array.prototype.slice.call(r,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist"):s.init.call(this,this)})}}(jQuery,_),/*!
 * Tinycon - A small library for manipulating the Favicon
 * Tom Moor, http://tommoor.com
 * Copyright (c) 2012 Tom Moor
 * @license MIT Licensed
 * @version 0.6.3
 */
function(){var e={},t=null,n=null,i=null,r=null,o={},s=window.devicePixelRatio||1,a=16*s,l={width:7,height:9,font:10*s+"px arial",colour:"#ffffff",background:"#F03D25",fallback:!0,crossOrigin:!0,abbreviate:!0},u=function(){var e=navigator.userAgent.toLowerCase();return function(t){return-1!==e.indexOf(t)}}(),c={ie:u("msie"),chrome:u("chrome"),webkit:u("chrome")||u("safari"),safari:u("safari")&&!u("chrome"),mozilla:u("mozilla")&&!u("chrome")&&!u("safari")},d=function(){for(var e=document.getElementsByTagName("link"),t=0,n=e.length;n>t;t++)if((e[t].getAttribute("rel")||"").match(/\bicon\b/))return e[t];return!1},h=function(){for(var e=document.getElementsByTagName("link"),t=document.getElementsByTagName("head")[0],n=0,i=e.length;i>n;n++){var r="undefined"!=typeof e[n];r&&(e[n].getAttribute("rel")||"").match(/\bicon\b/)&&t.removeChild(e[n])}},p=function(){if(!n||!t){var e=d();n=t=e?e.getAttribute("href"):"/favicon.ico"}return t},f=function(){return r||(r=document.createElement("canvas"),r.width=a,r.height=a),r},m=function(e){h();var t=document.createElement("link");t.type="image/x-icon",t.rel="icon",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)},g=function(e,t){if(!f().getContext||c.ie||c.safari||"force"===o.fallback)return v(e);var n=f().getContext("2d"),t=t||"#000000",r=p();i=document.createElement("img"),i.onload=function(){n.clearRect(0,0,a,a),n.drawImage(i,0,0,i.width,i.height,0,0,a,a),(e+"").length>0&&y(n,e,t),b()},!r.match(/^data/)&&o.crossOrigin&&(i.crossOrigin="anonymous"),i.src=r},v=function(e){if(o.fallback){var t=document.title;"("===t[0]&&(t=t.slice(t.indexOf(" "))),document.title=(e+"").length>0?"("+e+") "+t:t}},y=function(e,t){"number"==typeof t&&t>99&&o.abbreviate&&(t=_(t));var n=(t+"").length-1,i=o.width*s+6*s*n,r=o.height*s,l=a-r,u=a-i-s,d=16*s,h=16*s,p=2*s;e.font=(c.webkit?"bold ":"")+o.font,e.fillStyle=o.background,e.strokeStyle=o.background,e.lineWidth=s,e.beginPath(),e.moveTo(u+p,l),e.quadraticCurveTo(u,l,u,l+p),e.lineTo(u,d-p),e.quadraticCurveTo(u,d,u+p,d),e.lineTo(h-p,d),e.quadraticCurveTo(h,d,h,d-p),e.lineTo(h,l+p),e.quadraticCurveTo(h,l,h-p,l),e.closePath(),e.fill(),e.beginPath(),e.strokeStyle="rgba(0,0,0,0.3)",e.moveTo(u+p/2,d),e.lineTo(h-p/2,d),e.stroke(),e.fillStyle=o.colour,e.textAlign="right",e.textBaseline="top",e.fillText(t,2===s?29:15,c.mozilla?7*s:6*s)},b=function(){f().getContext&&m(f().toDataURL())},_=function(e){for(var t=[["G",1e9],["M",1e6],["k",1e3]],n=0;n<t.length;++n)if(e>=t[n][1]){e=w(e/t[n][1])+t[n][0];break}return e},w=function(e,t){var n=new Number(e);return n.toFixed(t)};e.setOptions=function(e){o={};for(var t in l)o[t]=e.hasOwnProperty(t)?e[t]:l[t];return this},e.setImage=function(e){return t=e,b(),this},e.setBubble=function(e,t){return e=e||"",g(e,t),this},e.reset=function(){m(n)},e.setOptions(l),window.Tinycon=e,"function"==typeof define&&define.amd&&define(e)}(),/*!
 * Chart.js
 * http://chartjs.org/
 *
 * Copyright 2013 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
window.Chart=function(e){function t(e,t,n){var i=t.steps*t.stepValue,r=e-t.graphMin,o=u(r/i,1,0);return n*t.steps*o}function n(e,t,n,i){function r(){var r=e.animation?u(a(l),null,0):1;v(i),e.scaleOverlay?(n(r),t()):(t(),n(r))}function o(){l+=s,r(),1>=l?S(o):"function"==typeof e.onAnimationComplete&&e.onAnimationComplete()}var s=e.animation?1/u(e.animationSteps,Number.MAX_VALUE,1):1,a=f[e.animationEasing],l=e.animation?0:1;"function"!=typeof t&&(t=function(){}),S(o)}function i(e,t,n,i,o,s){function a(e){return Math.floor(Math.log(e)/Math.LN10)}var l,u,c,d,h,p,f;for(p=i-o,f=a(p),l=Math.floor(o/(1*Math.pow(10,f)))*Math.pow(10,f),u=Math.ceil(i/(1*Math.pow(10,f)))*Math.pow(10,f),c=u-l,d=Math.pow(10,f),h=Math.round(c/d);n>h||h>t;)n>h?(d/=2,h=Math.round(c/d)):(d*=2,h=Math.round(c/d));var m=[];return r(s,m,h,l,d),{steps:h,stepValue:d,graphMin:l,labels:m}}function r(e,t,n,i,r){if(e)for(var o=1;n+1>o;o++)t.push(h(e,{value:(i+r*o).toFixed(c(r))}))}function o(e){return Math.max.apply(Math,e)}function s(e){return Math.min.apply(Math,e)}function a(e,t){return e?e:t}function l(e){return!isNaN(parseFloat(e))&&isFinite(e)}function u(e,t,n){return l(t)&&e>t?t:l(n)&&n>e?n:e}function c(e){return e%1!=0?e.toString().split(".")[1].length:0}function d(e,t){var n={};for(var i in e)n[i]=e[i];for(var i in t)n[i]=t[i];return n}function h(e,t){var n=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):C[e]=C[e]||h(document.getElementById(e).innerHTML);return t?n(t):n}var p=this,f={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-0.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-0.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-0.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0==e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1==e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0==e?0:1==e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;if(0==e)return 0;if(1==(e/=1))return 1;if(n||(n=.3),i<Math.abs(1)){i=1;var t=n/4}else var t=n/(2*Math.PI)*Math.asin(1/i);return-(i*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;if(0==e)return 0;if(1==(e/=1))return 1;if(n||(n=.3),i<Math.abs(1)){i=1;var t=n/4}else var t=n/(2*Math.PI)*Math.asin(1/i);return i*Math.pow(2,-10*e)*Math.sin(2*(1*e-t)*Math.PI/n)+1},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;if(0==e)return 0;if(2==(e/=.5))return 1;if(n||(n=.3*1.5),i<Math.abs(1)){i=1;var t=n/4}else var t=n/(2*Math.PI)*Math.asin(1/i);return 1>e?-.5*i*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n):i*Math.pow(2,-10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)*.5+1},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-f.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*f.easeInBounce(2*e):.5*f.easeOutBounce(2*e-1)+.5}},m=e.canvas.width,g=e.canvas.height;window.devicePixelRatio&&(e.canvas.style.width=m+"px",e.canvas.style.height=g+"px",e.canvas.height=g*window.devicePixelRatio,e.canvas.width=m*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio)),this.PolarArea=function(t,n){p.PolarArea.defaults={scaleOverlay:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var i=n?d(p.PolarArea.defaults,n):p.PolarArea.defaults;return new y(t,i,e)},this.Radar=function(t,n){p.Radar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!1,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var i=n?d(p.Radar.defaults,n):p.Radar.defaults;return new b(t,i,e)},this.Pie=function(t,n){p.Pie.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var i=n?d(p.Pie.defaults,n):p.Pie.defaults;return new _(t,i,e)},this.Doughnut=function(t,n){p.Doughnut.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var i=n?d(p.Doughnut.defaults,n):p.Doughnut.defaults;return new w(t,i,e)},this.Line=function(t,n){p.Line.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:2,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var i=n?d(p.Line.defaults,n):p.Line.defaults;return new x(t,i,e)},this.Bar=function(t,n){p.Bar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var i=n?d(p.Bar.defaults,n):p.Bar.defaults;return new k(t,i,e)};var v=function(e){e.clearRect(0,0,m,g)},y=function(e,l,u){function c(){f=s([m,g])/2,f-=o([.5*l.scaleFontSize,.5*l.scaleLineWidth]),b=2*l.scaleFontSize,l.scaleShowLabelBackdrop&&(b+=2*l.scaleBackdropPaddingY,f-=1.5*l.scaleBackdropPaddingY),_=f,b=a(b,5)}function d(){for(var e=0;e<y.steps;e++)if(l.scaleShowLine&&(u.beginPath(),u.arc(m/2,g/2,v*(e+1),0,2*Math.PI,!0),u.strokeStyle=l.scaleLineColor,u.lineWidth=l.scaleLineWidth,u.stroke()),l.scaleShowLabels){u.textAlign="center",u.font=l.scaleFontStyle+" "+l.scaleFontSize+"px "+l.scaleFontFamily;var t=y.labels[e];if(l.scaleShowLabelBackdrop){var n=u.measureText(t).width;u.fillStyle=l.scaleBackdropColor,u.beginPath(),u.rect(Math.round(m/2-n/2-l.scaleBackdropPaddingX),Math.round(g/2-v*(e+1)-.5*l.scaleFontSize-l.scaleBackdropPaddingY),Math.round(n+2*l.scaleBackdropPaddingX),Math.round(l.scaleFontSize+2*l.scaleBackdropPaddingY)),u.fill()}u.textBaseline="middle",u.fillStyle=l.scaleFontColor,u.fillText(t,m/2,g/2-v*(e+1))}}function h(n){var i=-Math.PI/2,r=2*Math.PI/e.length,o=1,s=1;l.animation&&(l.animateScale&&(o=n),l.animateRotate&&(s=n));for(var a=0;a<e.length;a++)u.beginPath(),u.arc(m/2,g/2,o*t(e[a].value,y,v),i,i+s*r,!1),u.lineTo(m/2,g/2),u.closePath(),u.fillStyle=e[a].color,u.fill(),l.segmentShowStroke&&(u.strokeStyle=l.segmentStrokeColor,u.lineWidth=l.segmentStrokeWidth,u.stroke()),i+=s*r}function p(){for(var t=Number.MIN_VALUE,n=Number.MAX_VALUE,i=0;i<e.length;i++)e[i].value>t&&(t=e[i].value),e[i].value<n&&(n=e[i].value);var r=Math.floor(_/(.66*b)),o=Math.floor(_/b*.5);return{maxValue:t,minValue:n,maxSteps:r,minSteps:o}}var f,v,y,b,_,w,x;c(),w=p(),x=l.scaleShowLabels?l.scaleLabel:null,l.scaleOverride?(y={steps:l.scaleSteps,stepValue:l.scaleStepWidth,graphMin:l.scaleStartValue,labels:[]},r(x,y.labels,y.steps,l.scaleStartValue,l.scaleStepWidth)):y=i(_,w.maxSteps,w.minSteps,w.maxValue,w.minValue,x),v=f/y.steps,n(l,d,h,u)},b=function(e,l,c){function d(n){var i=2*Math.PI/e.datasets[0].data.length;c.save(),c.translate(m/2,g/2);for(var r=0;r<e.datasets.length;r++){c.beginPath(),c.moveTo(0,-1*n*t(e.datasets[r].data[0],b,y));for(var o=1;o<e.datasets[r].data.length;o++)c.rotate(i),c.lineTo(0,-1*n*t(e.datasets[r].data[o],b,y));if(c.closePath(),c.fillStyle=e.datasets[r].fillColor,c.strokeStyle=e.datasets[r].strokeColor,c.lineWidth=l.datasetStrokeWidth,c.fill(),c.stroke(),l.pointDot){c.fillStyle=e.datasets[r].pointColor,c.strokeStyle=e.datasets[r].pointStrokeColor,c.lineWidth=l.pointDotStrokeWidth;for(var s=0;s<e.datasets[r].data.length;s++)c.rotate(i),c.beginPath(),c.arc(0,-1*n*t(e.datasets[r].data[s],b,y),l.pointDotRadius,2*Math.PI,!1),c.fill(),c.stroke()}c.rotate(i)}c.restore()}function h(){var t=2*Math.PI/e.datasets[0].data.length;if(c.save(),c.translate(m/2,g/2),l.angleShowLineOut){c.strokeStyle=l.angleLineColor,c.lineWidth=l.angleLineWidth;for(var n=0;n<e.datasets[0].data.length;n++)c.rotate(t),c.beginPath(),c.moveTo(0,0),c.lineTo(0,-v),c.stroke()}for(var i=0;i<b.steps;i++){if(c.beginPath(),l.scaleShowLine){c.strokeStyle=l.scaleLineColor,c.lineWidth=l.scaleLineWidth,c.moveTo(0,-y*(i+1));for(var r=0;r<e.datasets[0].data.length;r++)c.rotate(t),c.lineTo(0,-y*(i+1));c.closePath(),c.stroke()}if(l.scaleShowLabels){if(c.textAlign="center",c.font=l.scaleFontStyle+" "+l.scaleFontSize+"px "+l.scaleFontFamily,c.textBaseline="middle",l.scaleShowLabelBackdrop){var o=c.measureText(b.labels[i]).width;c.fillStyle=l.scaleBackdropColor,c.beginPath(),c.rect(Math.round(-o/2-l.scaleBackdropPaddingX),Math.round(-y*(i+1)-.5*l.scaleFontSize-l.scaleBackdropPaddingY),Math.round(o+2*l.scaleBackdropPaddingX),Math.round(l.scaleFontSize+2*l.scaleBackdropPaddingY)),c.fill()}c.fillStyle=l.scaleFontColor,c.fillText(b.labels[i],0,-y*(i+1))}}for(var s=0;s<e.labels.length;s++){c.font=l.pointLabelFontStyle+" "+l.pointLabelFontSize+"px "+l.pointLabelFontFamily,c.fillStyle=l.pointLabelFontColor;var a=Math.sin(t*s)*(v+l.pointLabelFontSize),u=Math.cos(t*s)*(v+l.pointLabelFontSize);c.textAlign=t*s==Math.PI||t*s==0?"center":t*s>Math.PI?"right":"left",c.textBaseline="middle",c.fillText(e.labels[s],a,-u)}c.restore()}function p(){v=s([m,g])/2,_=2*l.scaleFontSize;for(var t=0,n=0;n<e.labels.length;n++){c.font=l.pointLabelFontStyle+" "+l.pointLabelFontSize+"px "+l.pointLabelFontFamily;var i=c.measureText(e.labels[n]).width;i>t&&(t=i)}v-=o([t,l.pointLabelFontSize/2*1.5]),v-=l.pointLabelFontSize,v=u(v,null,0),w=v,_=a(_,5)}function f(){for(var t=Number.MIN_VALUE,n=Number.MAX_VALUE,i=0;i<e.datasets.length;i++)for(var r=0;r<e.datasets[i].data.length;r++)e.datasets[i].data[r]>t&&(t=e.datasets[i].data[r]),e.datasets[i].data[r]<n&&(n=e.datasets[i].data[r]);var o=Math.floor(w/(.66*_)),s=Math.floor(w/_*.5);return{maxValue:t,minValue:n,maxSteps:o,minSteps:s}}var v,y,b,_,w,x,k;e.labels||(e.labels=[]),p();var x=f();k=l.scaleShowLabels?l.scaleLabel:null,l.scaleOverride?(b={steps:l.scaleSteps,stepValue:l.scaleStepWidth,graphMin:l.scaleStartValue,labels:[]},r(k,b.labels,b.steps,l.scaleStartValue,l.scaleStepWidth)):b=i(w,x.maxSteps,x.minSteps,x.maxValue,x.minValue,k),y=v/b.steps,n(l,h,d,c)},_=function(e,t,i){function r(n){var r=-Math.PI/2,s=1,l=1;t.animation&&(t.animateScale&&(s=n),t.animateRotate&&(l=n));for(var u=0;u<e.length;u++){var c=l*(e[u].value/o)*2*Math.PI;i.beginPath(),i.arc(m/2,g/2,s*a,r,r+c),i.lineTo(m/2,g/2),i.closePath(),i.fillStyle=e[u].color,i.fill(),t.segmentShowStroke&&(i.lineWidth=t.segmentStrokeWidth,i.strokeStyle=t.segmentStrokeColor,i.stroke()),r+=c}}for(var o=0,a=s([g/2,m/2])-5,l=0;l<e.length;l++)o+=e[l].value;n(t,null,r,i)},w=function(e,t,i){function r(n){var r=-Math.PI/2,s=1,u=1;t.animation&&(t.animateScale&&(s=n),t.animateRotate&&(u=n));for(var c=0;c<e.length;c++){var d=u*(e[c].value/o)*2*Math.PI;i.beginPath(),i.arc(m/2,g/2,s*a,r,r+d,!1),i.arc(m/2,g/2,s*l,r+d,r,!0),i.closePath(),i.fillStyle=e[c].color,i.fill(),t.segmentShowStroke&&(i.lineWidth=t.segmentStrokeWidth,i.strokeStyle=t.segmentStrokeColor,i.stroke()),r+=d}}for(var o=0,a=s([g/2,m/2])-5,l=a*(t.percentageInnerCutout/100),u=0;u<e.length;u++)o+=e[u].value;n(t,null,r,i)},x=function(e,o,s){function a(n){function i(i,r){return C-n*t(e.datasets[i].data[r],f,p)}function r(e){return S+w*e}for(var a=0;a<e.datasets.length;a++){s.strokeStyle=e.datasets[a].strokeColor,s.lineWidth=o.datasetStrokeWidth,s.beginPath(),s.moveTo(S,C-n*t(e.datasets[a].data[0],f,p));for(var l=1;l<e.datasets[a].data.length;l++)o.bezierCurve?s.bezierCurveTo(r(l-.5),i(a,l-1),r(l-.5),i(a,l),r(l),i(a,l)):s.lineTo(r(l),i(a,l));if(s.stroke(),o.datasetFill?(s.lineTo(S+w*(e.datasets[a].data.length-1),C),s.lineTo(S,C),s.closePath(),s.fillStyle=e.datasets[a].fillColor,s.fill()):s.closePath(),o.pointDot){s.fillStyle=e.datasets[a].pointColor,s.strokeStyle=e.datasets[a].pointStrokeColor,s.lineWidth=o.pointDotStrokeWidth;for(var u=0;u<e.datasets[a].data.length;u++)s.beginPath(),s.arc(S+w*u,C-n*t(e.datasets[a].data[u],f,p),o.pointDotRadius,0,2*Math.PI,!0),s.fill(),s.stroke()}}}function l(){s.lineWidth=o.scaleLineWidth,s.strokeStyle=o.scaleLineColor,s.beginPath(),s.moveTo(m-x/2+5,C),s.lineTo(m-x/2-k-5,C),s.stroke(),T>0?(s.save(),s.textAlign="right"):s.textAlign="center",s.fillStyle=o.scaleFontColor;for(var t=0;t<e.labels.length;t++)s.save(),T>0?(s.translate(S+t*w,C+o.scaleFontSize),s.rotate(-(T*(Math.PI/180))),s.fillText(e.labels[t],0,0),s.restore()):s.fillText(e.labels[t],S+t*w,C+o.scaleFontSize+3),s.beginPath(),s.moveTo(S+t*w,C+3),o.scaleShowGridLines&&t>0?(s.lineWidth=o.scaleGridLineWidth,s.strokeStyle=o.scaleGridLineColor,s.lineTo(S+t*w,5)):s.lineTo(S+t*w,C+3),s.stroke();s.lineWidth=o.scaleLineWidth,s.strokeStyle=o.scaleLineColor,s.beginPath(),s.moveTo(S,C+5),s.lineTo(S,5),s.stroke(),s.textAlign="right",s.textBaseline="middle";for(var n=0;n<f.steps;n++)s.beginPath(),s.moveTo(S-3,C-(n+1)*p),o.scaleShowGridLines?(s.lineWidth=o.scaleGridLineWidth,s.strokeStyle=o.scaleGridLineColor,s.lineTo(S+k+5,C-(n+1)*p)):s.lineTo(S-.5,C-(n+1)*p),s.stroke(),o.scaleShowLabels&&s.fillText(f.labels[n],S-8,C-(n+1)*p)}function u(){var t=1;if(o.scaleShowLabels){s.font=o.scaleFontStyle+" "+o.scaleFontSize+"px "+o.scaleFontFamily;for(var n=0;n<f.labels.length;n++){var i=s.measureText(f.labels[n]).width;t=i>t?i:t}t+=10}k=m-t-x,w=Math.floor(k/(e.labels.length-1)),S=m-x/2-k,C=y+o.scaleFontSize/2}function c(){h=g,s.font=o.scaleFontStyle+" "+o.scaleFontSize+"px "+o.scaleFontFamily,x=1;for(var t=0;t<e.labels.length;t++){var n=s.measureText(e.labels[t]).width;x=n>x?n:x}m/e.labels.length<x?(T=45,m/e.labels.length<Math.cos(T)*x?(T=90,h-=x):h-=Math.sin(T)*x):h-=o.scaleFontSize,h-=5,v=o.scaleFontSize,h-=v,y=h}function d(){for(var t=Number.MIN_VALUE,n=Number.MAX_VALUE,i=0;i<e.datasets.length;i++)for(var r=0;r<e.datasets[i].data.length;r++)e.datasets[i].data[r]>t&&(t=e.datasets[i].data[r]),e.datasets[i].data[r]<n&&(n=e.datasets[i].data[r]);var o=Math.floor(y/(.66*v)),s=Math.floor(y/v*.5);return{maxValue:t,minValue:n,maxSteps:o,minSteps:s}}var h,p,f,v,y,b,_,w,x,k,S,C,T=0;c(),b=d(),_=o.scaleShowLabels?o.scaleLabel:"",o.scaleOverride?(f={steps:o.scaleSteps,stepValue:o.scaleStepWidth,graphMin:o.scaleStartValue,labels:[]},r(_,f.labels,f.steps,o.scaleStartValue,o.scaleStepWidth)):f=i(y,b.maxSteps,b.minSteps,b.maxValue,b.minValue,_),p=Math.floor(y/f.steps),u(),n(o,l,a,s)},k=function(e,o,s){function a(n){s.lineWidth=o.barStrokeWidth;for(var i=0;i<e.datasets.length;i++){s.fillStyle=e.datasets[i].fillColor,s.strokeStyle=e.datasets[i].strokeColor;for(var r=0;r<e.datasets[i].data.length;r++){var a=S+o.barValueSpacing+w*r+T*i+o.barDatasetSpacing*i+o.barStrokeWidth*i;s.beginPath(),s.moveTo(a,C),s.lineTo(a,C-n*t(e.datasets[i].data[r],f,p)+o.barStrokeWidth/2),s.lineTo(a+T,C-n*t(e.datasets[i].data[r],f,p)+o.barStrokeWidth/2),s.lineTo(a+T,C),o.barShowStroke&&s.stroke(),s.closePath(),s.fill()}}}function l(){s.lineWidth=o.scaleLineWidth,s.strokeStyle=o.scaleLineColor,s.beginPath(),s.moveTo(m-x/2+5,C),s.lineTo(m-x/2-k-5,C),s.stroke(),E>0?(s.save(),s.textAlign="right"):s.textAlign="center",s.fillStyle=o.scaleFontColor;for(var t=0;t<e.labels.length;t++)s.save(),E>0?(s.translate(S+t*w,C+o.scaleFontSize),s.rotate(-(E*(Math.PI/180))),s.fillText(e.labels[t],0,0),s.restore()):s.fillText(e.labels[t],S+t*w+w/2,C+o.scaleFontSize+3),s.beginPath(),s.moveTo(S+(t+1)*w,C+3),s.lineWidth=o.scaleGridLineWidth,s.strokeStyle=o.scaleGridLineColor,s.lineTo(S+(t+1)*w,5),s.stroke();s.lineWidth=o.scaleLineWidth,s.strokeStyle=o.scaleLineColor,s.beginPath(),s.moveTo(S,C+5),s.lineTo(S,5),s.stroke(),s.textAlign="right",s.textBaseline="middle";for(var n=0;n<f.steps;n++)s.beginPath(),s.moveTo(S-3,C-(n+1)*p),o.scaleShowGridLines?(s.lineWidth=o.scaleGridLineWidth,s.strokeStyle=o.scaleGridLineColor,s.lineTo(S+k+5,C-(n+1)*p)):s.lineTo(S-.5,C-(n+1)*p),s.stroke(),o.scaleShowLabels&&s.fillText(f.labels[n],S-8,C-(n+1)*p)}function u(){var t=1;if(o.scaleShowLabels){s.font=o.scaleFontStyle+" "+o.scaleFontSize+"px "+o.scaleFontFamily;for(var n=0;n<f.labels.length;n++){var i=s.measureText(f.labels[n]).width;t=i>t?i:t}t+=10}k=m-t-x,w=Math.floor(k/e.labels.length),T=(w-2*o.scaleGridLineWidth-2*o.barValueSpacing-(o.barDatasetSpacing*e.datasets.length-1)-(o.barStrokeWidth/2*e.datasets.length-1))/e.datasets.length,S=m-x/2-k,C=y+o.scaleFontSize/2}function c(){h=g,s.font=o.scaleFontStyle+" "+o.scaleFontSize+"px "+o.scaleFontFamily,x=1;for(var t=0;t<e.labels.length;t++){var n=s.measureText(e.labels[t]).width;x=n>x?n:x}m/e.labels.length<x?(E=45,m/e.labels.length<Math.cos(E)*x?(E=90,h-=x):h-=Math.sin(E)*x):h-=o.scaleFontSize,h-=5,v=o.scaleFontSize,h-=v,y=h}function d(){for(var t=Number.MIN_VALUE,n=Number.MAX_VALUE,i=0;i<e.datasets.length;i++)for(var r=0;r<e.datasets[i].data.length;r++)e.datasets[i].data[r]>t&&(t=e.datasets[i].data[r]),e.datasets[i].data[r]<n&&(n=e.datasets[i].data[r]);var o=Math.floor(y/(.66*v)),s=Math.floor(y/v*.5);return{maxValue:t,minValue:n,maxSteps:o,minSteps:s}}var h,p,f,v,y,b,_,w,x,k,S,C,T,E=0;c(),b=d(),_=o.scaleShowLabels?o.scaleLabel:"",o.scaleOverride?(f={steps:o.scaleSteps,stepValue:o.scaleStepWidth,graphMin:o.scaleStartValue,labels:[]},r(_,f.labels,f.steps,o.scaleStartValue,o.scaleStepWidth)):f=i(y,b.maxSteps,b.minSteps,b.maxValue,b.minValue,_),p=Math.floor(y/f.steps),u(),n(o,l,a,s)},S=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),C={}},/*!
 * Braintree End-to-End Encryption Library
 * https://www.braintreepayments.com
 * Copyright (c) 2009-2014 Braintree, a division of PayPal, Inc.
 *
 * JSBN
 * Copyright (c) 2005  Tom Wu
 *
 * Both Licensed under the MIT License.
 * http://opensource.org/licenses/MIT
 *
 * ASN.1 JavaScript decoder
 * Copyright (c) 2008-2009 Lapo Luchini <lapo@lapo.it>
 * Licensed under the ISC License.
 * http://opensource.org/licenses/ISC
 */
function(){// Copyright (c) 2008-2009 Lapo Luchini <lapo@lapo.it>
// copyright notice and this permission notice appear in all copies.
function e(t,n){t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=n)}function t(e,t,n,i,r){this.stream=e,this.header=t,this.length=n,this.tag=i,this.sub=r}function n(e){var t,n,i="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),i+=tt.charAt(n>>6)+tt.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),i+=tt.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),i+=tt.charAt(n>>2)+tt.charAt((3&n)<<4));(3&i.length)>0;)i+=nt;return i}function i(e){var t,n,i,r="",o=0;for(t=0;t<e.length&&e.charAt(t)!=nt;++t)i=tt.indexOf(e.charAt(t)),0>i||(0==o?(r+=c(i>>2),n=3&i,o=1):1==o?(r+=c(n<<2|i>>4),n=15&i,o=2):2==o?(r+=c(n),r+=c(i>>2),n=3&i,o=3):(r+=c(n<<2|i>>4),r+=c(15&i),o=0));return 1==o&&(r+=c(n<<2)),r}function r(e){var t,n=i(e),r=new Array;for(t=0;2*t<n.length;++t)r[t]=parseInt(n.substring(2*t,2*t+2),16);return r}function o(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function s(){return new o(null)}function a(e,t,n,i,r,o){for(;--o>=0;){var s=t*this[e++]+n[i]+r;r=Math.floor(s/67108864),n[i++]=67108863&s}return r}function l(e,t,n,i,r,o){for(var s=32767&t,a=t>>15;--o>=0;){var l=32767&this[e],u=this[e++]>>15,c=a*l+u*s;l=s*l+((32767&c)<<15)+n[i]+(1073741823&r),r=(l>>>30)+(c>>>15)+a*u+(r>>>30),n[i++]=1073741823&l}return r}function u(e,t,n,i,r,o){for(var s=16383&t,a=t>>14;--o>=0;){var l=16383&this[e],u=this[e++]>>14,c=a*l+u*s;l=s*l+((16383&c)<<14)+n[i]+r,r=(l>>28)+(c>>14)+a*u,n[i++]=268435455&l}return r}function c(e){return lt.charAt(e)}function d(e,t){var n=ut[e.charCodeAt(t)];return null==n?-1:n}function h(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function p(e){this.t=1,this.s=0>e?-1:0,e>0?this[0]=e:-1>e?this[0]=e+this.DV:this.t=0}function f(e){var t=s();return t.fromInt(e),t}function m(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var i=e.length,r=!1,s=0;--i>=0;){var a=8==n?255&e[i]:d(e,i);0>a?"-"==e.charAt(i)&&(r=!0):(r=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,s+=n,s>=this.DB&&(s-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),r&&o.ZERO.subTo(this,this)}function g(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function v(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,i=(1<<t)-1,r=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-->0)for(a<this.DB&&(n=this[s]>>a)>0&&(r=!0,o=c(n));s>=0;)t>a?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&i,0>=a&&(a+=this.DB,--s)),n>0&&(r=!0),r&&(o+=c(n));return r?o:"0"}function y(){var e=s();return o.ZERO.subTo(this,e),e}function b(){return this.s<0?this.negate():this}function _(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(t=n-e.t,0!=t)return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function w(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function x(){return this.t<=0?0:this.DB*(this.t-1)+w(this[this.t-1]^this.s&this.DM)}function k(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function S(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function C(e,t){var n,i=e%this.DB,r=this.DB-i,o=(1<<r)-1,s=Math.floor(e/this.DB),a=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>r|a,a=(this[n]&o)<<i;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()}function T(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return void(t.t=0);var i=e%this.DB,r=this.DB-i,o=(1<<i)-1;t[0]=this[n]>>i;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<r,t[s-n]=this[s]>>i;i>0&&(t[this.t-n-1]|=(this.s&o)<<r),t.t=this.t-n,t.clamp()}function E(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);r>n;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=0>i?-1:0,-1>i?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()}function M(e,t){var n=this.abs(),i=e.abs(),r=n.t;for(t.t=r+i.t;--r>=0;)t[r]=0;for(r=0;r<i.t;++r)t[r+n.t]=n.am(0,i[r],t,r,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&o.ZERO.subTo(t,t)}function A(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function j(e,t,n){var i=e.abs();if(!(i.t<=0)){var r=this.abs();if(r.t<i.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=s());var a=s(),l=this.s,u=e.s,c=this.DB-w(i[i.t-1]);c>0?(i.lShiftTo(c,a),r.lShiftTo(c,n)):(i.copyTo(a),r.copyTo(n));var d=a.t,h=a[d-1];if(0!=h){var p=h*(1<<this.F1)+(d>1?a[d-2]>>this.F2:0),f=this.FV/p,m=(1<<this.F1)/p,g=1<<this.F2,v=n.t,y=v-d,b=null==t?s():t;for(a.dlShiftTo(y,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),o.ONE.dlShiftTo(d,b),b.subTo(a,a);a.t<d;)a[a.t++]=0;for(;--y>=0;){var _=n[--v]==h?this.DM:Math.floor(n[v]*f+(n[v-1]+g)*m);if((n[v]+=a.am(0,_,n,y,0,d))<_)for(a.dlShiftTo(y,b),n.subTo(b,n);n[v]<--_;)n.subTo(b,n)}null!=t&&(n.drShiftTo(d,t),l!=u&&o.ZERO.subTo(t,t)),n.t=d,n.clamp(),c>0&&n.rShiftTo(c,n),0>l&&o.ZERO.subTo(n,n)}}}function N(e){var t=s();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(o.ZERO)>0&&e.subTo(t,t),t}function P(e){this.m=e}function L(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function I(e){return e}function O(e){e.divRemTo(this.m,null,e)}function F(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function D(e,t){e.squareTo(t),this.reduce(t)}function R(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function z(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function H(e){var t=s();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(o.ZERO)>0&&this.m.subTo(t,t),t}function W(e){var t=s();return e.copyTo(t),this.reduce(t),t}function B(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function U(e,t){e.squareTo(t),this.reduce(t)}function q(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function V(){return 0==(this.t>0?1&this[0]:this.s)}function $(e,t){if(e>4294967295||1>e)return o.ONE;var n=s(),i=s(),r=t.convert(this),a=w(e)-1;for(r.copyTo(n);--a>=0;)if(t.sqrTo(n,i),(e&1<<a)>0)t.mulTo(i,r,n);else{var l=n;n=i,i=l}return t.revert(n)}function G(e,t){var n;return n=256>e||t.isEven()?new P(t):new z(t),this.exp(e,n)}function Y(e,t){return new o(e,t)}function X(e,t){if(t<e.length+11)throw new Error("Message too long for RSA");for(var n=new Array,i=e.length-1;i>=0&&t>0;){var r=e.charCodeAt(i--);128>r?n[--t]=r:r>127&&2048>r?(n[--t]=63&r|128,n[--t]=r>>6|192):(n[--t]=63&r|128,n[--t]=r>>6&63|128,n[--t]=r>>12|224)}n[--t]=0;for(var s=0,a=0,l=0;t>2;)0==l&&(a=ct.random.randomWords(1,0)[0]),s=a>>l&255,l=(l+8)%32,0!=s&&(n[--t]=s);return n[--t]=2,n[--t]=0,new o(n)}function K(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function Q(e,t){if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw new Error("Invalid RSA public key");this.n=Y(e,16),this.e=parseInt(t,16)}function J(e){return e.modPowInt(this.e,this.n)}function Z(e){var t=X(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i}e.prototype.get=function(e){if(void 0==e&&(e=this.pos++),e>=this.enc.length)throw"Requesting byte offset "+e+" on a stream of length "+this.enc.length;return this.enc[e]},e.prototype.hexDigits="0123456789ABCDEF",e.prototype.hexByte=function(e){return this.hexDigits.charAt(e>>4&15)+this.hexDigits.charAt(15&e)},e.prototype.hexDump=function(e,t){for(var n="",i=e;t>i;++i)switch(n+=this.hexByte(this.get(i)),15&i){case 7:n+="  ";break;case 15:n+="\n";break;default:n+=" "}return n},e.prototype.parseStringISO=function(e,t){for(var n="",i=e;t>i;++i)n+=String.fromCharCode(this.get(i));return n},e.prototype.parseStringUTF=function(e,t){for(var n="",i=0,r=e;t>r;){var i=this.get(r++);n+=String.fromCharCode(128>i?i:i>191&&224>i?(31&i)<<6|63&this.get(r++):(15&i)<<12|(63&this.get(r++))<<6|63&this.get(r++))}return n},e.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,e.prototype.parseTime=function(e,t){var n=this.parseStringISO(e,t),i=this.reTime.exec(n);return i?(n=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(n+=":"+i[5],i[6]&&(n+=":"+i[6],i[7]&&(n+="."+i[7]))),i[8]&&(n+=" UTC","Z"!=i[8]&&(n+=i[8],i[9]&&(n+=":"+i[9]))),n):"Unrecognized time: "+n},e.prototype.parseInteger=function(e,t){var n=t-e;if(n>4){n<<=3;var i=this.get(e);if(0==i)n-=8;else for(;128>i;)i<<=1,--n;return"("+n+" bit)"}for(var r=0,o=e;t>o;++o)r=r<<8|this.get(o);return r},e.prototype.parseBitString=function(e,t){var n=this.get(e),i=(t-e-1<<3)-n,r="("+i+" bit)";if(20>=i){var o=n;r+=" ";for(var s=t-1;s>e;--s){for(var a=this.get(s),l=o;8>l;++l)r+=a>>l&1?"1":"0";o=0}}return r},e.prototype.parseOctetString=function(e,t){var n=t-e,i="("+n+" byte) ";n>20&&(t=e+20);for(var r=e;t>r;++r)i+=this.hexByte(this.get(r));return n>20&&(i+=String.fromCharCode(8230)),i},e.prototype.parseOID=function(e,t){for(var n,i=0,r=0,o=e;t>o;++o){var s=this.get(o);i=i<<7|127&s,r+=7,128&s||(void 0==n?n=parseInt(i/40)+"."+i%40:n+="."+(r>=31?"bigint":i),i=r=0),n+=String.fromCharCode()}return n},t.prototype.typeName=function(){if(void 0==this.tag)return"unknown";var e=this.tag>>6,t=(this.tag>>5&1,31&this.tag);switch(e){case 0:switch(t){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+t.toString(16)}case 1:return"Application_"+t.toString(16);case 2:return"["+t+"]";case 3:return"Private_"+t.toString(16)}},t.prototype.content=function(){if(void 0==this.tag)return null;var e=this.tag>>6;if(0!=e)return null==this.sub?null:"("+this.sub.length+")";var t=31&this.tag,n=this.posContent(),i=Math.abs(this.length);switch(t){case 1:return 0==this.stream.get(n)?"false":"true";case 2:return this.stream.parseInteger(n,n+i);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(n,n+i);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(n,n+i);case 6:return this.stream.parseOID(n,n+i);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(n,n+i);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(n,n+i);case 23:case 24:return this.stream.parseTime(n,n+i)}return null},t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null==this.sub?"null":this.sub.length)+"]"},t.prototype.print=function(e){if(void 0==e&&(e=""),document.writeln(e+this),null!=this.sub){e+="  ";for(var t=0,n=this.sub.length;n>t;++t)this.sub[t].print(e)}},t.prototype.toPrettyString=function(e){void 0==e&&(e="");var t=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(t+="+"),t+=this.length,32&this.tag?t+=" (constructed)":3!=this.tag&&4!=this.tag||null==this.sub||(t+=" (encapsulates)"),t+="\n",null!=this.sub){e+="  ";for(var n=0,i=this.sub.length;i>n;++n)t+=this.sub[n].toPrettyString(e)}return t},t.prototype.posStart=function(){return this.stream.pos},t.prototype.posContent=function(){return this.stream.pos+this.header},t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},t.decodeLength=function(e){var t=e.get(),n=127&t;if(n==t)return n;if(n>3)throw"Length over 24 bits not supported at position "+(e.pos-1);if(0==n)return-1;t=0;for(var i=0;n>i;++i)t=t<<8|e.get();return t},t.hasContent=function(n,i,r){if(32&n)return!0;if(3>n||n>4)return!1;var o=new e(r);3==n&&o.get();var s=o.get();if(s>>6&1)return!1;try{var a=t.decodeLength(o);return o.pos-r.pos+a==i}catch(l){return!1}},t.decode=function(n){n instanceof e||(n=new e(n,0));var i=new e(n),r=n.get(),o=t.decodeLength(n),s=n.pos-i.pos,a=null;if(t.hasContent(r,o,n)){var l=n.pos;if(3==r&&n.get(),a=[],o>=0){for(var u=l+o;n.pos<u;)a[a.length]=t.decode(n);if(n.pos!=u)throw"Content size is not correct for container starting at offset "+l}else try{for(;;){var c=t.decode(n);if(0==c.tag)break;a[a.length]=c}o=l-n.pos}catch(d){throw"Exception while decoding undefined length content: "+d}}else n.pos+=o;return new t(i,s,o,r,a)};var et,tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nt="=",it=0xdeadbeefcafe,rt=15715070==(16777215&it);rt&&"Microsoft Internet Explorer"==navigator.appName?(o.prototype.am=l,et=30):rt&&"Netscape"!=navigator.appName?(o.prototype.am=a,et=26):(o.prototype.am=u,et=28),o.prototype.DB=et,o.prototype.DM=(1<<et)-1,o.prototype.DV=1<<et;var ot=52;o.prototype.FV=Math.pow(2,ot),o.prototype.F1=ot-et,o.prototype.F2=2*et-ot;var st,at,lt="0123456789abcdefghijklmnopqrstuvwxyz",ut=new Array;for(st="0".charCodeAt(0),at=0;9>=at;++at)ut[st++]=at;for(st="a".charCodeAt(0),at=10;36>at;++at)ut[st++]=at;for(st="A".charCodeAt(0),at=10;36>at;++at)ut[st++]=at;P.prototype.convert=L,P.prototype.revert=I,P.prototype.reduce=O,P.prototype.mulTo=F,P.prototype.sqrTo=D,z.prototype.convert=H,z.prototype.revert=W,z.prototype.reduce=B,z.prototype.mulTo=q,z.prototype.sqrTo=U,o.prototype.copyTo=h,o.prototype.fromInt=p,o.prototype.fromString=m,o.prototype.clamp=g,o.prototype.dlShiftTo=k,o.prototype.drShiftTo=S,o.prototype.lShiftTo=C,o.prototype.rShiftTo=T,o.prototype.subTo=E,o.prototype.multiplyTo=M,o.prototype.squareTo=A,o.prototype.divRemTo=j,o.prototype.invDigit=R,o.prototype.isEven=V,o.prototype.exp=$,o.prototype.toString=v,o.prototype.negate=y,o.prototype.abs=b,o.prototype.compareTo=_,o.prototype.bitLength=x,o.prototype.mod=N,o.prototype.modPowInt=G,o.ZERO=f(0),o.ONE=f(1),K.prototype.doPublic=J,K.prototype.setPublic=Q,K.prototype.encrypt=Z;var ct={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};"undefined"!=typeof module&&module.exports&&(module.exports=ct),ct.cipher.aes=function(e){this._tables[0][0][0]||this._precompute();var t,n,i,r,o,s=this._tables[0][4],a=this._tables[1],l=e.length,u=1;if(4!==l&&6!==l&&8!==l)throw new ct.exception.invalid("invalid aes key size");for(this._key=[r=e.slice(0),o=[]],t=l;4*l+28>t;t++)i=r[t-1],(t%l===0||8===l&&t%l===4)&&(i=s[i>>>24]<<24^s[i>>16&255]<<16^s[i>>8&255]<<8^s[255&i],t%l===0&&(i=i<<8^i>>>24^u<<24,u=u<<1^283*(u>>7))),r[t]=r[t-l]^i;for(n=0;t;n++,t--)i=r[3&n?t:t-4],o[n]=4>=t||4>n?i:a[0][s[i>>>24]]^a[1][s[i>>16&255]]^a[2][s[i>>8&255]]^a[3][s[255&i]]},ct.cipher.aes.prototype={encrypt:function(e){return this._crypt(e,0)},decrypt:function(e){return this._crypt(e,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var e,t,n,i,r,o,s,a,l,u=this._tables[0],c=this._tables[1],d=u[4],h=c[4],p=[],f=[];for(e=0;256>e;e++)f[(p[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!d[t];t^=i||1,n=f[n]||1)for(s=n^n<<1^n<<2^n<<3^n<<4,s=s>>8^255&s^99,d[t]=s,h[s]=t,o=p[r=p[i=p[t]]],l=16843009*o^65537*r^257*i^16843008*t,a=257*p[s]^16843008*s,e=0;4>e;e++)u[e][t]=a=a<<24^a>>>8,c[e][s]=l=l<<24^l>>>8;for(e=0;5>e;e++)u[e]=u[e].slice(0),c[e]=c[e].slice(0)},_crypt:function(e,t){if(4!==e.length)throw new ct.exception.invalid("invalid aes block size");var n,i,r,o,s=this._key[t],a=e[0]^s[0],l=e[t?3:1]^s[1],u=e[2]^s[2],c=e[t?1:3]^s[3],d=s.length/4-2,h=4,p=[0,0,0,0],f=this._tables[t],m=f[0],g=f[1],v=f[2],y=f[3],b=f[4];for(o=0;d>o;o++)n=m[a>>>24]^g[l>>16&255]^v[u>>8&255]^y[255&c]^s[h],i=m[l>>>24]^g[u>>16&255]^v[c>>8&255]^y[255&a]^s[h+1],r=m[u>>>24]^g[c>>16&255]^v[a>>8&255]^y[255&l]^s[h+2],c=m[c>>>24]^g[a>>16&255]^v[l>>8&255]^y[255&u]^s[h+3],h+=4,a=n,l=i,u=r;for(o=0;4>o;o++)p[t?3&-o:o]=b[a>>>24]<<24^b[l>>16&255]<<16^b[u>>8&255]<<8^b[255&c]^s[h++],n=a,a=l,l=u,u=c,c=n;return p}},ct.bitArray={bitSlice:function(e,t,n){return e=ct.bitArray._shiftRight(e.slice(t/32),32-(31&t)).slice(1),void 0===n?e:ct.bitArray.clamp(e,n-t)},extract:function(e,t,n){var i,r=Math.floor(-t-n&31);return i=-32&(t+n-1^t)?e[t/32|0]<<32-r^e[t/32+1|0]>>>r:e[t/32|0]>>>r,i&(1<<n)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var n=e[e.length-1],i=ct.bitArray.getPartial(n);return 32===i?e.concat(t):ct.bitArray._shiftRight(t,i,0|n,e.slice(0,e.length-1))},bitLength:function(e){var t,n=e.length;return 0===n?0:(t=e[n-1],32*(n-1)+ct.bitArray.getPartial(t))},clamp:function(e,t){if(32*e.length<t)return e;e=e.slice(0,Math.ceil(t/32));var n=e.length;return t=31&t,n>0&&t&&(e[n-1]=ct.bitArray.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial:function(e,t,n){return 32===e?t:(n?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(ct.bitArray.bitLength(e)!==ct.bitArray.bitLength(t))return!1;var n,i=0;for(n=0;n<e.length;n++)i|=e[n]^t[n];return 0===i},_shiftRight:function(e,t,n,i){var r,o,s=0;for(void 0===i&&(i=[]);t>=32;t-=32)i.push(n),n=0;if(0===t)return i.concat(e);for(r=0;r<e.length;r++)i.push(n|e[r]>>>t),n=e[r]<<32-t;return s=e.length?e[e.length-1]:0,o=ct.bitArray.getPartial(s),i.push(ct.bitArray.partial(t+o&31,t+o>32?n:i.pop(),1)),i},_xor4:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]}},ct.codec.hex={fromBits:function(e){var t,n="";for(t=0;t<e.length;t++)n+=((0|e[t])+0xf00000000000).toString(16).substr(4);return n.substr(0,ct.bitArray.bitLength(e)/4)},toBits:function(e){var t,n,i=[];for(e=e.replace(/\s|0x/g,""),n=e.length,e+="00000000",t=0;t<e.length;t+=8)i.push(0^parseInt(e.substr(t,8),16));return ct.bitArray.clamp(i,4*n)}},ct.codec.utf8String={fromBits:function(e){var t,n,i="",r=ct.bitArray.bitLength(e);for(t=0;r/8>t;t++)0===(3&t)&&(n=e[t/4]),i+=String.fromCharCode(n>>>24),n<<=8;return decodeURIComponent(escape(i))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,n=[],i=0;for(t=0;t<e.length;t++)i=i<<8|e.charCodeAt(t),3===(3&t)&&(n.push(i),i=0);return 3&t&&n.push(ct.bitArray.partial(8*(3&t),i)),n}},ct.codec.base64={_chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(e,t,n){var i,r="",o=0,s=ct.codec.base64._chars,a=0,l=ct.bitArray.bitLength(e);for(n&&(s=s.substr(0,62)+"-_"),i=0;6*r.length<l;)r+=s.charAt((a^e[i]>>>o)>>>26),6>o?(a=e[i]<<6-o,o+=26,i++):(a<<=6,o-=6);for(;3&r.length&&!t;)r+="=";return r},toBits:function(e,t){e=e.replace(/\s|=/g,"");var n,i,r=[],o=0,s=ct.codec.base64._chars,a=0;for(t&&(s=s.substr(0,62)+"-_"),n=0;n<e.length;n++){if(i=s.indexOf(e.charAt(n)),0>i)throw new ct.exception.invalid("this isn't base64!");o>26?(o-=26,r.push(a^i>>>o),a=i<<32-o):(o+=6,a^=i<<32-o)}return 56&o&&r.push(ct.bitArray.partial(56&o,a,1)),r}},ct.codec.base64url={fromBits:function(e){return ct.codec.base64.fromBits(e,1,1)},toBits:function(e){return ct.codec.base64.toBits(e,1)}},void 0===ct.beware&&(ct.beware={}),ct.beware["CBC mode is dangerous because it doesn't protect message integrity."]=function(){ct.mode.cbc={name:"cbc",encrypt:function(e,t,n,i){if(i&&i.length)throw new ct.exception.invalid("cbc can't authenticate data");if(128!==ct.bitArray.bitLength(n))throw new ct.exception.invalid("cbc iv must be 128 bits");var r,o=ct.bitArray,s=o._xor4,a=o.bitLength(t),l=0,u=[];if(7&a)throw new ct.exception.invalid("pkcs#5 padding only works for multiples of a byte");for(r=0;a>=l+128;r+=4,l+=128)n=e.encrypt(s(n,t.slice(r,r+4))),u.splice(r,0,n[0],n[1],n[2],n[3]);return a=16843009*(16-(a>>3&15)),n=e.encrypt(s(n,o.concat(t,[a,a,a,a]).slice(r,r+4))),u.splice(r,0,n[0],n[1],n[2],n[3]),u},decrypt:function(e,t,n,i){if(i&&i.length)throw new ct.exception.invalid("cbc can't authenticate data");if(128!==ct.bitArray.bitLength(n))throw new ct.exception.invalid("cbc iv must be 128 bits");if(127&ct.bitArray.bitLength(t)||!t.length)throw new ct.exception.corrupt("cbc ciphertext must be a positive multiple of the block size");var r,o,s,a=ct.bitArray,l=a._xor4,u=[];for(i=i||[],r=0;r<t.length;r+=4)o=t.slice(r,r+4),s=l(n,e.decrypt(o)),u.splice(r,0,s[0],s[1],s[2],s[3]),n=o;if(o=255&u[r-1],0==o||o>16)throw new ct.exception.corrupt("pkcs#5 padding corrupt");if(s=16843009*o,!a.equal(a.bitSlice([s,s,s,s],0,8*o),a.bitSlice(u,32*u.length-8*o,32*u.length)))throw new ct.exception.corrupt("pkcs#5 padding corrupt");return a.bitSlice(u,0,32*u.length-8*o)}}},ct.misc.hmac=function(e,t){this._hash=t=t||ct.hash.sha256;var n,i=[[],[]],r=t.prototype.blockSize/32;for(this._baseHash=[new t,new t],e.length>r&&(e=t.hash(e)),n=0;r>n;n++)i[0][n]=909522486^e[n],i[1][n]=1549556828^e[n];this._baseHash[0].update(i[0]),this._baseHash[1].update(i[1])},ct.misc.hmac.prototype.encrypt=ct.misc.hmac.prototype.mac=function(e,t){var n=new this._hash(this._baseHash[0]).update(e,t).finalize();return new this._hash(this._baseHash[1]).update(n).finalize()},ct.hash.sha256=function(e){this._key[0]||this._precompute(),e?(this._h=e._h.slice(0),this._buffer=e._buffer.slice(0),this._length=e._length):this.reset()},ct.hash.sha256.hash=function(e){return(new ct.hash.sha256).update(e).finalize()},ct.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(e){"string"==typeof e&&(e=ct.codec.utf8String.toBits(e));var t,n=this._buffer=ct.bitArray.concat(this._buffer,e),i=this._length,r=this._length=i+ct.bitArray.bitLength(e);for(t=512+i&-512;r>=t;t+=512)this._block(n.splice(0,16));return this},finalize:function(){var e,t=this._buffer,n=this._h;for(t=ct.bitArray.concat(t,[ct.bitArray.partial(1,1)]),e=t.length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this._length/4294967296)),t.push(0|this._length);t.length;)this._block(t.splice(0,16));return this.reset(),n},_init:[],_key:[],_precompute:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}var t,n=0,i=2;e:for(;64>n;i++){for(t=2;i>=t*t;t++)if(i%t===0)continue e;8>n&&(this._init[n]=e(Math.pow(i,.5))),this._key[n]=e(Math.pow(i,1/3)),n++}},_block:function(e){var t,n,i,r,o=e.slice(0),s=this._h,a=this._key,l=s[0],u=s[1],c=s[2],d=s[3],h=s[4],p=s[5],f=s[6],m=s[7];for(t=0;64>t;t++)16>t?n=o[t]:(i=o[t+1&15],r=o[t+14&15],n=o[15&t]=(i>>>7^i>>>18^i>>>3^i<<25^i<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+o[15&t]+o[t+9&15]|0),n=n+m+(h>>>6^h>>>11^h>>>25^h<<26^h<<21^h<<7)+(f^h&(p^f))+a[t],m=f,f=p,p=h,h=d+n|0,d=c,c=u,u=l,l=n+(u&c^d&(u^c))+(u>>>2^u>>>13^u>>>22^u<<30^u<<19^u<<10)|0;s[0]=s[0]+l|0,s[1]=s[1]+u|0,s[2]=s[2]+c|0,s[3]=s[3]+d|0,s[4]=s[4]+h|0,s[5]=s[5]+p|0,s[6]=s[6]+f|0,s[7]=s[7]+m|0}},ct.random={randomWords:function(e,t){var n,i,r=[],o=this.isReady(t);if(o===this._NOT_READY)throw new ct.exception.notReady("generator isn't seeded");for(o&this._REQUIRES_RESEED&&this._reseedFromPools(!(o&this._READY)),n=0;e>n;n+=4)(n+1)%this._MAX_WORDS_PER_BURST===0&&this._gate(),i=this._gen4words(),r.push(i[0],i[1],i[2],i[3]);return this._gate(),r.slice(0,e)},setDefaultParanoia:function(e){this._defaultParanoia=e},addEntropy:function(e,t,n){n=n||"user";var i,r,o,s=(new Date).valueOf(),a=this._robins[n],l=this.isReady(),u=0;switch(i=this._collectorIds[n],void 0===i&&(i=this._collectorIds[n]=this._collectorIdNext++),void 0===a&&(a=this._robins[n]=0),this._robins[n]=(this._robins[n]+1)%this._pools.length,typeof e){case"number":void 0===t&&(t=1),this._pools[a].update([i,this._eventId++,1,t,s,1,0|e]);break;case"object":var c=Object.prototype.toString.call(e);if("[object Uint32Array]"===c){for(o=[],r=0;r<e.length;r++)o.push(e[r]);e=o}else for("[object Array]"!==c&&(u=1),r=0;r<e.length&&!u;r++)"number"!=typeof e[r]&&(u=1);if(!u){if(void 0===t)for(t=0,r=0;r<e.length;r++)for(o=e[r];o>0;)t++,o>>>=1;this._pools[a].update([i,this._eventId++,2,t,s,e.length].concat(e))}break;case"string":void 0===t&&(t=e.length),this._pools[a].update([i,this._eventId++,3,t,s,e.length]),this._pools[a].update(e);break;default:u=1}if(u)throw new ct.exception.bug("random: addEntropy only supports number, array of numbers or string");this._poolEntropy[a]+=t,this._poolStrength+=t,l===this._NOT_READY&&(this.isReady()!==this._NOT_READY&&this._fireEvent("seeded",Math.max(this._strength,this._poolStrength)),this._fireEvent("progress",this.getProgress()))},isReady:function(e){var t=this._PARANOIA_LEVELS[void 0!==e?e:this._defaultParanoia];return this._strength&&this._strength>=t?this._poolEntropy[0]>this._BITS_PER_RESEED&&(new Date).valueOf()>this._nextReseed?this._REQUIRES_RESEED|this._READY:this._READY:this._poolStrength>=t?this._REQUIRES_RESEED|this._NOT_READY:this._NOT_READY},getProgress:function(e){var t=this._PARANOIA_LEVELS[e?e:this._defaultParanoia];return this._strength>=t?1:this._poolStrength>t?1:this._poolStrength/t},startCollectors:function(){if(!this._collectorsStarted){if(window.addEventListener)window.addEventListener("load",this._loadTimeCollector,!1),window.addEventListener("mousemove",this._mouseCollector,!1);else{if(!document.attachEvent)throw new ct.exception.bug("can't attach event");document.attachEvent("onload",this._loadTimeCollector),document.attachEvent("onmousemove",this._mouseCollector)}this._collectorsStarted=!0}},stopCollectors:function(){this._collectorsStarted&&(window.removeEventListener?(window.removeEventListener("load",this._loadTimeCollector,!1),window.removeEventListener("mousemove",this._mouseCollector,!1)):window.detachEvent&&(window.detachEvent("onload",this._loadTimeCollector),window.detachEvent("onmousemove",this._mouseCollector)),this._collectorsStarted=!1)},addEventListener:function(e,t){this._callbacks[e][this._callbackI++]=t},removeEventListener:function(e,t){var n,i,r=this._callbacks[e],o=[];for(i in r)r.hasOwnProperty(i)&&r[i]===t&&o.push(i);for(n=0;n<o.length;n++)i=o[n],delete r[i]},_pools:[new ct.hash.sha256],_poolEntropy:[0],_reseedCount:0,_robins:{},_eventId:0,_collectorIds:{},_collectorIdNext:0,_strength:0,_poolStrength:0,_nextReseed:0,_key:[0,0,0,0,0,0,0,0],_counter:[0,0,0,0],_cipher:void 0,_defaultParanoia:6,_collectorsStarted:!1,_callbacks:{progress:{},seeded:{}},_callbackI:0,_NOT_READY:0,_READY:1,_REQUIRES_RESEED:2,_MAX_WORDS_PER_BURST:65536,_PARANOIA_LEVELS:[0,48,64,96,128,192,256,384,512,768,1024],_MILLISECONDS_PER_RESEED:3e4,_BITS_PER_RESEED:80,_gen4words:function(){for(var e=0;4>e&&(this._counter[e]=this._counter[e]+1|0,!this._counter[e]);e++);return this._cipher.encrypt(this._counter)},_gate:function(){this._key=this._gen4words().concat(this._gen4words()),this._cipher=new ct.cipher.aes(this._key)},_reseed:function(e){this._key=ct.hash.sha256.hash(this._key.concat(e)),this._cipher=new ct.cipher.aes(this._key);for(var t=0;4>t&&(this._counter[t]=this._counter[t]+1|0,!this._counter[t]);t++);},_reseedFromPools:function(e){var t,n=[],i=0;for(this._nextReseed=n[0]=(new Date).valueOf()+this._MILLISECONDS_PER_RESEED,t=0;16>t;t++)n.push(4294967296*Math.random()|0);for(t=0;t<this._pools.length&&(n=n.concat(this._pools[t].finalize()),i+=this._poolEntropy[t],this._poolEntropy[t]=0,e||!(this._reseedCount&1<<t));t++);this._reseedCount>=1<<this._pools.length&&(this._pools.push(new ct.hash.sha256),this._poolEntropy.push(0)),this._poolStrength-=i,i>this._strength&&(this._strength=i),this._reseedCount++,this._reseed(n)},_mouseCollector:function(e){var t=e.x||e.clientX||e.offsetX||0,n=e.y||e.clientY||e.offsetY||0;ct.random.addEntropy([t,n],2,"mouse")},_loadTimeCollector:function(){ct.random.addEntropy((new Date).valueOf(),2,"loadtime")},_fireEvent:function(e,t){var n,i=ct.random._callbacks[e],r=[];for(n in i)i.hasOwnProperty(n)&&r.push(i[n]);for(n=0;n<r.length;n++)r[n](t)}},function(){try{var e=new Uint32Array(32);crypto.getRandomValues(e),ct.random.addEntropy(e,1024,"crypto.getRandomValues")}catch(t){}}(),function(){for(var e in ct.beware)ct.beware.hasOwnProperty(e)&&ct.beware[e]()}();var dt={sjcl:ct,version:"1.3.10"};dt.generateAesKey=function(){return{key:ct.random.randomWords(8,0),encrypt:function(e){return this.encryptWithIv(e,ct.random.randomWords(4,0))},encryptWithIv:function(e,t){var n=new ct.cipher.aes(this.key),i=ct.codec.utf8String.toBits(e),r=ct.mode.cbc.encrypt(n,i,t),o=ct.bitArray.concat(t,r);return ct.codec.base64.fromBits(o)}}},dt.create=function(e){return new dt.EncryptionClient(e)},dt.EncryptionClient=function(e){var i=this,o=[];i.publicKey=e,i.version=dt.version;var s=function(e,t){var n,i,r;n=document.createElement(e);for(i in t)t.hasOwnProperty(i)&&(r=t[i],n.setAttribute(i,r));return n},a=function(e){return window.jQuery&&e instanceof jQuery?e[0]:e.nodeType&&1===e.nodeType?e:document.getElementById(e)},l=function(e){var t,n,i,r,o=[];if("INTEGER"===e.typeName()&&(t=e.posContent(),n=e.posEnd(),i=e.stream.hexDump(t,n).replace(/[ \n]/g,""),o.push(i)),null!==e.sub)for(r=0;r<e.sub.length;r++)o=o.concat(l(e.sub[r]));return o},u=function(e){var t,n,i=[],r=e.children;for(n=0;n<r.length;n++)t=r[n],1===t.nodeType&&t.attributes["data-encrypted-name"]?i.push(t):t.children&&t.children.length>0&&(i=i.concat(u(t)));return i},c=function(){var n,i,o,s,a,u;try{a=r(e),n=t.decode(a)}catch(c){throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'"}if(o=l(n),2!==o.length)throw"Invalid encryption key. Please use the key labeled 'Client-Side Encryption Key'";return s=o[0],i=o[1],u=new K,u.setPublic(s,i),u},d=function(){return{key:ct.random.randomWords(8,0),sign:function(e){var t=new ct.misc.hmac(this.key,ct.hash.sha256),n=t.encrypt(e);return ct.codec.base64.fromBits(n)}}};i.encrypt=function(e){var t=c(),r=dt.generateAesKey(),o=d(),s=r.encrypt(e),a=o.sign(ct.codec.base64.toBits(s)),l=ct.bitArray.concat(r.key,o.key),u=ct.codec.base64.fromBits(l),h=t.encrypt(u),p="$bt4|javascript_"+i.version.replace(/\./g,"_")+"$",f=null;return h&&(f=n(h)),p+f+"$"+s+"$"+a},i.encryptForm=function(e){var t,n,r,l,c,d;for(e=a(e),d=u(e);o.length>0;){try{e.removeChild(o[0])}catch(h){}o.splice(0,1)}for(c=0;c<d.length;c++)t=d[c],r=t.getAttribute("data-encrypted-name"),n=i.encrypt(t.value),t.removeAttribute("name"),l=s("input",{value:n,type:"hidden",name:r}),o.push(l),e.appendChild(l)},i.onSubmitEncryptForm=function(e,t){var n;e=a(e),n=function(n){return i.encryptForm(e),t?t(n):n},window.jQuery?window.jQuery(e).submit(n):e.addEventListener?e.addEventListener("submit",n,!1):e.attachEvent&&e.attachEvent("onsubmit",n)},i.formEncrypter={encryptForm:i.encryptForm,extractForm:a,onSubmitEncryptForm:i.onSubmitEncryptForm},ct.random.startCollectors()},window.Braintree=dt}(),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.braintree=e()}}(function(){var define,module,exports;return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t){"use strict";
e("./src/rpc-dispatcher")(),t.exports=e("./src/setup.js")},{"./src/rpc-dispatcher":303,"./src/setup.js":304}],2:[function(e,t){(function(n){"use strict";function i(e,t){return e.status>=400?[e,null]:[null,t(e)]}function r(e){var t;this.attrs={},e.hasOwnProperty("sharedCustomerIdentifier")&&(this.attrs.sharedCustomerIdentifier=e.sharedCustomerIdentifier),t=u(e.clientToken),this.driver=e.driver||c,this.authUrl=t.authUrl,this.analyticsUrl=t.analytics?t.analytics.url:void 0,this.clientApiUrl=t.clientApiUrl,this.customerId=e.customerId,this.challenges=t.challenges,this.integration=e.integration||"";var n=l.create(this,{container:e.container,clientToken:t});this.verify3DS=a.bind(n.verify,n),this.attrs.authorizationFingerprint=t.authorizationFingerprint,this.attrs.sharedCustomerIdentifierType=e.sharedCustomerIdentifierType,t.merchantAccountId&&(this.attrs.merchantAccountId=t.merchantAccountId),this.timeoutWatchers=[],this.requestTimeout=e.hasOwnProperty("timeout")?e.timeout:6e4}function o(){}function s(e,t){var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i}var a=e("braintree-utilities"),l=e("braintree-3ds"),u=e("./parse-client-token"),c=e("./jsonp-driver"),d=e("./util"),h=e("./sepa-mandate"),p=e("./sepa-bank-account"),f=e("./credit-card"),m=e("./coinbase-account"),g=e("./root-data"),v=e("./normalize-api-fields").normalizeCreditCardFields;r.prototype.requestWithTimeout=function(e,t,n,r,s){s=s||o;var a,l,u=this;g.get(function(o){l="braintree/web/"+o.sdkVersion,t.braintreeLibraryVersion=l,t.hasOwnProperty("analytics")&&t.hasOwnProperty("_meta")&&(t._meta.sdkVersion=l,t._meta.merchantAppId=o.merchantAppId),a=r(e,t,function(e,t){if(u.timeoutWatchers[t]){clearTimeout(u.timeoutWatchers[t]);var r=i(e,function(e){return n(e)});s.apply(null,r)}}),u.requestTimeout>0?this.timeoutWatchers[a]=setTimeout(function(){u.timeoutWatchers[a]=null,s.apply(null,[{errors:"Unknown error"},null])},u.requestTimeout):s.apply(null,[{errors:"Unknown error"},null])},this)},r.prototype.post=function(e,t,n,i){this.requestWithTimeout(e,t,n,this.driver.post,i)},r.prototype.get=function(e,t,n,i){this.requestWithTimeout(e,t,n,this.driver.get,i)},r.prototype.put=function(e,t,n,i){this.requestWithTimeout(e,t,n,this.driver.put,i)},r.prototype.getCreditCards=function(e){this.get(d.joinUrlFragments([this.clientApiUrl,"v1","payment_methods"]),this.attrs,function(e){var t=0,n=e.paymentMethods.length,i=[];for(t;n>t;t++)i.push(new f(e.paymentMethods[t]));return i},e)},r.prototype.tokenizeCoinbase=function(e,t){e.options={validate:!1},this.addCoinbase(e,function(e,n){e?t(e,null):n&&n.nonce?t(e,n):t("Unable to tokenize coinbase account.",null)})},r.prototype.tokenizeCard=function(e,t){e.options={validate:!1},this.addCreditCard(e,function(e,n){n&&n.nonce?t(e,n.nonce,{type:n.type,details:n.details}):t("Unable to tokenize card.",null)})},r.prototype.lookup3DS=function(e,t){var n=d.joinUrlFragments([this.clientApiUrl,"v1/payment_methods",e.nonce,"three_d_secure/lookup"]),i=s(this.attrs,{amount:e.amount});this.post(n,i,function(e){return e},t)},r.prototype.addSEPAMandate=function(e,t){var n=s(this.attrs,{sepaMandate:e});this.post(d.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates.json"]),n,function(e){return new h(e.sepaMandates[0])},t)},r.prototype.acceptSEPAMandate=function(e,t){this.put(d.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates",e,"accept"]),this.attrs,function(e){return new p(e.sepaBankAccounts[0])},t)},r.prototype.getSEPAMandate=function(e,t){var n;n=e.paymentMethodToken?s(this.attrs,{paymentMethodToken:e.paymentMethodToken}):this.attrs,this.get(d.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates",e.mandateReferenceNumber||""]),n,function(e){return new h(e.sepaMandates[0])},t)},r.prototype.addCoinbase=function(e,t){var n;delete e.share,n=s(this.attrs,{coinbaseAccount:e,_meta:{integration:this.integration||"custom",source:"coinbase"}}),this.post(d.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/coinbase_accounts"]),n,function(e){return new m(e.coinbaseAccounts[0])},t)},r.prototype.addCreditCard=function(e,t){var n,i=e.share;delete e.share;var r=v(e);n=s(this.attrs,{share:i,creditCard:r,_meta:{integration:this.integration||"custom",source:"form"}}),this.post(d.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/credit_cards"]),n,function(e){return new f(e.creditCards[0])},t)},r.prototype.unlockCreditCard=function(e,t,n){var i=s(this.attrs,{challengeResponses:t});this.put(d.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/",e.nonce]),i,function(e){return new f(e.paymentMethods[0])},n)},r.prototype.sendAnalyticsEvents=function(e,t){var i,r=this.analyticsUrl,o=[];if(e=d.isArray(e)?e:[e],!r)return void(t&&t.apply(null,[null,{}]));for(var a in e)e.hasOwnProperty(a)&&o.push({kind:e[a]});i=s(this.attrs,{analytics:o,_meta:{platform:"web",platformVersion:n.navigator.userAgent,integrationType:this.integration}}),this.post(r,i,function(e){return e},t)},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./coinbase-account":3,"./credit-card":4,"./jsonp-driver":5,"./normalize-api-fields":7,"./parse-client-token":8,"./root-data":10,"./sepa-bank-account":11,"./sepa-mandate":12,"./util":13,"braintree-3ds":22,"braintree-utilities":41}],3:[function(e,t){"use strict";function n(e){for(var t=0;t<i.length;t++){var n=i[t];this[n]=e[n]}}var i=["nonce","type","description","details"];t.exports=n},{}],4:[function(e,t){"use strict";function n(e){for(var t=0;t<i.length;t++){var n=i[t];this[n]=e[n]}}var i=["billingAddress","branding","createdAt","createdAtMerchant","createdAtMerchantName","details","isLocked","lastUsedAt","lastUsedAtMerchant","lastUsedAtMerchantName","lastUsedByCurrentMerchant","nonce","securityQuestions","type"];t.exports=n},{}],5:[function(e,t){"use strict";function n(e,t,n){return o.get(e,t,n)}function i(e,t,n){return t._method="POST",o.get(e,t,n)}function r(e,t,n){return t._method="PUT",o.get(e,t,n)}var o=e("./jsonp");t.exports={get:n,post:i,put:r}},{"./jsonp":6}],6:[function(e,t){(function(n){"use strict";function i(e,t){var n=document.createElement("script"),i=!1;n.src=e,n.async=!0;var r=t||c.error;"function"==typeof r&&(n.onerror=function(t){r({url:e,event:t})}),n.onload=n.onreadystatechange=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,n.onload=n.onreadystatechange=null,n&&n.parentNode&&n.parentNode.removeChild(n))},a||(a=document.getElementsByTagName("head")[0]),a.appendChild(n)}function r(e,t){var n,i,o,s=[];for(var o in e)e.hasOwnProperty(o)&&(i=e[o],n=t?l.isArray(e)?t+"[]":t+"["+o+"]":o,s.push("object"==typeof i?r(i,n):encodeURIComponent(n)+"="+encodeURIComponent(i)));return s.join("&")}function o(e,t,n,o){var s=-1===(e||"").indexOf("?")?"?":"&";o=o||c.callbackName||"callback";var a=o+"_json"+l.generateUUID();return s+=r(t),u[a]=function(e){n(e,a);try{delete u[a]}catch(t){}u[a]=null},i(e+s+"&"+o+"="+a),a}function s(e){c=e}var a,l=e("./util"),u=n,c={};t.exports={get:o,init:s,stringify:r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./util":13}],7:[function(e,t){"use strict";function n(e){var t={billingAddress:e.billingAddress||{}};for(var n in e)if(e.hasOwnProperty(n))switch(n.replace(/_/,"").toLowerCase()){case"postalcode":case"countryname":case"countrycodenumeric":case"countrycodealpha2":case"countrycodealpha3":case"region":case"extendedaddress":case"locality":case"firstname":case"lastname":case"company":case"streetaddress":t.billingAddress[n]=e[n];break;default:t[n]=e[n]}return t}t.exports={normalizeCreditCardFields:n}},{}],8:[function(e,t){"use strict";function n(e){var t;if(!e)throw new Error("Braintree API Client Misconfigured: clientToken required.");if("object"==typeof e&&null!==e)t=e;else{try{e=window.atob(e)}catch(n){}try{t=JSON.parse(e)}catch(i){throw new Error("Braintree API Client Misconfigured: clientToken is invalid.")}}if(!t.hasOwnProperty("authUrl")||!t.hasOwnProperty("clientApiUrl"))throw new Error("Braintree API Client Misconfigured: clientToken is invalid.");return t}e("./polyfill"),t.exports=n},{"./polyfill":9}],9:[function(){(function(e){"use strict";e.atob=e.atob||function(e){var t=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="";if(!t.test(e))throw new Error("Braintree API Client Misconfigured: clientToken is invalid.");var r=0;do{var o=n.indexOf(e.charAt(r++)),s=n.indexOf(e.charAt(r++)),a=n.indexOf(e.charAt(r++)),l=n.indexOf(e.charAt(r++)),u=(63&o)<<2|s>>4&3,c=(15&s)<<4|a>>2&15,d=(3&a)<<6|63&l;i+=String.fromCharCode(u)+(c?String.fromCharCode(c):"")+(d?String.fromCharCode(d):"")}while(r<e.length);return i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(e,t){(function(n){"use strict";function i(){var e=n.braintree;return e&&e.hasOwnProperty("VERSION")?e.VERSION:void 0}function r(e,t){null==s?(h.push({callback:e,context:t}),d===!1&&(a=setTimeout(function(){o(p)},200),c.invoke("getExternalData",[],o),d=!0)):e.call(t,s)}function o(e){clearTimeout(a),s={sdkVersion:e.sdkVersion,merchantAppId:e.merchantAppId};for(var t=0;t<h.length;t++){var n=h[t];n.callback.call(n.context,s)}h=[]}var s,a,l=e("braintree-rpc"),u=new l.MessageBus(window),c=new l.RPCClient(u,window.parent),d=!1,h=[],p={sdkVersion:i(),merchantAppId:n.location.href};t.exports={get:r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"braintree-rpc":30}],11:[function(e,t){"use strict";function n(e){for(var t=0;t<i.length;t++){var n=i[t];this[n]=e[n]}}var i=["bic","maskedIBAN","nonce","accountHolderName"];t.exports=n},{}],12:[function(e,t){"use strict";function n(e){for(var t=0;t<i.length;t++){var n=i[t];this[n]=e[n]}}var i=["accountHolderName","bic","longFormURL","mandateReferenceNumber","maskedIBAN","shortForm"];t.exports=n},{}],13:[function(e,t){"use strict";function n(e){var t,n,i=[];for(n=0;n<e.length;n++)t=e[n],"/"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),"/"===t.charAt(0)&&(t=t.substring(1)),i.push(t);return i.join("/")}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&"[object Array]"===Object.prototype.toString.call(e)||!1}function r(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.floor(16*Math.random()),n="x"===e?t:3&t|8;return n.toString(16)})}t.exports={joinUrlFragments:n,isArray:i,generateUUID:r}},{}],14:[function(e,t){"use strict";function n(e){return new i(e)}var i=e("./lib/client"),r=e("./lib/jsonp"),o=e("./lib/jsonp-driver"),s=e("./lib/util"),a=e("./lib/parse-client-token");t.exports={Client:i,configure:n,util:s,JSONP:r,JSONPDriver:o,parseClientToken:a}},{"./lib/client":2,"./lib/jsonp":6,"./lib/jsonp-driver":5,"./lib/parse-client-token":8,"./lib/util":13}],15:[function(e,t){"use strict";function n(e,t){if(t=t||"["+e+"] is not a valid DOM Element",e&&e.nodeType&&1===e.nodeType)return e;if(e&&window.jQuery&&(e instanceof jQuery||"jquery"in Object(e))&&0!==e.length)return e[0];if("string"==typeof e&&document.getElementById(e))return document.getElementById(e);throw new Error(t)}t.exports={normalizeElement:n}},{}],16:[function(e,t){"use strict";function n(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n)}function i(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on"+t,n)}t.exports={addEventListener:n,removeEventListener:i}},{}],17:[function(e,t){"use strict";function n(e){return"[object Function]"===r.call(e)}function i(e,t){return function(){e.apply(t,arguments)}}var r=Object.prototype.toString;t.exports={bind:i,isFunction:n}},{}],18:[function(e,t){"use strict";function n(){return"https:"===window.location.protocol}function i(e){switch(e){case null:case void 0:return"";case!0:return"1";case!1:return"0";default:return encodeURIComponent(e)}}function r(e,t){var n,o,s=[];for(o in e)if(e.hasOwnProperty(o)){var a=e[o];n=t?t+"["+o+"]":o,"object"==typeof a?s.push(r(a,n)):void 0!==a&&null!==a&&s.push(i(n)+"="+i(a))}return s.join("&")}function o(e){for(var t={},n=e.split("&"),i=0;i<n.length;i++){var r=n[i].split("="),o=r[0],s=decodeURIComponent(r[1]);t[o]=s}return t}function s(e){var t=e.split("?");return 2!==t.length?{}:o(t[1])}t.exports={isBrowserHttps:n,makeQueryString:r,decodeQueryString:o,getParams:s}},{}],19:[function(e,t){var n=e("./lib/dom"),i=e("./lib/url"),r=e("./lib/fn"),o=e("./lib/events");t.exports={normalizeElement:n.normalizeElement,isBrowserHttps:i.isBrowserHttps,makeQueryString:i.makeQueryString,decodeQueryString:i.decodeQueryString,getParams:i.getParams,removeEventListener:o.removeEventListener,addEventListener:o.addEventListener,bind:r.bind,isFunction:r.isFunction}},{"./lib/dom":15,"./lib/events":16,"./lib/fn":17,"./lib/url":18}],20:[function(e,t){"use strict";function n(e,t){var n=window.getComputedStyle?getComputedStyle(e):e.currentStyle;return n[t]}function i(){return{html:{height:o.style.height||"",overflow:n(o,"overflow"),position:n(o,"position")},body:{height:s.style.height||"",overflow:n(s,"overflow")}}}function r(e,t){this.assetsUrl=e,this.container=t||document.body,this.iframe=null,o=document.documentElement,s=document.body,this.merchantPageDefaultStyles=i()}var o,s,a=e("braintree-utilities"),l=e("../shared/receiver"),u="1.1.0";r.prototype.get=function(e,t){var n=this,i=this.constructAuthorizationURL(e);this.container&&a.isFunction(this.container)?this.container(i+"&no_style=1"):this.insertIframe(i),new l(function(e){a.isFunction(n.container)||n.removeIframe(),t(e)})},r.prototype.removeIframe=function(){this.container&&this.container.nodeType&&1===this.container.nodeType?this.container.removeChild(this.iframe):this.container&&window.jQuery&&this.container instanceof jQuery?$(this.iframe,this.container).remove():"string"==typeof this.container&&document.getElementById(this.container).removeChild(this.iframe),this.unlockMerchantWindowSize()},r.prototype.insertIframe=function(e){var t=document.createElement("iframe");if(t.src=e,this.applyStyles(t),this.lockMerchantWindowSize(),this.container&&this.container.nodeType&&1===this.container.nodeType)this.container.appendChild(t);else if(this.container&&window.jQuery&&this.container instanceof jQuery&&0!==this.container.length)this.container.append(t);else{if("string"!=typeof this.container||!document.getElementById(this.container))throw new Error("Unable to find valid container for iframe.");document.getElementById(this.container).appendChild(t)}this.iframe=t},r.prototype.applyStyles=function(e){e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.height="100%",e.style.width="100%",e.setAttribute("frameborder","0"),e.setAttribute("allowTransparency","true"),e.style.border="0",e.style.zIndex="99999"},r.prototype.lockMerchantWindowSize=function(){o.style.overflow="hidden",s.style.overflow="hidden",s.style.height="100%"},r.prototype.unlockMerchantWindowSize=function(){var e=this.merchantPageDefaultStyles;s.style.height=e.body.height,s.style.overflow=e.body.overflow,o.style.overflow=e.html.overflow},r.prototype.constructAuthorizationURL=function(e){var t,n=window.location.href;return n.indexOf("#")>-1&&(n=n.split("#")[0]),t=a.makeQueryString({acsUrl:e.acsUrl,pareq:e.pareq,termUrl:e.termUrl+"&three_d_secure_version="+u,md:e.md,parentUrl:n}),this.assetsUrl+"/3ds/"+u+"/html/style_frame?"+t},t.exports=r},{"../shared/receiver":24,"braintree-utilities":19}],21:[function(e,t){"use strict";function n(e,t){t=t||{},this.clientToken=t.clientToken,this.container=t.container,this.api=e,this.nonce=null}var i=e("braintree-utilities"),r=e("./authorization_service");n.prototype.verify=function(e,t){if(!i.isFunction(t))throw this.api.sendAnalyticsEvents("3ds.web.no_callback"),new Error("No suitable callback argument was given");var n={nonce:"",amount:e.amount},r=e.creditCard;if("string"==typeof r)n.nonce=r,this.api.sendAnalyticsEvents("3ds.web.verify.nonce"),this.startVerification(n,t);else{var o=this,s=function(e,i){return e?t(e):(n.nonce=i,void o.startVerification(n,t))};this.api.sendAnalyticsEvents("3ds.web.verify.credit_card"),this.api.tokenizeCard(r,s)}},n.prototype.startVerification=function(e,t){this.api.lookup3DS(e,i.bind(this.handleLookupResponse(t),this))},n.prototype.handleLookupResponse=function(e){var t=this;return function(n,o){var s;n?e(n.error):o.lookup&&o.lookup.acsUrl&&o.lookup.acsUrl.length>0?(t.nonce=o.paymentMethod.nonce,s=new r(this.clientToken.assetsUrl,this.container),s.get(o.lookup,i.bind(this.handleAuthenticationResponse(e),this))):(t.nonce=o.paymentMethod.nonce,e(null,{nonce:t.nonce,verificationDetails:o.threeDSecureInfo}))}},n.prototype.handleAuthenticationResponse=function(e){return function(t){var n,r=i.decodeQueryString(t);r.user_closed||(n=JSON.parse(r.auth_response),n.success?e(null,{nonce:n.paymentMethod.nonce,verificationDetails:n.threeDSecureInfo}):n.threeDSecureInfo&&n.threeDSecureInfo.liabilityShiftPossible?e(null,{nonce:this.nonce,verificationDetails:n.threeDSecureInfo}):e(n.error))}},t.exports=n},{"./authorization_service":20,"braintree-utilities":19}],22:[function(e,t){"use strict";var n=e("./client");e("./vendor/json2"),t.exports={create:function(e,t){var i=new n(e,t);return i}}},{"./client":21,"./vendor/json2":23}],23:[function(require,module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,r,o,s,a=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;o>n;n+=1)s[n]=str(n,l)||"null";return r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],r=str(i,l),r&&s.push(quote(i)+(gap?": ":":")+r));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r=str(i,l),r&&s.push(quote(i)+(gap?": ":":")+r));return r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},{}],24:[function(e,t){"use strict";function n(e){this.postMessageReceiver(e),this.hashChangeReceiver(e)}var i=e("braintree-utilities");n.prototype.postMessageReceiver=function(e){var t=this;this.wrappedCallback=function(n){e(n.data),t.stopListening()},i.addEventListener(window,"message",this.wrappedCallback)},n.prototype.hashChangeReceiver=function(e){var t,n=window.location.hash,i=this;this.poll=setInterval(function(){t=window.location.hash,t.length>0&&t!==n&&(i.stopListening(),t=t.substring(1,t.length),e(t),window.location.hash=n.length>0?n:"")},10)},n.prototype.stopListening=function(){clearTimeout(this.poll),i.removeEventListener(window,"message",this.wrappedCallback)},t.exports=n},{"braintree-utilities":19}],25:[function(e,t){"use strict";function n(e){this.host=e||window,this.handlers=[],i.addEventListener(this.host,"message",i.bind(this.receive,this))}var i=e("braintree-utilities");n.prototype.receive=function(e){var t,i,r,o;try{r=JSON.parse(e.data)}catch(s){return}for(o=r.type,i=new n.Message(this,e.source,r.data),t=0;t<this.handlers.length;t++)this.handlers[t].type===o&&this.handlers[t].handler(i)},n.prototype.send=function(e,t,n){e.postMessage(JSON.stringify({type:t,data:n}),"*")},n.prototype.register=function(e,t){this.handlers.push({type:e,handler:t})},n.prototype.unregister=function(e,t){for(var n=this.handlers.length-1;n>=0;n--)if(this.handlers[n].type===e&&this.handlers[n].handler===t)return this.handlers.splice(n,1)},n.Message=function(e,t,n){this.bus=e,this.source=t,this.content=n},n.Message.prototype.reply=function(e,t){this.bus.send(this.source,e,t)},t.exports=n},{"braintree-utilities":35}],26:[function(e,t){"use strict";function n(e,t){this.bus=e,this.target=t,this.handlers=[],this.bus.register("publish",i.bind(this._handleMessage,this))}var i=e("braintree-utilities");n.prototype._handleMessage=function(e){var t,n=e.content,i=this.handlers[n.channel];if("undefined"!=typeof i)for(t=0;t<i.length;t++)i[t](n.data)},n.prototype.publish=function(e,t){this.bus.send(this.target,"publish",{channel:e,data:t})},n.prototype.subscribe=function(e,t){this.handlers[e]=this.handlers[e]||[],this.handlers[e].push(t)},n.prototype.unsubscribe=function(e,t){var n,i=this.handlers[e];if("undefined"!=typeof i)for(n=0;n<i.length;n++)i[n]===t&&i.splice(n,1)},t.exports=n},{"braintree-utilities":35}],27:[function(e,t){"use strict";function n(e){this.bus=e,this.frames=[],this.handlers=[]}n.prototype.subscribe=function(e,t){this.handlers[e]=this.handlers[e]||[],this.handlers[e].push(t)},n.prototype.registerFrame=function(e){this.frames.push(e)},n.prototype.unregisterFrame=function(e){for(var t=0;t<this.frames.length;t++)this.frames[t]===e&&this.frames.splice(t,1)},n.prototype.publish=function(e,t){var n,i=this.handlers[e];if("undefined"!=typeof i)for(n=0;n<i.length;n++)i[n](t);for(n=0;n<this.frames.length;n++)this.bus.send(this.frames[n],"publish",{channel:e,data:t})},n.prototype.unsubscribe=function(e,t){var n,i=this.handlers[e];if("undefined"!=typeof i)for(n=0;n<i.length;n++)i[n]===t&&i.splice(n,1)},t.exports=n},{}],28:[function(e,t){"use strict";function n(e,t){this.bus=e,this.target=t||window.parent,this.counter=0,this.callbacks={},this.bus.register("rpc_response",i.bind(this._handleResponse,this))}var i=e("braintree-utilities");n.prototype._handleResponse=function(e){var t=e.content,n=this.callbacks[t.id];"function"==typeof n&&(n.apply(null,t.response),delete this.callbacks[t.id])},n.prototype.invoke=function(e,t,n){var i=this.counter++;this.callbacks[i]=n,this.bus.send(this.target,"rpc_request",{id:i,method:e,args:t})},t.exports=n},{"braintree-utilities":35}],29:[function(e,t){"use strict";function n(e){this.bus=e,this.methods={},this.bus.register("rpc_request",i.bind(this._handleRequest,this))}var i=e("braintree-utilities");n.prototype._handleRequest=function(e){var t,n=e.content,i=n.args||[],r=this.methods[n.method];"function"==typeof r&&(t=function(){e.reply("rpc_response",{id:n.id,response:Array.prototype.slice.call(arguments)})},i.push(t),r.apply(null,i))},n.prototype.define=function(e,t){this.methods[e]=t},t.exports=n},{"braintree-utilities":35}],30:[function(e,t){var n=e("./lib/message-bus"),i=e("./lib/pubsub-client"),r=e("./lib/pubsub-server"),o=e("./lib/rpc-client"),s=e("./lib/rpc-server");t.exports={MessageBus:n,PubsubClient:i,PubsubServer:r,RPCClient:o,RPCServer:s}},{"./lib/message-bus":25,"./lib/pubsub-client":26,"./lib/pubsub-server":27,"./lib/rpc-client":28,"./lib/rpc-server":29}],31:[function(e,t){"use strict";function n(e,t){if(t=t||"["+e+"] is not a valid DOM Element",e&&e.nodeType&&1===e.nodeType)return e;if(e&&window.jQuery&&e instanceof jQuery&&0!==e.length)return e[0];if("string"==typeof e&&document.getElementById(e))return document.getElementById(e);throw new Error(t)}t.exports={normalizeElement:n}},{}],32:[function(e,t){"use strict";function n(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function i(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}t.exports={removeEventListener:i,addEventListener:n}},{}],33:[function(e,t){"use strict";function n(e){return"[object Function]"===Object.prototype.toString.call(e)}function i(e,t){return function(){e.apply(t,arguments)}}t.exports={bind:i,isFunction:n}},{}],34:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],35:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":31,"./lib/events":32,"./lib/fn":33,"./lib/url":34,dup:19}],36:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],37:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],38:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],39:[function(e,t){"use strict";function n(e){var t,n,i,r,o=[{min:0,max:180,chars:7},{min:181,max:620,chars:14},{min:621,max:960,chars:22}];for(r=o.length,e=e||window.innerWidth,n=0;r>n;n++)i=o[n],e>=i.min&&e<=i.max&&(t=i.chars);return t||60}function i(e,t){var n,i;return-1===e.indexOf("@")?e:(e=e.split("@"),n=e[0],i=e[1],n.length>t&&(n=n.slice(0,t)+"..."),i.length>t&&(i="..."+i.slice(-t)),n+"@"+i)}t.exports={truncateEmail:i,getMaxCharLength:n}},{}],40:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],41:[function(e,t){var n=e("./lib/dom"),i=e("./lib/url"),r=e("./lib/fn"),o=e("./lib/events"),s=e("./lib/string");t.exports={string:s,normalizeElement:n.normalizeElement,isBrowserHttps:i.isBrowserHttps,makeQueryString:i.makeQueryString,decodeQueryString:i.decodeQueryString,getParams:i.getParams,removeEventListener:o.removeEventListener,addEventListener:o.addEventListener,bind:r.bind,isFunction:r.isFunction}},{"./lib/dom":36,"./lib/events":37,"./lib/fn":38,"./lib/string":39,"./lib/url":40}],42:[function(e,t){"use strict";var n=e("framebus");n.events=e("./lib/events"),t.exports=n},{"./lib/events":43,framebus:44}],43:[function(e,t){"use strict";for(var n=["PAYMENT_METHOD_REQUEST","PAYMENT_METHOD_RECEIVED","PAYMENT_METHOD_GENERATED","PAYMENT_METHOD_CANCELLED","PAYMENT_METHOD_ERROR","CONFIGURATION_REQUEST","ERROR","WARNING"],i={},r=0;r<n.length;r++){var o=n[r];i[o]=o}t.exports=i},{}],44:[function(e,t,n){"use strict";!function(e,i){"function"==typeof define&&define.amd?define([],i):"object"==typeof n?t.exports=i():e.framebus=i()}(this,function(){function e(e,t,n){var r;return n=n||"*","string"!=typeof e?!1:"string"!=typeof n?!1:(r=i(e,t,n),u(h.top,r,n),!0)}function t(e,t,n){return n=n||"*",d(e,t,n)?!1:(p[n]=p[n]||{},p[n][e]=p[n][e]||[],p[n][e].push(t),!0)}function n(e,t,n){var i,r;if(n=n||"*",d(e,t,n))return!1;if(r=p[n]&&p[n][e],!r)return!1;for(i=0;i<r.length;i++)if(r[i]===t)return r.splice(i,1),!0;return!1}function i(e,t,n){var i={event:e};return"function"==typeof t?i.reply=c(t,n):i.data=t,JSON.stringify(i)}function r(e){var t;try{t=JSON.parse(e.data)}catch(n){return!1}return null==t.event?!1:(null!=t.reply&&(t.data=function(n){var r=i(t.reply,n,e.origin);e.source.postMessage(r,e.origin)}),t)}function o(e){h||(h=e,h.addEventListener?h.addEventListener("message",a,!1):h.attachEvent?h.attachEvent("onmessage",a):null===h.onmessage?h.onmessage=a:h=null)}function s(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}function a(e){var t;"string"==typeof e.data&&(t=r(e),t&&(l("*",t.event,t.data,e.origin),l(e.origin,t.event,t.data,e.origin)))}function l(e,t,n,i){var r;if(p[e]&&p[e][t])for(r=0;r<p[e][t].length;r++)p[e][t][r](n,i)}function u(e,t,n){var i;for(e.postMessage(t,n),i=0;i<e.frames.length;i++)u(e.frames[i],t,n)}function c(e,i){function r(t,s){e(t,s),n(o,r,i)}var o=s();return t(o,r,i),o}function d(e,t,n){return"string"!=typeof e?!0:"function"!=typeof t?!0:"string"!=typeof n?!0:!1}var h,p={};return o(window),{publish:e,pub:e,trigger:e,emit:e,subscribe:t,sub:t,on:t,unsubscribe:n,unsub:n,off:n}})},{}],45:[function(e,t){"use strict";function n(e,t){l.emit(l.events.ERROR,{type:t,message:e})}function i(){var e=a.isIE();return e&&8===e.version}function r(e){if(null==e.apiClient)return n("settings.apiClient is required for coinbase",u),!1;if(!e.configuration.coinbaseEnabled)return n("Coinbase is not enabled for your merchant account",u),!1;var t=e.coinbase;return t&&(t.container||t.button)?t.container&&t.button?(n("options.coinbase.container and options.coinbase.button are mutually exclusive",u),!1):(i()&&n("Coinbase is not supported by your browser. Please consider upgrading","UNSUPPORTED_BROWSER"),!0):(n("Either options.coinbase.container or options.coinbase.button is required for coinbase integrations",u),!1)}function o(e){return r(e)?new s(e):void 0}var s=e("./lib/coinbase"),a=e("./lib/browser"),l=e("braintree-bus"),u="CONFIGURATION";t.exports={create:o}},{"./lib/browser":46,"./lib/coinbase":48,"braintree-bus":56}],46:[function(e,t){(function(e){"use strict";function n(){var e=null,t="";try{new ActiveXObject("")}catch(n){t=n.name}try{e=!!new ActiveXObject("htmlfile")}catch(n){e=!1}return e="ReferenceError"!==t&&e===!1?!1:!0,!e}function i(){var t={version:null};return/Trident/.test(e.navigator.userAgent)&&(t.version=11),/MSIE 10/.test(e.navigator.userAgent)&&(t.version=10),/MSIE 9/.test(e.navigator.userAgent)&&(t.version=9),/MSIE 8/.test(e.navigator.userAgent)&&(t.version=8),t}function r(){return/MSIE|Trident/.test(e.navigator.userAgent)?i():null}t.exports={isMetroBrowser:n,isIE:r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],47:[function(e,t){"use strict";function n(e,t,n){return e?(i.emit(i.events.ERROR,e.error),void n.sendAnalyticsEvents("coinbase.web.error")):(i.emit(i.events.PAYMENT_METHOD_GENERATED,t),void n.sendAnalyticsEvents("coinbase.web.success"))}var i=e("braintree-bus");t.exports={tokenize:n}},{"braintree-bus":56}],48:[function(e,t){(function(n){"use strict";function i(){}function r(e){return{clientId:e.configuration.coinbase.clientId,redirectUrl:e.configuration.coinbase.redirectUrl,scopes:e.configuration.coinbase.scopes||c.SCOPES,meta:{authorizations_merchant_account:e.configuration.coinbase.merchantAccount||""}}}function o(e){var t;this.buttonId=e.coinbase.button||c.BUTTON_ID,this.apiClient=e.apiClient,this.assetsUrl=e.configuration.assetsUrl,this._onOAuthSuccess=s.bind(this._onOAuthSuccess,this),this._handleButtonClick=s.bind(this._handleButtonClick,this),this.popupParams=r(e),this.redirectDoneInterval=null,t=document.body,n.braintreeCoinbaseRedirectCallback=this._onOAuthSuccess,e.coinbase.container?(t=s.normalizeElement(e.coinbase.container),this._insertFrame(t)):s.addEventListener(t,"click",this._handleButtonClick),this._sendAnalyticsEvents("coinbase.web.initialized")}var s=e("braintree-utilities"),a=e("./dom/composer"),l=e("./url-composer"),u=e("./callbacks"),c=e("./constants"),d=e("braintree-bus"),h=e("./detector");o.prototype._sendAnalyticsEvents=function(e){this.apiClient.sendAnalyticsEvents(e)},o.prototype._insertFrame=function(e){var t=a.createFrame({src:this.assetsUrl+"/coinbase/"+c.VERSION+"/coinbase-frame.html"});e.appendChild(t)},o.prototype._onOAuthSuccess=function(e){d.emit("coinbase:view:navigate","loading"),this._clearPollForRedirectDone(),this.apiClient.tokenizeCoinbase({code:e.code,query:l.getQueryString()},s.bind(function(e,t){u.tokenize.apply(null,[e,t,this.apiClient])
},this))},o.prototype._clearPollForRedirectDone=function(){this.redirectDoneInterval&&(clearInterval(this.redirectDoneInterval),this.redirectDoneInterval=null)},o.prototype._pollForRedirectDone=function(e){this.redirectDoneInterval=setInterval(s.bind(function(){var t;if(null==e||e.closed)return void this._clearPollForRedirectDone();try{t=s.decodeQueryString(e.location.search.replace(/^\?/,"")).code}catch(n){return}t&&(this._onOAuthSuccess({code:t}),e.close())},this),100)},o.prototype._openPopup=function(){var e;this._sendAnalyticsEvents("coinbase.web.start.popup"),e=a.createPopup(l.compose(this.popupParams)),n.popup=e,e.focus(),h.shouldPoll()&&(this._pollForRedirectDone(e),n.braintreeCoinbaseRedirectCallback=i)},o.prototype._handleButtonClick=function(e){for(var t=e.target||e.srcElement;;){if(null==t)return;if(t===e.currentTarget)return;if(t.id===this.buttonId)break;t=t.parentNode}e&&e.preventDefault?e.preventDefault():e.returnValue=!1,this._openPopup()},t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./callbacks":47,"./constants":49,"./detector":50,"./dom/composer":52,"./url-composer":55,"braintree-bus":56,"braintree-utilities":64}],49:[function(e,t){"use strict";t.exports={BASE_URL:"https://coinbase.com",ORIGIN_URL:"https://www.coinbase.com",FRAME_NAME:"braintree-coinbase-frame",POPUP_NAME:"coinbase",BUTTON_ID:"bt-coinbase-button",SCOPES:"send",VERSION:"0.0.2"}},{}],50:[function(e,t){"use strict";function n(){var e=r.isIE();return e&&e.version>9}function i(){return r.isIE()&&r.isMetroBrowser()}var r=e("./browser");t.exports={shouldPoll:n,shouldCloseFromParent:i}},{"./browser":46}],51:[function(e,t){"use strict";function n(e){var t=document.createElement("button");return e=e||{},t.id=e.id||"coinbase-button",t.style.backgroundColor=e.backgroundColor||"#EEE",t.style.color=e.color||"#4597C3",t.style.border=e.border||"0",t.style.borderRadius=e.borderRadius||"6px",t.style.padding=e.padding||"12px",t.innerHTML=e.innerHTML||"coinbase",t}t.exports={create:n}},{}],52:[function(e,t){"use strict";var n=e("./popup"),i=e("./button"),r=e("./frame");t.exports={createButton:i.create,createPopup:n.create,createFrame:r.create}},{"./button":51,"./frame":53,"./popup":54}],53:[function(e,t){"use strict";function n(e){var t=document.createElement("iframe");return t.src=e.src,t.id=i.FRAME_NAME,t.name=i.FRAME_NAME,t.allowTransparency=!0,t.height="70px",t.width="100%",t.frameBorder=0,t.style.padding=0,t.style.margin=0,t.style.border=0,t.style.outline="none",t}var i=e("../constants");t.exports={create:n}},{"../constants":49}],54:[function(e,t){(function(n){"use strict";function i(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push([n,e[n]].join("="));return t.join(",")}function r(){var e=850,t=600;return i({width:e,height:t,left:(screen.width-e)/2,top:(screen.height-t)/4})}function o(e){return n.open(e,s.POPUP_NAME,r())}var s=e("../constants");t.exports={create:o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../constants":49}],55:[function(e,t){"use strict";function n(){return"version="+r.VERSION}function i(e){var t=r.BASE_URL+"/oauth/authorize?response_type=code",i=e.redirectUrl+"?"+n();if(t+="&redirect_uri="+encodeURIComponent(i),t+="&client_id="+e.clientId,e.scopes&&(t+="&scope="+encodeURIComponent(e.scopes)),e.meta)for(var o in e.meta)e.meta.hasOwnProperty(o)&&(t+="&meta["+encodeURIComponent(o)+"]="+encodeURIComponent(e.meta[o]));return t}var r=e("./constants");t.exports={compose:i,getQueryString:n}},{"./constants":49}],56:[function(e,t,n){arguments[4][42][0].apply(n,arguments)},{"./lib/events":57,dup:42,framebus:58}],57:[function(e,t,n){arguments[4][43][0].apply(n,arguments)},{dup:43}],58:[function(e,t,n){arguments[4][44][0].apply(n,arguments)},{dup:44}],59:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],60:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],61:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],62:[function(e,t,n){arguments[4][39][0].apply(n,arguments)},{dup:39}],63:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],64:[function(e,t,n){arguments[4][41][0].apply(n,arguments)},{"./lib/dom":59,"./lib/events":60,"./lib/fn":61,"./lib/string":62,"./lib/url":63,dup:41}],65:[function(e,t){(function(n){"use strict";function i(e,t){return e.status>=400?[e,null]:[null,t(e)]}function r(e){var t;this.attrs={},e.hasOwnProperty("sharedCustomerIdentifier")&&(this.attrs.sharedCustomerIdentifier=e.sharedCustomerIdentifier),t=u(e.clientToken),this.driver=e.driver||c,this.authUrl=t.authUrl,this.analyticsUrl=t.analytics?t.analytics.url:void 0,this.clientApiUrl=t.clientApiUrl,this.customerId=e.customerId,this.challenges=t.challenges,this.integration=e.integration||"";var n=l.create(this,{container:e.container,clientToken:t});this.verify3DS=a.bind(n.verify,n),this.attrs.authorizationFingerprint=t.authorizationFingerprint,this.attrs.sharedCustomerIdentifierType=e.sharedCustomerIdentifierType,t.merchantAccountId&&(this.attrs.merchantAccountId=t.merchantAccountId),this.timeoutWatchers=[],this.requestTimeout=e.hasOwnProperty("timeout")?e.timeout:6e4}function o(){}function s(e,t){var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return i}var a=e("braintree-utilities"),l=e("braintree-3ds"),u=e("./parse-client-token"),c=e("./jsonp-driver"),d=e("./util"),h=e("./sepa-mandate"),p=e("./sepa-bank-account"),f=e("./credit-card"),m=e("./coinbase-account"),g=e("./root-data"),v=e("./normalize-api-fields").normalizeCreditCardFields;r.prototype.requestWithTimeout=function(e,t,n,r,s){s=s||o;var a,l,u=this;g.get(function(o){l="braintree/web/"+o.sdkVersion,t.braintreeLibraryVersion=l,t.hasOwnProperty("analytics")&&t.hasOwnProperty("_meta")&&(t._meta.sdkVersion=l,t._meta.merchantAppId=o.merchantAppId),a=r(e,t,function(e,t){if(u.timeoutWatchers[t]){clearTimeout(u.timeoutWatchers[t]);var r=i(e,function(e){return n(e)});s.apply(null,r)}}),u.requestTimeout>0?this.timeoutWatchers[a]=setTimeout(function(){u.timeoutWatchers[a]=null,s.apply(null,[{errors:"Unknown error"},null])},u.requestTimeout):s.apply(null,[{errors:"Unknown error"},null])},this)},r.prototype.post=function(e,t,n,i){this.requestWithTimeout(e,t,n,this.driver.post,i)},r.prototype.get=function(e,t,n,i){this.requestWithTimeout(e,t,n,this.driver.get,i)},r.prototype.put=function(e,t,n,i){this.requestWithTimeout(e,t,n,this.driver.put,i)},r.prototype.getCreditCards=function(e){this.get(d.joinUrlFragments([this.clientApiUrl,"v1","payment_methods"]),this.attrs,function(e){var t=0,n=e.paymentMethods.length,i=[];for(t;n>t;t++)i.push(new f(e.paymentMethods[t]));return i},e)},r.prototype.tokenizeCoinbase=function(e,t){e.options={validate:!1},this.addCoinbase(e,function(e,n){e?t(e,null):n&&n.nonce?t(e,n):t("Unable to tokenize coinbase account.",null)})},r.prototype.tokenizeCard=function(e,t){e.options={validate:!1},this.addCreditCard(e,function(e,n){n&&n.nonce?t(e,n.nonce,{type:n.type}):t("Unable to tokenize card.",null)})},r.prototype.lookup3DS=function(e,t){var n=d.joinUrlFragments([this.clientApiUrl,"v1/payment_methods",e.nonce,"three_d_secure/lookup"]),i=s(this.attrs,{amount:e.amount});this.post(n,i,function(e){return e},t)},r.prototype.addSEPAMandate=function(e,t){var n=s(this.attrs,{sepaMandate:e});this.post(d.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates.json"]),n,function(e){return new h(e.sepaMandates[0])},t)},r.prototype.acceptSEPAMandate=function(e,t){this.put(d.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates",e,"accept"]),this.attrs,function(e){return new p(e.sepaBankAccounts[0])},t)},r.prototype.getSEPAMandate=function(e,t){var n;n=e.paymentMethodToken?s(this.attrs,{paymentMethodToken:e.paymentMethodToken}):this.attrs,this.get(d.joinUrlFragments([this.clientApiUrl,"v1","sepa_mandates",e.mandateReferenceNumber||""]),n,function(e){return new h(e.sepaMandates[0])},t)},r.prototype.addCoinbase=function(e,t){var n;delete e.share,n=s(this.attrs,{coinbaseAccount:e,_meta:{integration:this.integration||"custom",source:"coinbase"}}),this.post(d.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/coinbase_accounts"]),n,function(e){return new m(e.coinbaseAccounts[0])},t)},r.prototype.addCreditCard=function(e,t){var n,i=e.share;delete e.share;var r=v(e);n=s(this.attrs,{share:i,creditCard:r,_meta:{integration:this.integration||"custom",source:"form"}}),this.post(d.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/credit_cards"]),n,function(e){return new f(e.creditCards[0])},t)},r.prototype.unlockCreditCard=function(e,t,n){var i=s(this.attrs,{challengeResponses:t});this.put(d.joinUrlFragments([this.clientApiUrl,"v1","payment_methods/",e.nonce]),i,function(e){return new f(e.paymentMethods[0])},n)},r.prototype.sendAnalyticsEvents=function(e,t){var i,r=this.analyticsUrl,o=[];if(e=d.isArray(e)?e:[e],!r)return void(t&&t.apply(null,[null,{}]));for(var a in e)e.hasOwnProperty(a)&&o.push({kind:e[a]});i=s(this.attrs,{analytics:o,_meta:{platform:"web",platformVersion:n.navigator.userAgent,integrationType:this.integration}}),this.post(r,i,function(e){return e},t)},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./coinbase-account":66,"./credit-card":67,"./jsonp-driver":68,"./normalize-api-fields":70,"./parse-client-token":71,"./root-data":73,"./sepa-bank-account":74,"./sepa-mandate":75,"./util":76,"braintree-3ds":85,"braintree-utilities":104}],66:[function(e,t,n){arguments[4][3][0].apply(n,arguments)},{dup:3}],67:[function(e,t,n){arguments[4][4][0].apply(n,arguments)},{dup:4}],68:[function(e,t,n){arguments[4][5][0].apply(n,arguments)},{"./jsonp":69,dup:5}],69:[function(e,t,n){arguments[4][6][0].apply(n,arguments)},{"./util":76,dup:6}],70:[function(e,t,n){arguments[4][7][0].apply(n,arguments)},{dup:7}],71:[function(e,t,n){arguments[4][8][0].apply(n,arguments)},{"./polyfill":72,dup:8}],72:[function(e,t,n){arguments[4][9][0].apply(n,arguments)},{dup:9}],73:[function(e,t,n){arguments[4][10][0].apply(n,arguments)},{"braintree-rpc":93,dup:10}],74:[function(e,t,n){arguments[4][11][0].apply(n,arguments)},{dup:11}],75:[function(e,t,n){arguments[4][12][0].apply(n,arguments)},{dup:12}],76:[function(e,t,n){arguments[4][13][0].apply(n,arguments)},{dup:13}],77:[function(e,t,n){arguments[4][14][0].apply(n,arguments)},{"./lib/client":65,"./lib/jsonp":69,"./lib/jsonp-driver":68,"./lib/parse-client-token":71,"./lib/util":76,dup:14}],78:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],79:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],80:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],81:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],82:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":78,"./lib/events":79,"./lib/fn":80,"./lib/url":81,dup:19}],83:[function(e,t,n){arguments[4][20][0].apply(n,arguments)},{"../shared/receiver":87,"braintree-utilities":82,dup:20}],84:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{"./authorization_service":83,"braintree-utilities":82,dup:21}],85:[function(e,t,n){arguments[4][22][0].apply(n,arguments)},{"./client":84,"./vendor/json2":86,dup:22}],86:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],87:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{"braintree-utilities":82,dup:24}],88:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{"braintree-utilities":98,dup:25}],89:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{"braintree-utilities":98,dup:26}],90:[function(e,t,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],91:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{"braintree-utilities":98,dup:28}],92:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{"braintree-utilities":98,dup:29}],93:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{"./lib/message-bus":88,"./lib/pubsub-client":89,"./lib/pubsub-server":90,"./lib/rpc-client":91,"./lib/rpc-server":92,dup:30}],94:[function(e,t,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],95:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],96:[function(e,t,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],97:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],98:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":94,"./lib/events":95,"./lib/fn":96,"./lib/url":97,dup:19}],99:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],100:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],101:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],102:[function(e,t,n){arguments[4][39][0].apply(n,arguments)},{dup:39}],103:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],104:[function(e,t,n){arguments[4][41][0].apply(n,arguments)},{"./lib/dom":99,"./lib/events":100,"./lib/fn":101,"./lib/string":102,"./lib/url":103,dup:41}],105:[function(e,t,n){arguments[4][42][0].apply(n,arguments)},{"./lib/events":106,dup:42,framebus:107}],106:[function(e,t,n){arguments[4][43][0].apply(n,arguments)},{dup:43}],107:[function(e,t,n){arguments[4][44][0].apply(n,arguments)},{dup:44}],108:[function(e,t,n){arguments[4][65][0].apply(n,arguments)},{"./coinbase-account":109,"./credit-card":110,"./jsonp-driver":111,"./normalize-api-fields":113,"./parse-client-token":114,"./root-data":116,"./sepa-bank-account":117,"./sepa-mandate":118,"./util":119,"braintree-3ds":128,"braintree-utilities":147,dup:65}],109:[function(e,t,n){arguments[4][3][0].apply(n,arguments)},{dup:3}],110:[function(e,t,n){arguments[4][4][0].apply(n,arguments)},{dup:4}],111:[function(e,t,n){arguments[4][5][0].apply(n,arguments)},{"./jsonp":112,dup:5}],112:[function(e,t,n){arguments[4][6][0].apply(n,arguments)},{"./util":119,dup:6}],113:[function(e,t,n){arguments[4][7][0].apply(n,arguments)},{dup:7}],114:[function(e,t,n){arguments[4][8][0].apply(n,arguments)},{"./polyfill":115,dup:8}],115:[function(e,t,n){arguments[4][9][0].apply(n,arguments)},{dup:9}],116:[function(e,t,n){arguments[4][10][0].apply(n,arguments)},{"braintree-rpc":136,dup:10}],117:[function(e,t,n){arguments[4][11][0].apply(n,arguments)},{dup:11}],118:[function(e,t,n){arguments[4][12][0].apply(n,arguments)},{dup:12}],119:[function(e,t,n){arguments[4][13][0].apply(n,arguments)},{dup:13}],120:[function(e,t,n){arguments[4][14][0].apply(n,arguments)},{"./lib/client":108,"./lib/jsonp":112,"./lib/jsonp-driver":111,"./lib/parse-client-token":114,"./lib/util":119,dup:14}],121:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],122:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],123:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],124:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],125:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":121,"./lib/events":122,"./lib/fn":123,"./lib/url":124,dup:19}],126:[function(e,t,n){arguments[4][20][0].apply(n,arguments)},{"../shared/receiver":130,"braintree-utilities":125,dup:20}],127:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{"./authorization_service":126,"braintree-utilities":125,dup:21}],128:[function(e,t,n){arguments[4][22][0].apply(n,arguments)},{"./client":127,"./vendor/json2":129,dup:22}],129:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],130:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{"braintree-utilities":125,dup:24}],131:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{"braintree-utilities":141,dup:25}],132:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{"braintree-utilities":141,dup:26}],133:[function(e,t,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],134:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{"braintree-utilities":141,dup:28}],135:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{"braintree-utilities":141,dup:29}],136:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{"./lib/message-bus":131,"./lib/pubsub-client":132,"./lib/pubsub-server":133,"./lib/rpc-client":134,"./lib/rpc-server":135,dup:30}],137:[function(e,t,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],138:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],139:[function(e,t,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],140:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],141:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":137,"./lib/events":138,"./lib/fn":139,"./lib/url":140,dup:19}],142:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],143:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],144:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],145:[function(e,t,n){arguments[4][39][0].apply(n,arguments)},{dup:39}],146:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],147:[function(e,t,n){arguments[4][41][0].apply(n,arguments)},{"./lib/dom":142,"./lib/events":143,"./lib/fn":144,"./lib/string":145,"./lib/url":146,dup:41}],148:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{"braintree-utilities":158,dup:25}],149:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{"braintree-utilities":158,dup:26}],150:[function(e,t,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],151:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{"braintree-utilities":158,dup:28}],152:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{"braintree-utilities":158,dup:29}],153:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{"./lib/message-bus":148,"./lib/pubsub-client":149,"./lib/pubsub-server":150,"./lib/rpc-client":151,"./lib/rpc-server":152,dup:30}],154:[function(e,t,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],155:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],156:[function(e,t,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],157:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],158:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":154,"./lib/events":155,"./lib/fn":156,"./lib/url":157,dup:19}],159:[function(e,t,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],160:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],161:[function(e,t,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],162:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],163:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":159,"./lib/events":160,"./lib/fn":161,"./lib/url":162,dup:19}],164:[function(e,t){function n(e){var t=window.getComputedStyle?getComputedStyle(e):e.currentStyle;return{overflow:t.overflow||"",height:e.style.height||""}}function i(){return{html:{node:document.documentElement,styles:n(document.documentElement)},body:{node:document.body,styles:n(document.body)}}}function r(e,t){if(!e)throw new Error('Parameter "clientToken" cannot be null');t=t||{},this._clientToken=o.parseClientToken(e),this._clientOptions=t,this.container=t.container,this.merchantPageDefaultStyles=null,this.paymentMethodNonceInputField=t.paymentMethodNonceInputField,this.frame=null,this.popup=null,this.insertFrameFunction=t.insertFrame,this.onSuccess=t.onSuccess,this.onCancelled=t.onCancelled,this.onUnsupported=t.onUnsupported,this.loggedInView=null,this.loggedOutView=null,this.insertUI=!0}{var o=e("braintree-api"),s=e("braintree-rpc"),a=e("braintree-utilities"),l=e("./logged-in-view"),u=e("./logged-out-view"),c=e("./overlay-view"),d=e("../shared/util/browser"),h=e("../shared/util/dom"),p=e("../shared/constants");e("../shared/util/util")}r.prototype.getViewerUrl=function(){var e=this._clientToken.paypal.assetsUrl;return e+"/pwpp/"+p.VERSION+"/html/braintree-frame.html"},r.prototype.getProxyUrl=function(){var e=this._clientToken.paypal.assetsUrl;return e+"/pwpp/"+p.VERSION+"/html/proxy-frame.html"},r.prototype.initialize=function(){return this._clientToken.paypalEnabled?this._isBrowserSecure()?this._isAriesCapable()&&!this._isAriesSupportedCurrency()?void("function"==typeof this.onUnsupported&&this.onUnsupported(new Error("This PayPal integration does not support this currency"))):(this._overrideClientTokenProperties(),d.isProxyFrameRequired()&&this._insertProxyFrame(),this._setupDomElements(),this._setupPaymentMethodNonceInputField(),this._setupViews(),void this._createRpcServer()):void("function"==typeof this.onUnsupported&&this.onUnsupported(new Error("unsupported protocol detected"))):void("function"==typeof this.onUnsupported&&this.onUnsupported(new Error("PayPal is not enabled")))},r.prototype._isAriesSupportedCurrency=function(){for(var e=this._clientOptions.currency,t=p.ARIES_SUPPORTED_CURRENCIES.length,n=!1,i=0;t>i;i++)e.toLowerCase()===p.ARIES_SUPPORTED_CURRENCIES[i].toLowerCase()&&(n=!0);return n},r.prototype._isBrowserSecure=function(){return a.isBrowserHttps()||d.isPopupSupported()||this._clientToken.paypal.allowHttp},r.prototype._overrideClientTokenProperties=function(){this._clientOptions.displayName&&(this._clientToken.paypal.displayName=this._clientOptions.displayName)},r.prototype._setupDomElements=function(){this.insertUI&&(this.container=a.normalizeElement(this.container))},r.prototype._setupPaymentMethodNonceInputField=function(){if(this.insertUI){var e=this.paymentMethodNonceInputField;a.isFunction(e)||(e=void 0!==e?a.normalizeElement(e):this._createPaymentMethodNonceInputField(),this.paymentMethodNonceInputField=e)}},r.prototype._setupViews=function(){var e=this._clientToken.paypal.assetsUrl;this.insertUI&&(this.loggedInView=new l({container:this.container,assetsUrl:e}),this.loggedOutView=new u({assetsUrl:e,container:this.container,isCheckout:this._isAriesCapable(),locale:this._clientOptions.locale,merchantId:"merchantId"}),a.addEventListener(this.loggedOutView.container,"click",a.bind(this._handleContainerClick,this)),a.addEventListener(this.loggedInView.logoutNode,"click",a.bind(this._handleLogout,this)))},r.prototype._createRpcServer=function(){var e=new s.MessageBus(window),t=new s.RPCServer(e,window);t.define("getClientToken",a.bind(this._handleGetClientToken,this)),t.define("getClientOptions",a.bind(this._handleGetClientOptions,this)),t.define("closePayPalModal",a.bind(this._handleCloseMessage,this)),t.define("receivePayPalData",a.bind(this._handleSuccessfulAuthentication,this))},r.prototype._createPaymentMethodNonceInputField=function(){var e=document.createElement("input");return e.name="payment_method_nonce",e.type="hidden",this.container.appendChild(e)},r.prototype._createFrame=function(){var e,t=document.createElement("iframe");return this._isAriesCapable()?(e=p.ARIES_FRAME_NAME,t.style.background="#FFFFFF"):e=p.FRAME_NAME,t.src=this.getViewerUrl(),t.id=e,t.name=e,t.allowTransparency=!0,t.height="100%",t.width="100%",t.frameBorder=0,t.style.position=d.isMobile()?"absolute":"fixed",t.style.top=0,t.style.left=0,t.style.bottom=0,t.style.zIndex=20001,t.style.padding=0,t.style.margin=0,t.style.border=0,t.style.outline="none",t},r.prototype._removeFrame=function(e){e=e||document.body,this.frame&&e.contains(this.frame)&&(e.removeChild(this.frame),this._unlockMerchantWindowSize())},r.prototype._insertFrame=function(){this.insertFrameFunction?this.insertFrameFunction(this.getViewerUrl()):(this.frame=this._createFrame(),document.body.appendChild(this.frame)),this._lockMerchantWindowSize()},r.prototype._handleContainerClick=function(e){function t(e){return e.className.match(/paypal-button(?!-widget)/)||"braintree-paypal-button"===e.id}var n=e.target||e.srcElement;(t(n)||t(n.parentNode))&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this._open())},r.prototype._setMerchantPageDefaultStyles=function(){this.merchantPageDefaultStyles=i()},r.prototype._open=function(){d.isPopupSupported()?this._openPopup():this._openModal()},r.prototype._close=function(){d.isPopupSupported()?this._closePopup():this._closeModal()},r.prototype._openModal=function(){this._removeFrame(),this._insertFrame()},r.prototype._isAriesCapable=function(){return!!this._clientOptions.singleUse&&!!this._clientOptions.amount&&!!this._clientOptions.currency},r.prototype._openPopup=function(){var e,t,n,i=[],r=window.outerWidth||document.documentElement.clientWidth,o=window.outerHeight||document.documentElement.clientHeight,s="undefined"==typeof window.screenY?window.screenTop:window.screenY,a="undefined"==typeof window.screenX?window.screenLeft:window.screenX;this._isAriesCapable()?(e=p.ARIES_POPUP_NAME,n=p.ARIES_POPUP_HEIGHT,t=p.ARIES_POPUP_WIDTH):(e=p.POPUP_NAME,n=p.POPUP_HEIGHT,t=p.POPUP_WIDTH);var l=(r-t)/2+a,u=(o-n)/2+s;return i.push("height="+n),i.push("width="+t),i.push("top="+u),i.push("left="+l),i.push(p.POPUP_OPTIONS),this.popup=window.open(this.getViewerUrl(),e,i.join(",")),d.isOverlaySupported()&&(this.overlayView=new c(this.popup,this._clientToken.paypal.assetsUrl),this.overlayView.render()),this.popup.focus(),this.popup},r.prototype._createProxyFrame=function(){var e=document.createElement("iframe");return e.src=this.getProxyUrl(),e.id=p.BRIDGE_FRAME_NAME,e.name=p.BRIDGE_FRAME_NAME,e.allowTransparency=!0,e.height=0,e.width=0,e.frameBorder=0,e.style.position="static",e.style.padding=0,e.style.margin=0,e.style.border=0,e.style.outline="none",e},r.prototype._insertProxyFrame=function(){this.proxyFrame=this._createProxyFrame(),document.body.appendChild(this.proxyFrame)},r.prototype._closeModal=function(){this._removeFrame()},r.prototype._closePopup=function(){this.popup&&(this.popup.close(),this.popup=null),this.overlayView&&d.isOverlaySupported()&&this.overlayView.remove()},r.prototype._clientTokenData=function(){return{analyticsUrl:this._clientToken.analytics?this._clientToken.analytics.url:void 0,authorizationFingerprint:this._clientToken.authorizationFingerprint,authUrl:this._clientToken.authUrl,clientApiUrl:this._clientToken.clientApiUrl,displayName:this._clientToken.paypal.displayName,paypalBaseUrl:this._clientToken.paypal.assetsUrl,paypalClientId:this._clientToken.paypal.clientId,paypalPrivacyUrl:this._clientToken.paypal.privacyUrl,paypalUserAgreementUrl:this._clientToken.paypal.userAgreementUrl,offline:this._clientOptions.offline||this._clientToken.paypal.environmentNoNetwork}},r.prototype._handleGetClientToken=function(e){e(this._clientTokenData())},r.prototype._clientOptionsData=function(){return{demo:this._clientOptions.demo||!1,locale:this._clientOptions.locale||"en_us",onetime:this._clientOptions.singleUse||!1,integration:this._clientOptions.integration||"paypal",enableShippingAddress:this._clientOptions.enableShippingAddress||!1,enableAries:this._isAriesCapable(),amount:this._clientOptions.amount||null,currency:this._clientOptions.currency||null,shippingAddressOverride:this._clientOptions.shippingAddressOverride||null}},r.prototype._handleGetClientOptions=function(e){e(this._clientOptionsData())},r.prototype._handleSuccessfulAuthentication=function(e){this._close(),e.type=p.NONCE_TYPE,a.isFunction(this.paymentMethodNonceInputField)?this.paymentMethodNonceInputField(e.nonce):(this._showLoggedInContent(e.details.email),this._setNonceInputValue(e.nonce)),a.isFunction(this.onSuccess)&&this.onSuccess(e)},r.prototype._lockMerchantWindowSize=function(){this._setMerchantPageDefaultStyles(),document.documentElement.style.height="100%",document.documentElement.style.overflow="hidden",document.body.style.height="100%",document.body.style.overflow="hidden"},r.prototype._unlockMerchantWindowSize=function(){this.merchantPageDefaultStyles&&(document.documentElement.style.height=this.merchantPageDefaultStyles.html.styles.height,document.documentElement.style.overflow=this.merchantPageDefaultStyles.html.styles.overflow,document.body.style.height=this.merchantPageDefaultStyles.body.styles.height,document.body.style.overflow=this.merchantPageDefaultStyles.body.styles.overflow)},r.prototype._handleCloseMessage=function(){this._removeFrame()},r.prototype._showLoggedInContent=function(e){this.loggedOutView.hide(),h.setTextContent(this.loggedInView.emailNode,e),this.loggedInView.show()},r.prototype._handleLogout=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,this.loggedInView.hide(),this.loggedOutView.show(),this._setNonceInputValue(""),a.isFunction(this.onCancelled)&&this.onCancelled()},r.prototype._setNonceInputValue=function(e){this.paymentMethodNonceInputField.value=e},t.exports=r},{"../shared/constants":169,"../shared/util/browser":175,"../shared/util/dom":176,"../shared/util/util":177,"./logged-in-view":166,"./logged-out-view":167,"./overlay-view":168,"braintree-api":120,"braintree-rpc":153,"braintree-utilities":163}],165:[function(e,t){"use strict";function n(e){return-1!==e.indexOf("_")&&5===e.length}function i(e){var t;for(var n in o)o.hasOwnProperty(n)&&(n===e?t=o[n]:o[n]===e&&(t=o[n]));return t}function r(e){var t;if(e=e?e.toLowerCase():"us",t=n(e)?e:i(e)){var r=t.split("_");return[r[0],r[1].toUpperCase()].join("_")}return"en_US"}var o=e("../shared/data/country-code-lookup");t.exports=r},{"../shared/data/country-code-lookup":170}],166:[function(e,t){function n(e){this.options=e,this.container=this.createViewContainer(),this.createPayPalName(),this.emailNode=this.createEmailNode(),this.logoutNode=this.createLogoutNode()}var i=e("../shared/constants");n.prototype.createViewContainer=function(){var e=document.createElement("div");e.id="braintree-paypal-loggedin";var t=["display: none","max-width: 500px","overflow: hidden","padding: 16px","background-image: url("+this.options.assetsUrl+"/pwpp/"+i.VERSION+"/images/paypal-small.png)","background-image: url("+this.options.assetsUrl+"/pwpp/"+i.VERSION+"/images/paypal-small.svg), none","background-position: 20px 50%","background-repeat: no-repeat","background-size: 13px 15px","border-top: 1px solid #d1d4d6","border-bottom: 1px solid #d1d4d6"].join(";");return e.style.cssText=t,this.options.container.appendChild(e),e},n.prototype.createPayPalName=function(){var e=document.createElement("span");e.id="bt-pp-name",e.innerHTML="PayPal";var t=["color: #283036","font-size: 13px","font-weight: 800",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"margin-left: 36px","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");return e.style.cssText=t,this.container.appendChild(e)},n.prototype.createEmailNode=function(){var e=document.createElement("span");e.id="bt-pp-email";var t=["color: #6e787f","font-size: 13px",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"margin-left: 5px","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");return e.style.cssText=t,this.container.appendChild(e)},n.prototype.createLogoutNode=function(){var e=document.createElement("button");e.id="bt-pp-cancel",e.innerHTML="Cancel";var t=["color: #3d95ce","font-size: 11px",'font-family: "Helvetica Neue", Helvetica, Arial, sans-serif',"line-height: 20px","margin: 0 0 0 25px","padding: 0","background-color: transparent","border: 0","cursor: pointer","text-decoration: underline","float: right","-webkit-font-smoothing: antialiased","-moz-font-smoothing: antialiased","-ms-font-smoothing: antialiased","font-smoothing: antialiased"].join(";");return e.style.cssText=t,this.container.appendChild(e)},n.prototype.show=function(){this.container.style.display="block"},n.prototype.hide=function(){this.container.style.display="none"},t.exports=n},{"../shared/constants":169}],167:[function(e,t){function n(e){this.options=e,this.assetsUrl=this.options.assetsUrl,this.container=this.createViewContainer(),this.options.isCheckout?this.createCheckoutWithPayPalButton():this.createPayWithPayPalButton()}var i=(e("braintree-utilities"),e("../shared/constants")),r=e("./get-locale");n.prototype.createViewContainer=function(){var e=document.createElement("div");return e.id="braintree-paypal-loggedout",this.options.container.appendChild(e),e},n.prototype.createPayWithPayPalButton=function(){var e=document.createElement("a");e.id="braintree-paypal-button",e.href="#";var t=["display: block","width: 115px","height: 44px","overflow: hidden"].join(";");e.style.cssText=t;var n=new Image;n.src=this.assetsUrl+"/pwpp/"+i.VERSION+"/images/pay-with-paypal.png",n.setAttribute("alt","Pay with PayPal");var r=["max-width: 100%","display: block","width: 100%","height: 100%","outline: none","border: 0"].join(";");n.style.cssText=r,e.appendChild(n),this.container.appendChild(e)},n.prototype.createCheckoutWithPayPalButton=function(){var e=document.createElement("script");e.src="//www.paypalobjects.com/api/button.js",e.async=!0,e.setAttribute("data-merchant",this.options.merchantId),e.setAttribute("data-button","checkout"),e.setAttribute("data-type","button"),e.setAttribute("data-width","150"),e.setAttribute("data-height","44"),e.setAttribute("data-lc",r(this.options.locale)),this.container.appendChild(e)
},n.prototype.show=function(){this.container.style.display="block"},n.prototype.hide=function(){this.container.style.display="none"},t.exports=n},{"../shared/constants":169,"./get-locale":165,"braintree-utilities":163}],168:[function(e,t){function n(e,t){this.popup=e,this.assetsUrl=t,this.spriteSrc=this.assetsUrl+"/pwpp/"+r.VERSION+"/images/pp_overlay_sprite.png",this._create(),this._setupEvents(),this._pollForPopup()}var i=e("braintree-utilities"),r=e("../shared/constants");n.prototype.render=function(){document.body.contains(this.el)||document.body.appendChild(this.el)},n.prototype.remove=function(){document.body.contains(this.el)&&document.body.removeChild(this.el)},n.prototype._create=function(){this.el=document.createElement("div"),this.el.className="bt-overlay",this._setStyles(this.el,["z-index: 20001","position: fixed","top: 0","left: 0","height: 100%","width: 100%","text-align: center","background: #000","background: rgba(0,0,0,0.7)",'-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=52)"']),this.el.appendChild(this._createCloseIcon()),this.el.appendChild(this._createMessage())},n.prototype._createCloseIcon=function(){return this.closeIcon=document.createElement("div"),this.closeIcon.className="bt-close-overlay",this._setStyles(this.closeIcon,["position: absolute","top: 10px","right: 10px","cursor: pointer","background: url("+this.spriteSrc+") no-repeat 0 -67px","height: 14px","width: 14px"]),this.closeIcon},n.prototype._createMessage=function(){var e=document.createElement("div");return this._setStyles(e,["position: relative","top: 50%","max-width: 350px",'font-family: "HelveticaNeue", "HelveticaNeue-Light", "Helvetica Neue Light", helvetica, arial, sans-serif',"font-size: 14px","line-height: 20px","margin: -70px auto 0"]),e.appendChild(this._createLogo()),e.appendChild(this._createExplanation()),e.appendChild(this._createFocusLink()),e},n.prototype._createExplanation=function(){var e=document.createElement("div");return this._setStyles(e,["color: #FFF","margin-bottom: 20px"]),e.innerHTML="Don't see the secure PayPal browser? We'll help you re-launch the window to complete your purchase.",e},n.prototype._createLogo=function(){var e=document.createElement("div");return this._setStyles(e,["background: url("+this.spriteSrc+") no-repeat 0 0","width: 94px","height: 25px","margin: 0 auto 26px auto"]),e},n.prototype._createFocusLink=function(){return this.focusLink=document.createElement("a"),this._setStyles(this.focusLink,["color: #009be1","cursor: pointer"]),this.focusLink.innerHTML="Continue",this.focusLink},n.prototype._setStyles=function(e,t){var n=t.join(";");e.style.cssText=n},n.prototype._setupEvents=function(){i.addEventListener(this.closeIcon,"click",i.bind(this._handleClose,this)),i.addEventListener(this.focusLink,"click",i.bind(this._handleFocus,this))},n.prototype._handleClose=function(e){e.preventDefault(),this.remove(),this.popup.close()},n.prototype._handleFocus=function(e){e.preventDefault(),this.popup.focus()},n.prototype._pollForPopup=function(){var e=setInterval(i.bind(function(){this.popup&&this.popup.closed&&(clearInterval(e),this.remove())},this),100)},t.exports=n},{"../shared/constants":169,"braintree-utilities":163}],169:[function(e,t,n){var i="1.3.1";n.VERSION=i,n.POPUP_NAME="braintree_paypal_popup",n.ARIES_POPUP_NAME="PPFrameRedirect",n.FRAME_NAME="braintree-paypal-frame",n.ARIES_FRAME_NAME="PPFrameRedirect",n.POPUP_PATH="/pwpp/"+i+"/html/braintree-frame.html",n.POPUP_OPTIONS="resizable,scrollbars",n.POPUP_HEIGHT=470,n.POPUP_WIDTH=410,n.ARIES_POPUP_HEIGHT=535,n.ARIES_POPUP_WIDTH=450,n.BRIDGE_FRAME_NAME="bt-proxy-frame",n.ARIES_SUPPORTED_CURRENCIES=["USD","GBP","EUR","AUD","CAD"],n.NONCE_TYPE="PayPalAccount"},{}],170:[function(e,t){"use strict";t.exports={us:"en_us",gb:"en_uk",uk:"en_uk",de:"de_de",fr:"fr_fr",it:"it_it",es:"es_es",ca:"en_ca",au:"en_au",at:"de_de",be:"en_us",ch:"de_de",dk:"da_dk",nl:"nl_nl",no:"no_no",pl:"pl_pl",se:"sv_se",tr:"tr_tr",bg:"en_us",cy:"en_us",hr:"en_us",is:"en_us",kh:"en_us",mt:"en_us",my:"en_us",ru:"ru_ru"}},{}],171:[function(e,t){function n(){return u.matchUserAgent("Android")&&!i()}function i(){return u.matchUserAgent("Chrome")||u.matchUserAgent("CriOS")}function r(){return u.matchUserAgent("Firefox")}function o(){return u.matchUserAgent("Trident")||u.matchUserAgent("MSIE")}function s(){return u.matchUserAgent("Opera")||u.matchUserAgent("OPR")}function a(){return s()&&"[object OperaMini]"===c.call(window.operamini)}function l(){return u.matchUserAgent("Safari")&&!i()&&!n()}var u=e("./useragent"),c=Object.prototype.toString;t.exports={isAndroid:n,isChrome:i,isFirefox:r,isIE:o,isOpera:s,isOperaMini:a,isSafari:l}},{"./useragent":174}],172:[function(e,t){function n(){return!i()&&(s.isAndroid()||s.isIpod()||s.isIphone()||o.matchUserAgent("IEMobile"))}function i(){return s.isIpad()||s.isAndroid()&&!o.matchUserAgent("Mobile")}function r(){return!n()&&!i()}var o=e("./useragent"),s=e("./platform");t.exports={isMobile:n,isTablet:i,isDesktop:r}},{"./platform":173,"./useragent":174}],173:[function(e,t){function n(){return a.matchUserAgent("Android")}function i(){return a.matchUserAgent("iPad")}function r(){return a.matchUserAgent("iPod")}function o(){return a.matchUserAgent("iPhone")&&!r()}function s(){return i()||r()||o()}var a=e("./useragent");t.exports={isAndroid:n,isIpad:i,isIpod:r,isIphone:o,isIos:s}},{"./useragent":174}],174:[function(e,t,n){function i(){return o}function r(e){var t=n.getNativeUserAgent(),i=t.match(e);return i?!0:!1}var o=window.navigator.userAgent;n.getNativeUserAgent=i,n.matchUserAgent=r},{}],175:[function(e,t){function n(){return i()&&window.outerWidth<600}function i(){return f.test(p)}function r(){return!!window.postMessage}function o(){if(u.isOperaMini())return!1;if(c.isDesktop())return!0;if(c.isMobile()||c.isTablet()){if(u.isIE())return!1;if(d.isAndroid())return!0;if(d.isIos())return u.isSafari()&&h.matchUserAgent(/OS (?:8_1|8_0|8)(?!_\d)/i)||u.isChrome()?!1:!0}return!1}function s(){if(u.isIE()&&h.matchUserAgent(/MSIE 8\.0/))return!1;try{return window.self===window.top}catch(e){return!1}}function a(){return u.isIE()&&!l()}function l(){var e=null,t="";try{new ActiveXObject("")}catch(n){t=n.name}try{e=!!new ActiveXObject("htmlfile")}catch(n){e=!1}return e="ReferenceError"!==t&&e===!1?!1:!0,!e}var u=e("../useragent/browser"),c=e("../useragent/device"),d=e("../useragent/platform"),h=e("../useragent/useragent"),p=window.navigator.userAgent,f=/[Mm]obi|tablet|iOS|Android|IEMobile|Windows\sPhone/;t.exports={isMobile:n,isMobileDevice:i,detectedPostMessage:r,isPopupSupported:o,isOverlaySupported:s,isProxyFrameRequired:a}},{"../useragent/browser":171,"../useragent/device":172,"../useragent/platform":173,"../useragent/useragent":174}],176:[function(e,t){function n(e,t){var n="innerText";document&&document.body&&"textContent"in document.body&&(n="textContent"),e[n]=t}t.exports={setTextContent:n}},{}],177:[function(e,t){function n(){for(var e="",t=0;32>t;t++){var n=Math.floor(16*Math.random());e+=n.toString(16)}return e}function i(e){return/^(true|1)$/i.test(e)}function r(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;")}function o(e){var t=e.indexOf("?"),n={};if(t>=0&&(e=e.substr(t+1)),0!==e.length){for(var i=e.split("&"),r=0,o=i.length;o>r;r++){var s=i[r],a=s.indexOf("="),l=s.substr(0,a),u=s.substr(a+1),c=decodeURIComponent(u);c=c.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"false"===c&&(c=!1),(void 0===c||"true"===c)&&(c=!0),n[l]=c}return n}}function s(e){return e&&"[object Function]"===Object.prototype.toString.call(e)}var a="function"==typeof String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/,"")},l="function"==typeof window.btoa?function(e){return window.btoa(e)}:function(e){for(var t,n,i,r,o,s,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0;c<e.length;)t=e.charCodeAt(c++),n=e.charCodeAt(c++),i=e.charCodeAt(c++),r=t>>2,o=(3&t)<<4|n>>4,s=(15&n)<<2|i>>6,a=63&i,isNaN(n)?s=a=64:isNaN(i)&&(a=64),u=u+l.charAt(r)+l.charAt(o)+l.charAt(s)+l.charAt(a);return u};t.exports={trim:a,btoa:l,generateUid:n,castToBoolean:i,htmlEscape:r,parseUrlParams:o,isFunction:s}},{}],178:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{"braintree-utilities":188,dup:25}],179:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{"braintree-utilities":188,dup:26}],180:[function(e,t,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],181:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{"braintree-utilities":188,dup:28}],182:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{"braintree-utilities":188,dup:29}],183:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{"./lib/message-bus":178,"./lib/pubsub-client":179,"./lib/pubsub-server":180,"./lib/rpc-client":181,"./lib/rpc-server":182,dup:30}],184:[function(e,t,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],185:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],186:[function(e,t,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],187:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],188:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":184,"./lib/events":185,"./lib/fn":186,"./lib/url":187,dup:19}],189:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],190:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],191:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],192:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],193:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":189,"./lib/events":190,"./lib/fn":191,"./lib/url":192,dup:19}],194:[function(e,t){"use strict";function n(e){this.apiClient=e}var i=["getCreditCards","unlockCreditCard","sendAnalyticsEvents"];n.prototype.attach=function(e){function t(t){e.define(t,function(){n.apiClient[t].apply(n.apiClient,arguments)})}var n=this,r=0,o=i.length;for(r;o>r;r++)t(i[r])},t.exports=n},{}],195:[function(e,t){"use strict";function n(e,t){var n=window.getComputedStyle?getComputedStyle(e):e.currentStyle;return n[t]}function i(){return{html:{height:s.style.height||"",overflow:n(s,"overflow"),position:n(s,"position")},body:{height:a.style.height||"",overflow:n(a,"overflow")}}}function r(){var e=/Android|iPhone|iPod|iPad/i.test(window.navigator.userAgent);return e}function o(e){var t,n,i;this.encodedClientToken=e.clientToken,this.paypalOptions=e.paypal,this.container=null,this.merchantFormManager=null,this.root=e.root,this.configurationRequests=[],this.braintreeApiClient=l.configure({clientToken:e.clientToken,integration:"dropin"}),this.paymentMethodNonceReceivedCallback=e.paymentMethodNonceReceived,this.clientToken=l.parseClientToken(e.clientToken),this.bus=new c.MessageBus(this.root),this.rpcServer=new c.RPCServer(this.bus),this.apiProxyServer=new h(this.braintreeApiClient),this.apiProxyServer.attach(this.rpcServer),t=e.inlineFramePath||this.clientToken.assetsUrl+"/dropin/"+v+"/inline-frame.html",n=e.modalFramePath||this.clientToken.assetsUrl+"/dropin/"+v+"/modal-frame.html",s=document.documentElement,a=document.body,this.frames={inline:this._createFrame(t,"braintree-dropin-frame"),modal:this._createFrame(n,"braintree-dropin-modal-frame")},this.container=d.normalizeElement(e.container,"Unable to find valid container."),i=d.normalizeElement(e.form||this._findClosest(this.container,"form")),this.merchantFormManager=new p({form:i,frames:this.frames,onSubmit:this.paymentMethodNonceReceivedCallback,apiClient:this.braintreeApiClient}).initialize(),this.clientToken.paypalEnabled&&this.clientToken.paypal&&(d.isBrowserHttps()||this.clientToken.paypal.allowHttp)&&this._configurePayPal(),this.braintreeApiClient.sendAnalyticsEvents("dropin.web.initialized")}var s,a,l=e("braintree-api"),u=e("braintree-bus"),c=e("braintree-rpc"),d=e("braintree-utilities"),h=e("./api-proxy-server"),p=e("./merchant-form-manager"),f=e("./frame-container"),m=e("../shared/paypal-service"),g=e("braintree-paypal/src/shared/util/browser"),v="1.3.2";o.prototype.initialize=function(){var e=this;this._initializeModal(),this.container.appendChild(this.frames.inline.element),a.appendChild(this.frames.modal.element),this.rpcServer.define("receiveSharedCustomerIdentifier",function(t){e.braintreeApiClient.attrs.sharedCustomerIdentifier=t,e.braintreeApiClient.attrs.sharedCustomerIdentifierType="browser_session_cookie_store";for(var n=0;n<e.configurationRequests.length;n++)e.configurationRequests[n](e.encodedClientToken);e.configurationRequests=[]}),u.on(u.events.PAYMENT_METHOD_GENERATED,d.bind(this._handleAltPayData,this)),this.rpcServer.define("getConfiguration",function(t){t({clientToken:e.encodedClientToken,merchantHttps:d.isBrowserHttps()})}),this.rpcServer.define("getPayPalOptions",function(t){t(e.paypalOptions)}),this.rpcServer.define("selectPaymentMethod",function(t){e.frames.modal.rpcClient.invoke("selectPaymentMethod",[t]),e._showModal()}),this.rpcServer.define("sendAddedPaymentMethod",function(t){e.merchantFormManager.setNoncePayload(t),e.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[t])}),this.rpcServer.define("sendUsedPaymentMethod",function(t){e.frames.inline.rpcClient.invoke("selectPaymentMethod",[t])}),this.rpcServer.define("sendUnlockedNonce",function(t){e.merchantFormManager.setNoncePayload(t)}),this.rpcServer.define("clearNonce",function(){e.merchantFormManager.clearNoncePayload()}),this.rpcServer.define("closeDropInModal",function(){e._hideModal()}),this.rpcServer.define("setInlineFrameHeight",function(t){e.frames.inline.element.style.height=t+"px"}),this.bus.register("ready",function(t){t.source===e.frames.inline.element.contentWindow?e.frames.inline.rpcClient=new c.RPCClient(e.bus,t.source):t.source===e.frames.modal.element.contentWindow&&(e.frames.modal.rpcClient=new c.RPCClient(e.bus,t.source))})},o.prototype._createFrame=function(e,t){return new f(e,t)},o.prototype._initializeModal=function(){this.frames.modal.element.style.display="none",this.frames.modal.element.style.position=r()?"absolute":"fixed",this.frames.modal.element.style.top="0",this.frames.modal.element.style.left="0",this.frames.modal.element.style.height="100%",this.frames.modal.element.style.width="100%"},o.prototype._lockMerchantWindowSize=function(){setTimeout(function(){s.style.overflow="hidden",a.style.overflow="hidden",a.style.height="100%",r()&&(s.style.position="relative",s.style.height=window.innerHeight+"px")},160)},o.prototype._unlockMerchantWindowSize=function(){var e=this.merchantPageDefaultStyles;a.style.height=e.body.height,a.style.overflow=e.body.overflow,s.style.overflow=e.html.overflow,r()&&(s.style.height=e.html.height,s.style.position=e.html.position)},o.prototype._showModal=function(){var e=this,t=this.frames.modal.element;this.merchantPageDefaultStyles=i(),t.style.display="block",this.frames.modal.rpcClient.invoke("open",[],function(){setTimeout(function(){e._lockMerchantWindowSize(),t.contentWindow.focus()},200)})},o.prototype._hideModal=function(){this._unlockMerchantWindowSize(),this.frames.modal.element.style.display="none"},o.prototype._configurePayPal=function(){g.isPopupSupported()||(this.ppClient=new m({clientToken:this.clientToken,paypal:this.paypalOptions}),this.rpcServer.define("openPayPalModal",d.bind(this.ppClient._openModal,this.ppClient))),this.rpcServer.define("receivePayPalData",d.bind(this._handleAltPayData,this))},o.prototype._handleAltPayData=function(e){this.merchantFormManager.setNoncePayload(e),this.frames.inline.rpcClient.invoke("receiveNewPaymentMethod",[e]),this.frames.modal.rpcClient.invoke("modalViewClose")},o.prototype._findClosest=function(e,t){t=t.toUpperCase();do if(e.nodeName===t)return e;while(e=e.parentNode);throw"Unable to find a valid "+t},t.exports=o},{"../shared/paypal-service":199,"./api-proxy-server":194,"./frame-container":197,"./merchant-form-manager":198,"braintree-api":77,"braintree-bus":105,"braintree-paypal/src/shared/util/browser":175,"braintree-rpc":183,"braintree-utilities":193}],196:[function(e,t){"use strict";function n(e,t){t.clientToken=e;var n=new i(t);return n.initialize(),n}var i=e("./client"),r="1.3.2";t.exports={create:n,VERSION:r}},{"./client":195}],197:[function(e,t){"use strict";function n(e,t){this.element=document.createElement("iframe"),this.element.setAttribute("name",t),this.element.setAttribute("allowtransparency","true"),this.element.setAttribute("width","100%"),this.element.setAttribute("height","68"),this.element.setAttribute("style","-webkit-transition: height 210ms cubic-bezier(0.390, 0.575, 0.565, 1.000); -moz-transition: height 210ms cubic-bezier(0.390, 0.575, 0.565, 1.000); -ms-transition: height 210ms cubic-bezier(0.390, 0.575, 0.565, 1.000); -o-transition: height 210ms cubic-bezier(0.390, 0.575, 0.565, 1.000); transition: height 210ms cubic-bezier(0.390, 0.575, 0.565, 1.000);"),this.element.src=e,this.element.setAttribute("frameborder","0"),this.element.setAttribute("allowtransparency","true"),this.element.style.border="0",this.element.style.zIndex="9999"}t.exports=n},{}],198:[function(e,t){"use strict";function n(e){this.form=e.form,this.frames=e.frames,this.onSubmit=e.onSubmit,this.apiClient=e.apiClient}var i=e("braintree-utilities");n.prototype.initialize=function(){return this._isSubmitBased()&&this._setElements(),this._setEvents(),this},n.prototype.setNoncePayload=function(e){this.noncePayload=e},n.prototype.clearNoncePayload=function(){this.noncePayload=null},n.prototype._isSubmitBased=function(){return!this.onSubmit},n.prototype._isCallbackBased=function(){return!!this.onSubmit},n.prototype._setElements=function(){if(!this.form.payment_method_nonce){var e=document.createElement("input");e.type="hidden",e.name="payment_method_nonce",this.form.appendChild(e)}this.nonceField=this.form.payment_method_nonce},n.prototype._setEvents=function(){var e=this;i.addEventListener(this.form,"submit",function(){e._handleFormSubmit.apply(e,arguments)})},n.prototype._handleFormSubmit=function(e){this._shouldSubmit()||(e&&e.preventDefault?e.preventDefault():e.returnValue=!1,this.noncePayload&&this.noncePayload.nonce?this._handleNonceReply(e):this.frames.inline.rpcClient.invoke("requestNonce",[],i.bind(function(t){this.setNoncePayload(t),this._handleNonceReply(e)},this)))},n.prototype._shouldSubmit=function(){return this._isCallbackBased()?!1:this.nonceField.value.length>0},n.prototype._handleNonceReply=function(e){this._isCallbackBased()?this.apiClient.sendAnalyticsEvents("dropin.web.end.callback",i.bind(function(){var t=this.noncePayload;t.originalEvent=e,this.onSubmit(t),setTimeout(i.bind(function(){this.frames.inline.rpcClient.invoke("clearLoadingState")},this),200)},this)):this._triggerFormSubmission()},n.prototype._triggerFormSubmission=function(){this.nonceField.value=this.noncePayload.nonce,this.apiClient.sendAnalyticsEvents("dropin.web.end.auto-submit",i.bind(function(){"function"==typeof this.form.submit?this.form.submit():this.form.querySelector('[type="submit"]').click()},this))},t.exports=n},{"braintree-utilities":193}],199:[function(e,t){"use strict";function n(e){var t=e.clientToken,n=e.paypal||{},r=new i(t,{container:document.createElement("div"),displayName:n.displayName,locale:n.locale,singleUse:n.singleUse,amount:n.amount,currency:n.currency,onSuccess:n.onSuccess,enableShippingAddress:n.enableShippingAddress,shippingAddressOverride:n.shippingAddressOverride});return r.initialize(),r}var i=e("braintree-paypal/src/external/client");t.exports=n},{"braintree-paypal/src/external/client":164}],200:[function(e,t){"use strict";function n(e,t,n){this.client=e,this.htmlForm=t,this.paymentMethodNonceInput=n,this.setNonce({}),this.hijackForm()}var i=e("braintree-utilities");n.prototype.hijackForm=function(){this.onSubmitHandler=i.bind(this.handleSubmit,this),i.addEventListener(this.htmlForm,"submit",this.onSubmitHandler)},n.prototype.handleSubmit=function(e){var t=this;return e.preventDefault?e.preventDefault():e.returnValue=!1,this.hasExternalNonce()?(this.scrubAllAttributes(),void this.onNonceReceived(null,this.getNonce())):void this.client.tokenizeCard(this.extractValues(),function(e,n,i){e||t.setNonce({nonce:n,type:i.type,details:i.details}),t.onNonceReceived(e,t.getNonce())})},n.prototype.setNonce=function(e){this.nonce=e},n.prototype.getNonce=function(){return this.nonce},n.prototype.writeNonceToDOM=function(){this.paymentMethodNonceInput.value=this.getNonce().nonce},n.prototype.isBraintreeNode=function(e){return 1===e.nodeType&&e.attributes["data-braintree-name"]},n.prototype.hasExternalNonce=function(){var e=this.getNonce(),t=e&&null!=e.type&&"CreditCard"!==e.type,n=this.htmlForm.querySelector('[data-braintree-name="number"]').value.length<1;return n&&e&&e.nonce&&t},n.prototype.onExternalNonceReceived=function(e){this.clearCardNumberInput(),this.setNonce(e)},n.prototype.onExternalNonceCancelled=function(){this.setNonce(null)},n.prototype.onNonceReceived=function(e){var t=this.htmlForm;if(e)throw new Error("Unable to process payments at this time.");i.removeEventListener(t,"submit",this.onSubmitHandler),this.writeNonceToDOM();var n=t.querySelector('[type="submit"]');n.disabled=!1,n.click(),t.submit&&("function"==typeof t.submit||t.submit.call)?t.submit():n.click()},n.prototype.scrubAllAttributes=function(){this.extractValues()},n.prototype.extractValues=function(e,t){t=t||{},e=e||this.htmlForm;var n,i,r=e.children;for(i=0;i<r.length;i++)if(n=r[i],this.isBraintreeNode(n)){var o=n.getAttribute("data-braintree-name");"postal_code"===o?t.billingAddress={postalCode:n.value}:t[o]=n.value,this.scrubAttributes(n)}else n.children&&n.children.length>0&&this.extractValues(n,t);return t},n.prototype.scrubAttributes=function(e){try{e.attributes.removeNamedItem("name")}catch(t){}},n.prototype.clearCardNumberInput=function(){var e=this.htmlForm.querySelector('[data-braintree-name="number"]');e.value=""},t.exports=n},{"braintree-utilities":208}],201:[function(e,t){"use strict";t.exports=function(e){var t;if("object"==typeof e)return e;t="payment_method_nonce","string"==typeof e&&(t=e);var n=document.createElement("input");return n.name=t,n.type="hidden",n}},{}],202:[function(e,t){"use strict";t.exports=function(e){for(var t=e.getElementsByTagName("*"),n={},i=0;i<t.length;i++){var r=t[i].getAttribute("data-braintree-name");n[r]=!0}if(!n.number)throw new Error('Unable to find an input with data-braintree-name="number" in your form. Please add one.');if(n.expiration_date){if(n.expiration_month||n.expiration_year)throw new Error('You have inputs with data-braintree-name="expiration_date" AND data-braintree-name="expiration_(year|month)". Please use either "expiration_date" or "expiration_year" and "expiration_month".')}else{if(!n.expiration_month&&!n.expiration_year)throw new Error('Unable to find an input with data-braintree-name="expiration_date" in your form. Please add one.');if(!n.expiration_month)throw new Error('Unable to find an input with data-braintree-name="expiration_month" in your form. Please add one.');if(!n.expiration_year)throw new Error('Unable to find an input with data-braintree-name="expiration_year" in your form. Please add one.')}}},{}],203:[function(e,t){"use strict";function n(e,t){var n,s,a=document.getElementById(t.id);if(!a)throw new Error('Unable to find form with id: "'+t.id+'"');return r(a),n=o(t.paymentMethodNonceInputField),a.appendChild(n),s=new i(e,a,n)}var i=e("./lib/form"),r=e("./lib/validate-annotations"),o=e("./lib/get-nonce-input");t.exports={setup:n}},{"./lib/form":200,"./lib/get-nonce-input":201,"./lib/validate-annotations":202}],204:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],205:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],206:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],207:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],208:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":204,"./lib/events":205,"./lib/fn":206,"./lib/url":207,dup:19}],209:[function(e,t,n){arguments[4][65][0].apply(n,arguments)},{"./coinbase-account":210,"./credit-card":211,"./jsonp-driver":212,"./normalize-api-fields":214,"./parse-client-token":215,"./root-data":217,"./sepa-bank-account":218,"./sepa-mandate":219,"./util":220,"braintree-3ds":229,"braintree-utilities":248,dup:65}],210:[function(e,t,n){arguments[4][3][0].apply(n,arguments)},{dup:3}],211:[function(e,t,n){arguments[4][4][0].apply(n,arguments)},{dup:4}],212:[function(e,t,n){arguments[4][5][0].apply(n,arguments)},{"./jsonp":213,dup:5}],213:[function(e,t,n){arguments[4][6][0].apply(n,arguments)},{"./util":220,dup:6}],214:[function(e,t,n){arguments[4][7][0].apply(n,arguments)},{dup:7}],215:[function(e,t,n){arguments[4][8][0].apply(n,arguments)},{"./polyfill":216,dup:8}],216:[function(e,t,n){arguments[4][9][0].apply(n,arguments)},{dup:9}],217:[function(e,t,n){arguments[4][10][0].apply(n,arguments)},{"braintree-rpc":237,dup:10}],218:[function(e,t,n){arguments[4][11][0].apply(n,arguments)},{dup:11}],219:[function(e,t,n){arguments[4][12][0].apply(n,arguments)},{dup:12}],220:[function(e,t,n){arguments[4][13][0].apply(n,arguments)},{dup:13}],221:[function(e,t,n){arguments[4][14][0].apply(n,arguments)},{"./lib/client":209,"./lib/jsonp":213,"./lib/jsonp-driver":212,"./lib/parse-client-token":215,"./lib/util":220,dup:14}],222:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],223:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],224:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],225:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],226:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":222,"./lib/events":223,"./lib/fn":224,"./lib/url":225,dup:19}],227:[function(e,t,n){arguments[4][20][0].apply(n,arguments)},{"../shared/receiver":231,"braintree-utilities":226,dup:20}],228:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{"./authorization_service":227,"braintree-utilities":226,dup:21}],229:[function(e,t,n){arguments[4][22][0].apply(n,arguments)},{"./client":228,"./vendor/json2":230,dup:22}],230:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],231:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{"braintree-utilities":226,dup:24}],232:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{"braintree-utilities":242,dup:25}],233:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{"braintree-utilities":242,dup:26}],234:[function(e,t,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],235:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{"braintree-utilities":242,dup:28}],236:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{"braintree-utilities":242,dup:29}],237:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{"./lib/message-bus":232,"./lib/pubsub-client":233,"./lib/pubsub-server":234,"./lib/rpc-client":235,"./lib/rpc-server":236,dup:30}],238:[function(e,t,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],239:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],240:[function(e,t,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],241:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],242:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":238,"./lib/events":239,"./lib/fn":240,"./lib/url":241,dup:19}],243:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],244:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],245:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],246:[function(e,t,n){arguments[4][39][0].apply(n,arguments)},{dup:39}],247:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],248:[function(e,t,n){arguments[4][41][0].apply(n,arguments)},{"./lib/dom":243,"./lib/events":244,"./lib/fn":245,"./lib/string":246,"./lib/url":247,dup:41}],249:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{"braintree-utilities":259,dup:25}],250:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{"braintree-utilities":259,dup:26}],251:[function(e,t,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],252:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{"braintree-utilities":259,dup:28}],253:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{"braintree-utilities":259,dup:29}],254:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{"./lib/message-bus":249,"./lib/pubsub-client":250,"./lib/pubsub-server":251,"./lib/rpc-client":252,"./lib/rpc-server":253,dup:30}],255:[function(e,t,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],256:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],257:[function(e,t,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],258:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],259:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":255,"./lib/events":256,"./lib/fn":257,"./lib/url":258,dup:19}],260:[function(e,t,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],261:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],262:[function(e,t,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],263:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],264:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":260,"./lib/events":261,"./lib/fn":262,"./lib/url":263,dup:19}],265:[function(e,t,n){arguments[4][164][0].apply(n,arguments)},{"../shared/constants":271,"../shared/util/browser":277,"../shared/util/dom":278,"../shared/util/util":279,"./logged-in-view":268,"./logged-out-view":269,"./overlay-view":270,"braintree-api":221,"braintree-rpc":254,"braintree-utilities":264,dup:164}],266:[function(e,t){function n(e,t){if(!r.detectedPostMessage())return void("function"==typeof t.onUnsupported&&t.onUnsupported(new Error("unsupported browser detected")));var n=new i(e,t);return n.initialize(),n}var i=e("./client"),r=e("../shared/util/browser"),o="1.3.1";t.exports={create:n,_browser:r,VERSION:o}},{"../shared/util/browser":277,"./client":265}],267:[function(e,t,n){arguments[4][165][0].apply(n,arguments)},{"../shared/data/country-code-lookup":272,dup:165}],268:[function(e,t,n){arguments[4][166][0].apply(n,arguments)},{"../shared/constants":271,dup:166}],269:[function(e,t,n){arguments[4][167][0].apply(n,arguments)},{"../shared/constants":271,"./get-locale":267,"braintree-utilities":264,dup:167}],270:[function(e,t,n){arguments[4][168][0].apply(n,arguments)},{"../shared/constants":271,"braintree-utilities":264,dup:168}],271:[function(e,t,n){arguments[4][169][0].apply(n,arguments)},{dup:169}],272:[function(e,t,n){arguments[4][170][0].apply(n,arguments)},{dup:170}],273:[function(e,t,n){arguments[4][171][0].apply(n,arguments)},{"./useragent":276,dup:171}],274:[function(e,t,n){arguments[4][172][0].apply(n,arguments)},{"./platform":275,"./useragent":276,dup:172}],275:[function(e,t,n){arguments[4][173][0].apply(n,arguments)},{"./useragent":276,dup:173}],276:[function(e,t,n){arguments[4][174][0].apply(n,arguments)},{dup:174}],277:[function(e,t,n){arguments[4][175][0].apply(n,arguments)},{"../useragent/browser":273,"../useragent/device":274,"../useragent/platform":275,"../useragent/useragent":276,dup:175}],278:[function(e,t,n){arguments[4][176][0].apply(n,arguments)},{dup:176}],279:[function(e,t,n){arguments[4][177][0].apply(n,arguments)},{dup:177}],280:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{"braintree-utilities":290,dup:25}],281:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{"braintree-utilities":290,dup:26}],282:[function(e,t,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],283:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{"braintree-utilities":290,dup:28}],284:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{"braintree-utilities":290,dup:29}],285:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{"./lib/message-bus":280,"./lib/pubsub-client":281,"./lib/pubsub-server":282,"./lib/rpc-client":283,"./lib/rpc-server":284,dup:30}],286:[function(e,t,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],287:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],288:[function(e,t,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],289:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],290:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{"./lib/dom":286,"./lib/events":287,"./lib/fn":288,"./lib/url":289,dup:19}],291:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],292:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],293:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],294:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],295:[function(e,t,n){arguments[4][19][0].apply(n,arguments)
},{"./lib/dom":291,"./lib/events":292,"./lib/fn":293,"./lib/url":294,dup:19}],296:[function(e,t){function n(e){var t={};if(e){for(var n in e)e.hasOwnProperty(n)&&(t[i(n)]=e[n]);return t}}function i(e){return e.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()})}t.exports={convertToLegacyShippingAddress:n}},{}],297:[function(e,t){"use strict";t.exports={ROOT_SUCCESS_CALLBACK:"onPaymentMethodReceived",ROOT_ERROR_CALLBACK:"onError"}},{}],298:[function(e,t){"use strict";function n(e,t){return o.on(o.events.PAYMENT_METHOD_GENERATED,function(e){o.emit(o.events.PAYMENT_METHOD_RECEIVED,e)}),t.coinbase=t.coinbase||{},t.apiClient=new i.Client({clientToken:e,integration:"coinbase"}),r.create(t)}{var i=e("braintree-api"),r=e("braintree-coinbase"),o=e("braintree-bus");e("braintree-utilities")}t.exports={initialize:n}},{"braintree-api":14,"braintree-bus":42,"braintree-coinbase":45,"braintree-utilities":295}],299:[function(e,t){"use strict";function n(e,t){return function(n){return t in e&&l.isFunction(e[t][n])?e[t][n]:function(){}}}function i(e,t){var i,h=n(t,"paypal"),p=h("onSuccess"),f=h("onCancelled"),m=new r.Client({clientToken:e,integration:"custom"});return i=o.setup(m,t),l.isFunction(t[u.ROOT_SUCCESS_CALLBACK])&&(i.onNonceReceived=function(e,n){t[u.ROOT_SUCCESS_CALLBACK](n)}),t.paypal&&(t.paypal.paymentMethodNonceInputField||(t.paypal.paymentMethodNonceInputField=i.paymentMethodNonceInput),t.paypal.onSuccess=function(e){i.onExternalNonceReceived(e),p.apply(null,[e.nonce,e.details.email,d(e.details.shippingAddress)])},t.paypal.onCancelled=function(){i.onExternalNonceCancelled(),f()},s.create(e,t.paypal)),t.coinbase&&(t.apiClient=m,t.paypal&&delete t.paypal,c.on(c.events.PAYMENT_METHOD_GENERATED,function(e){i.onExternalNonceReceived(e),c.emit(c.events.PAYMENT_METHOD_RECEIVED,e)}),a.create(t)),i}var r=e("braintree-api"),o=e("braintree-form"),s=e("braintree-paypal"),a=e("braintree-coinbase"),l=e("braintree-utilities"),u=e("../constants"),c=e("braintree-bus"),d=e("../compatibility").convertToLegacyShippingAddress;t.exports={initialize:i}},{"../compatibility":296,"../constants":297,"braintree-api":14,"braintree-bus":42,"braintree-coinbase":45,"braintree-form":203,"braintree-paypal":266,"braintree-utilities":295}],300:[function(e,t){"use strict";function n(e){return s.isFunction(e.paymentMethodNonceReceived)?e.paymentMethodNonceReceived:null}function i(e){return s.isFunction(e[l.ROOT_SUCCESS_CALLBACK])}function r(e,t){var r=n(t),s=i(t);return(r||s)&&(t.paymentMethodNonceReceived=function(e){r&&r.apply(null,[e.originalEvent,e.nonce]),delete e.originalEvent,a.emit(a.events.PAYMENT_METHOD_RECEIVED,e)}),o.create(e,t)}var o=e("braintree-dropin"),s=e("braintree-utilities"),a=e("braintree-bus"),l=e("../constants");t.exports={initialize:r}},{"../constants":297,"braintree-bus":42,"braintree-dropin":196,"braintree-utilities":295}],301:[function(e,t){"use strict";t.exports={custom:e("./custom"),dropin:e("./dropin"),paypal:e("./paypal"),coinbase:e("./coinbase")}},{"./coinbase":298,"./custom":299,"./dropin":300,"./paypal":302}],302:[function(e,t){"use strict";function n(e){return"onSuccess"in e&&s.isFunction(e.onSuccess)?e.onSuccess:"paypal"in e&&s.isFunction(e.paypal.onSuccess)?e.paypal.onSuccess:null}function i(e){return s.isFunction(e[a.ROOT_SUCCESS_CALLBACK])}function r(e,t){var r=n(t),s=i(t);return(r||s)&&(t.onSuccess=function(e){r&&r.apply(null,[e.nonce,e.details.email,u(e.details.shippingAddress)]),l.emit(l.events.PAYMENT_METHOD_RECEIVED,e)}),o.create(e,t)}var o=e("braintree-paypal"),s=e("braintree-utilities"),a=e("../constants"),l=e("braintree-bus"),u=e("../compatibility").convertToLegacyShippingAddress;t.exports={initialize:r}},{"../compatibility":296,"../constants":297,"braintree-bus":42,"braintree-paypal":266,"braintree-utilities":295}],303:[function(e,t){(function(n){"use strict";var i="2.5.2",r=e("braintree-rpc"),o=new r.MessageBus(n),s=new r.RPCServer(o);t.exports=function(){s.define("getExternalData",function(e){e({sdkVersion:i,merchantAppId:n.location.href})})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"braintree-rpc":285}],304:[function(e,t){"use strict";function n(){}function i(e){if("CONFIGURATION"===e.type)throw new Error(e.message);try{console.error(e)}catch(t){console.log("ERROR: "+e.message)}}function r(e,t,n){if(!(t in d))throw new Error(t+" is an unsupported integration");return c.isFunction(n[p.ROOT_SUCCESS_CALLBACK])&&(f=n[p.ROOT_SUCCESS_CALLBACK]),c.isFunction(n[p.ROOT_ERROR_CALLBACK])&&(m=n[p.ROOT_ERROR_CALLBACK]),n.configuration=s.parseClientToken(e),h.on(h.events.ERROR,m),h.on(h.events.PAYMENT_METHOD_RECEIVED,f),h.on(h.events.CONFIGURATION_REQUEST,function(e){e(n)}),h.on(h.events.WARNING,function(e){try{console.warn(e)}catch(t){}}),d[t].initialize(e,n)}var o="2.5.2",s=e("braintree-api"),a=e("braintree-paypal"),l=e("braintree-dropin"),u=e("braintree-form"),c=e("braintree-utilities"),d=e("./integrations"),h=e("braintree-bus"),p=e("./constants"),f=n,m=i;t.exports={api:s,cse:Braintree,paypal:a,dropin:l,Form:u,setup:r,VERSION:o}},{"./constants":297,"./integrations":301,"braintree-api":14,"braintree-bus":42,"braintree-dropin":196,"braintree-form":203,"braintree-paypal":266,"braintree-utilities":295}]},{},[1])(1)}),/*!
 * Braintree Data
 * https://www.braintreepayments.com
 * Copyright (c) 2009-2014 Braintree, a division of PayPal, Inc.
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/MIT
 */
function(){"use strict";var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};"undefined"!=typeof module&&module.exports&&(module.exports=sjcl),sjcl.bitArray={bitSlice:function(e,t,n){return e=sjcl.bitArray._shiftRight(e.slice(t/32),32-(31&t)).slice(1),void 0===n?e:sjcl.bitArray.clamp(e,n-t)},extract:function(e,t,n){var i,r=Math.floor(-t-n&31);return i=-32&(t+n-1^t)?e[t/32|0]<<32-r^e[t/32+1|0]>>>r:e[t/32|0]>>>r,i&(1<<n)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var n=e[e.length-1],i=sjcl.bitArray.getPartial(n);return 32===i?e.concat(t):sjcl.bitArray._shiftRight(t,i,0|n,e.slice(0,e.length-1))},bitLength:function(e){var t,n=e.length;return 0===n?0:(t=e[n-1],32*(n-1)+sjcl.bitArray.getPartial(t))},clamp:function(e,t){if(32*e.length<t)return e;e=e.slice(0,Math.ceil(t/32));var n=e.length;return t=31&t,n>0&&t&&(e[n-1]=sjcl.bitArray.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial:function(e,t,n){return 32===e?t:(n?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(sjcl.bitArray.bitLength(e)!==sjcl.bitArray.bitLength(t))return!1;var n,i=0;for(n=0;n<e.length;n++)i|=e[n]^t[n];return 0===i},_shiftRight:function(e,t,n,i){var r,o,s=0;for(void 0===i&&(i=[]);t>=32;t-=32)i.push(n),n=0;if(0===t)return i.concat(e);for(r=0;r<e.length;r++)i.push(n|e[r]>>>t),n=e[r]<<32-t;return s=e.length?e[e.length-1]:0,o=sjcl.bitArray.getPartial(s),i.push(sjcl.bitArray.partial(t+o&31,t+o>32?n:i.pop(),1)),i},_xor4:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]}},sjcl.codec.hex={fromBits:function(e){var t,n="";for(t=0;t<e.length;t++)n+=((0|e[t])+0xf00000000000).toString(16).substr(4);return n.substr(0,sjcl.bitArray.bitLength(e)/4)},toBits:function(e){var t,n,i=[];for(e=e.replace(/\s|0x/g,""),n=e.length,e+="00000000",t=0;t<e.length;t+=8)i.push(0^parseInt(e.substr(t,8),16));return sjcl.bitArray.clamp(i,4*n)}},sjcl.hash.sha256=function(e){this._key[0]||this._precompute(),e?(this._h=e._h.slice(0),this._buffer=e._buffer.slice(0),this._length=e._length):this.reset()},sjcl.hash.sha256.hash=function(e){return(new sjcl.hash.sha256).update(e).finalize()},sjcl.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(e){"string"==typeof e&&(e=sjcl.codec.utf8String.toBits(e));var t,n=this._buffer=sjcl.bitArray.concat(this._buffer,e),i=this._length,r=this._length=i+sjcl.bitArray.bitLength(e);for(t=512+i&-512;r>=t;t+=512)this._block(n.splice(0,16));return this},finalize:function(){var e,t=this._buffer,n=this._h;for(t=sjcl.bitArray.concat(t,[sjcl.bitArray.partial(1,1)]),e=t.length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this._length/4294967296)),t.push(0|this._length);t.length;)this._block(t.splice(0,16));return this.reset(),n},_init:[],_key:[],_precompute:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}var t,n=0,i=2;e:for(;64>n;i++){for(t=2;i>=t*t;t++)if(i%t===0)continue e;8>n&&(this._init[n]=e(Math.pow(i,.5))),this._key[n]=e(Math.pow(i,1/3)),n++}},_block:function(e){var t,n,i,r,o=e.slice(0),s=this._h,a=this._key,l=s[0],u=s[1],c=s[2],d=s[3],h=s[4],p=s[5],f=s[6],m=s[7];for(t=0;64>t;t++)16>t?n=o[t]:(i=o[t+1&15],r=o[t+14&15],n=o[15&t]=(i>>>7^i>>>18^i>>>3^i<<25^i<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+o[15&t]+o[t+9&15]|0),n=n+m+(h>>>6^h>>>11^h>>>25^h<<26^h<<21^h<<7)+(f^h&(p^f))+a[t],m=f,f=p,p=h,h=d+n|0,d=c,c=u,u=l,l=n+(u&c^d&(u^c))+(u>>>2^u>>>13^u>>>22^u<<30^u<<19^u<<10)|0;s[0]=s[0]+l|0,s[1]=s[1]+u|0,s[2]=s[2]+c|0,s[3]=s[3]+d|0,s[4]=s[4]+h|0,s[5]=s[5]+p|0,s[6]=s[6]+f|0,s[7]=s[7]+m|0}},sjcl.cipher.aes=function(e){this._tables[0][0][0]||this._precompute();var t,n,i,r,o,s=this._tables[0][4],a=this._tables[1],l=e.length,u=1;if(4!==l&&6!==l&&8!==l)throw new sjcl.exception.invalid("invalid aes key size");for(this._key=[r=e.slice(0),o=[]],t=l;4*l+28>t;t++)i=r[t-1],(t%l===0||8===l&&t%l===4)&&(i=s[i>>>24]<<24^s[i>>16&255]<<16^s[i>>8&255]<<8^s[255&i],t%l===0&&(i=i<<8^i>>>24^u<<24,u=u<<1^283*(u>>7))),r[t]=r[t-l]^i;for(n=0;t;n++,t--)i=r[3&n?t:t-4],o[n]=4>=t||4>n?i:a[0][s[i>>>24]]^a[1][s[i>>16&255]]^a[2][s[i>>8&255]]^a[3][s[255&i]]},sjcl.cipher.aes.prototype={encrypt:function(e){return this._crypt(e,0)},decrypt:function(e){return this._crypt(e,1)},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var e,t,n,i,r,o,s,a,l,u=this._tables[0],c=this._tables[1],d=u[4],h=c[4],p=[],f=[];for(e=0;256>e;e++)f[(p[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!d[t];t^=i||1,n=f[n]||1)for(s=n^n<<1^n<<2^n<<3^n<<4,s=s>>8^255&s^99,d[t]=s,h[s]=t,o=p[r=p[i=p[t]]],l=16843009*o^65537*r^257*i^16843008*t,a=257*p[s]^16843008*s,e=0;4>e;e++)u[e][t]=a=a<<24^a>>>8,c[e][s]=l=l<<24^l>>>8;for(e=0;5>e;e++)u[e]=u[e].slice(0),c[e]=c[e].slice(0)},_crypt:function(e,t){if(4!==e.length)throw new sjcl.exception.invalid("invalid aes block size");var n,i,r,o,s=this._key[t],a=e[0]^s[0],l=e[t?3:1]^s[1],u=e[2]^s[2],c=e[t?1:3]^s[3],d=s.length/4-2,h=4,p=[0,0,0,0],f=this._tables[t],m=f[0],g=f[1],v=f[2],y=f[3],b=f[4];for(o=0;d>o;o++)n=m[a>>>24]^g[l>>16&255]^v[u>>8&255]^y[255&c]^s[h],i=m[l>>>24]^g[u>>16&255]^v[c>>8&255]^y[255&a]^s[h+1],r=m[u>>>24]^g[c>>16&255]^v[a>>8&255]^y[255&l]^s[h+2],c=m[c>>>24]^g[a>>16&255]^v[l>>8&255]^y[255&u]^s[h+3],h+=4,a=n,l=i,u=r;for(o=0;4>o;o++)p[t?3&-o:o]=b[a>>>24]<<24^b[l>>16&255]<<16^b[u>>8&255]<<8^b[255&c]^s[h++],n=a,a=l,l=u,u=c,c=n;return p}},sjcl.random={randomWords:function(e,t){var n,i,r=[],o=this.isReady(t);if(o===this._NOT_READY)throw new sjcl.exception.notReady("generator isn't seeded");for(o&this._REQUIRES_RESEED&&this._reseedFromPools(!(o&this._READY)),n=0;e>n;n+=4)(n+1)%this._MAX_WORDS_PER_BURST===0&&this._gate(),i=this._gen4words(),r.push(i[0],i[1],i[2],i[3]);return this._gate(),r.slice(0,e)},setDefaultParanoia:function(e){this._defaultParanoia=e},addEntropy:function(e,t,n){n=n||"user";var i,r,o,s=(new Date).valueOf(),a=this._robins[n],l=this.isReady(),u=0;switch(i=this._collectorIds[n],void 0===i&&(i=this._collectorIds[n]=this._collectorIdNext++),void 0===a&&(a=this._robins[n]=0),this._robins[n]=(this._robins[n]+1)%this._pools.length,typeof e){case"number":void 0===t&&(t=1),this._pools[a].update([i,this._eventId++,1,t,s,1,0|e]);break;case"object":var c=Object.prototype.toString.call(e);if("[object Uint32Array]"===c){for(o=[],r=0;r<e.length;r++)o.push(e[r]);e=o}else for("[object Array]"!==c&&(u=1),r=0;r<e.length&&!u;r++)"number"!=typeof e[r]&&(u=1);if(!u){if(void 0===t)for(t=0,r=0;r<e.length;r++)for(o=e[r];o>0;)t++,o>>>=1;this._pools[a].update([i,this._eventId++,2,t,s,e.length].concat(e))}break;case"string":void 0===t&&(t=e.length),this._pools[a].update([i,this._eventId++,3,t,s,e.length]),this._pools[a].update(e);break;default:u=1}if(u)throw new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string");this._poolEntropy[a]+=t,this._poolStrength+=t,l===this._NOT_READY&&(this.isReady()!==this._NOT_READY&&this._fireEvent("seeded",Math.max(this._strength,this._poolStrength)),this._fireEvent("progress",this.getProgress()))},isReady:function(e){var t=this._PARANOIA_LEVELS[void 0!==e?e:this._defaultParanoia];return this._strength&&this._strength>=t?this._poolEntropy[0]>this._BITS_PER_RESEED&&(new Date).valueOf()>this._nextReseed?this._REQUIRES_RESEED|this._READY:this._READY:this._poolStrength>=t?this._REQUIRES_RESEED|this._NOT_READY:this._NOT_READY},getProgress:function(e){var t=this._PARANOIA_LEVELS[e?e:this._defaultParanoia];return this._strength>=t?1:this._poolStrength>t?1:this._poolStrength/t},startCollectors:function(){if(!this._collectorsStarted){if(window.addEventListener)window.addEventListener("load",this._loadTimeCollector,!1),window.addEventListener("mousemove",this._mouseCollector,!1);else{if(!document.attachEvent)throw new sjcl.exception.bug("can't attach event");document.attachEvent("onload",this._loadTimeCollector),document.attachEvent("onmousemove",this._mouseCollector)}this._collectorsStarted=!0}},stopCollectors:function(){this._collectorsStarted&&(window.removeEventListener?(window.removeEventListener("load",this._loadTimeCollector,!1),window.removeEventListener("mousemove",this._mouseCollector,!1)):window.detachEvent&&(window.detachEvent("onload",this._loadTimeCollector),window.detachEvent("onmousemove",this._mouseCollector)),this._collectorsStarted=!1)},addEventListener:function(e,t){this._callbacks[e][this._callbackI++]=t},removeEventListener:function(e,t){var n,i,r=this._callbacks[e],o=[];for(i in r)r.hasOwnProperty(i)&&r[i]===t&&o.push(i);for(n=0;n<o.length;n++)i=o[n],delete r[i]},_pools:[new sjcl.hash.sha256],_poolEntropy:[0],_reseedCount:0,_robins:{},_eventId:0,_collectorIds:{},_collectorIdNext:0,_strength:0,_poolStrength:0,_nextReseed:0,_key:[0,0,0,0,0,0,0,0],_counter:[0,0,0,0],_cipher:void 0,_defaultParanoia:6,_collectorsStarted:!1,_callbacks:{progress:{},seeded:{}},_callbackI:0,_NOT_READY:0,_READY:1,_REQUIRES_RESEED:2,_MAX_WORDS_PER_BURST:65536,_PARANOIA_LEVELS:[0,48,64,96,128,192,256,384,512,768,1024],_MILLISECONDS_PER_RESEED:3e4,_BITS_PER_RESEED:80,_gen4words:function(){for(var e=0;4>e&&(this._counter[e]=this._counter[e]+1|0,!this._counter[e]);e++);return this._cipher.encrypt(this._counter)},_gate:function(){this._key=this._gen4words().concat(this._gen4words()),this._cipher=new sjcl.cipher.aes(this._key)},_reseed:function(e){this._key=sjcl.hash.sha256.hash(this._key.concat(e)),this._cipher=new sjcl.cipher.aes(this._key);for(var t=0;4>t&&(this._counter[t]=this._counter[t]+1|0,!this._counter[t]);t++);},_reseedFromPools:function(e){var t,n=[],i=0;for(this._nextReseed=n[0]=(new Date).valueOf()+this._MILLISECONDS_PER_RESEED,t=0;16>t;t++)n.push(4294967296*Math.random()|0);for(t=0;t<this._pools.length&&(n=n.concat(this._pools[t].finalize()),i+=this._poolEntropy[t],this._poolEntropy[t]=0,e||!(this._reseedCount&1<<t));t++);this._reseedCount>=1<<this._pools.length&&(this._pools.push(new sjcl.hash.sha256),this._poolEntropy.push(0)),this._poolStrength-=i,i>this._strength&&(this._strength=i),this._reseedCount++,this._reseed(n)},_mouseCollector:function(e){var t=e.x||e.clientX||e.offsetX||0,n=e.y||e.clientY||e.offsetY||0;sjcl.random.addEntropy([t,n],2,"mouse")},_loadTimeCollector:function(){sjcl.random.addEntropy((new Date).valueOf(),2,"loadtime")},_fireEvent:function(e,t){var n,i=sjcl.random._callbacks[e],r=[];for(n in i)i.hasOwnProperty(n)&&r.push(i[n]);for(n=0;n<r.length;n++)r[n](t)}},function(){try{var e=new Uint32Array(32);crypto.getRandomValues(e),sjcl.random.addEntropy(e,1024,"crypto.getRandomValues")}catch(t){}}(),"object"!=typeof JSON&&(JSON={}),function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,r,o,s,a=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;o>n;n+=1)s[n]=str(n,l)||"null";return r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],r=str(i,l),r&&s.push(quote(i)+(gap?": ":":")+r));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r=str(i,l),r&&s.push(quote(i)+(gap?": ":":")+r));return r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),sjcl.random.startCollectors();var BraintreeData={};BraintreeData.Environment=function(e,t,n){this.url=t,this.name=e,this.id=n,this.getId=function(){return this.hasOwnProperty("customId")?this.customId:this.id},this.withId=function(e){return this.customId=e,this}},BraintreeData.iframeId="braintreeDataFrame",BraintreeData.collectionStarted=!1,BraintreeData.environments={qa:new BraintreeData.Environment("qa","https://assets.qa.braintreegateway.com/data","600000"),sandbox:new BraintreeData.Environment("sandbox","https://assets.braintreegateway.com/sandbox/data","600000"),production:new BraintreeData.Environment("production","https://assets.braintreegateway.com/data","600000")},BraintreeData.setup=function(e,t,n){this._setupCollector(n),this._setupForm(t),BraintreeData.FraudNet.initialize()},BraintreeData._setupCollector=function(e){this.collectionStarted=!0,this._initializeEnvironment(e),this._setupIFrame()},BraintreeData._setupForm=function(e){var t=document.getElementById(e);this._addHiddenField(t,"device_data",this._getDeviceData())},BraintreeData._getDeviceData=function(){if(this.collectionStarted)return JSON.stringify({device_session_id:this._getDeviceSessionId(),fraud_merchant_id:this.currentEnvironment.getId(),correlation_id:BraintreeData.FraudNet.getSessionId()});throw"You must call setup or _setupCollector before _getDeviceData."},BraintreeData._addHiddenField=function(e,t,n){if(!this._formHasInput(e,t)){var i=document.createElement("input");i.type="hidden",i.name=t,i.id=t,i.value=n,e.appendChild(i)}},BraintreeData._getDeviceSessionId=function(){var e,t;return void 0==this.deviceSessionId&&(e=sjcl.random.randomWords(4,0),t=sjcl.codec.hex.fromBits(e),this.deviceSessionId=t),this.deviceSessionId},BraintreeData._setupIFrame=function(){var e,t,n=this;document.getElementById(BraintreeData.iframeId)||(e="?m="+this.currentEnvironment.getId()+"&s="+this._getDeviceSessionId(),t=document.createElement("iframe"),t.width=1,t.id=BraintreeData.iframeId,t.height=1,t.frameBorder=0,t.scrolling="no",document.body.appendChild(t),setTimeout(function(){t.src=n.currentEnvironment.url+"/logo.htm"+e,t.innerHTML='<img src="'+n.currentEnvironment.url+"/logo.gif"+e+'" />'},10))},BraintreeData._formHasInput=function(e,t){for(var n=e.getElementsByTagName("input"),i=!1,r=0;r<n.length;r+=1)if(n[r].id==t){i=!0;break}return i},BraintreeData._initializeEnvironment=function(e){if("undefined"==typeof e||!e.hasOwnProperty("name")||!this.environments.hasOwnProperty(e.name))throw e+" is not a valid environment";this.currentEnvironment=this.environments[e.name]},BraintreeData.sjcl=sjcl,window.BraintreeData=BraintreeData,function(){function e(){var e=o(),t=(new Date).getTime()/1e3;return"https://b.stats.paypal.com/counter.cgi?i=127.0.0.1&p="+e+"&t="+t+"&a=14"}function t(){n(),i()}function n(){var e=document.body.appendChild(document.createElement("script"));e.type="application/json",e.setAttribute("fncls","fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99"),e.text=JSON.stringify(s)}function i(){var e,t,n,i="https://www.paypalobjects.com/webstatic/r/fb/",r=document.createElement("iframe");r.src="javascript:false",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="width: 0; height: 0; border: 0",n=document.getElementsByTagName("script"),n=n[n.length-1],n.parentNode.insertBefore(r,n);try{t=r.contentWindow.document}catch(o){e=document.domain,r.src='javascript:var d=document.open();d.domain="'+e+'";void(0);',t=r.contentWindow.document}t.open()._l=function(){var t=this.createElement("script");e&&(this.domain=e),t.id="js-iframe-async",t.src=i+"fb-all-prod.pp.min.js",this.body.appendChild(t)},t.write('<body onload="document._l();">'),t.close()}var r=BraintreeData.FraudNet={},o=function(){for(var e="",t=0;32>t;t++)e+=Math.floor(16*Math.random()).toString(16);return function(){return e}}(),s={f:o(),s:"BRAINTREE_SIGNIN",b:e()};r.initialize=t,r.getSessionId=o}(this),"function"==typeof window.onBraintreeDataLoad&&window.onBraintreeDataLoad()}(),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);this.CodeMirror=e()}}(function(){"use strict";function e(n,i){if(!(this instanceof e))return new e(n,i);this.options=i=i||{},ro(_s,i,!1),f(i);var r=i.value;"string"==typeof r&&(r=new qs(r,i.mode)),this.doc=r;var o=this.display=new t(n,r);o.wrapper.CodeMirror=this,c(this),l(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),i.autofocus&&!Zo&&fn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new Qr},Ro&&setTimeout(oo(pn,this,!0),20),vn(this),_o();var s=this;Kt(this,function(){s.curOp.forceUpdate=!0,yr(s,r),i.autofocus&&!Zo||fo()==o.input?setTimeout(oo(Hn,s),20):Wn(s);for(var e in ws)ws.hasOwnProperty(e)&&ws[e](s,i[e],xs);for(var t=0;t<Ts.length;++t)Ts[t](s)})}function t(e,t){var n=this,i=n.input=uo("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");qo?i.style.width="1000px":i.setAttribute("wrap","off"),Jo&&(i.style.border="1px solid black"),i.setAttribute("autocorrect","off"),i.setAttribute("autocapitalize","off"),i.setAttribute("spellcheck","false"),n.inputDiv=uo("div",[i],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),n.scrollbarH=uo("div",[uo("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar"),n.scrollbarV=uo("div",[uo("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),n.scrollbarFiller=uo("div",null,"CodeMirror-scrollbar-filler"),n.gutterFiller=uo("div",null,"CodeMirror-gutter-filler"),n.lineDiv=uo("div",null,"CodeMirror-code"),n.selectionDiv=uo("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=uo("div",null,"CodeMirror-cursors"),n.measure=uo("div",null,"CodeMirror-measure"),n.lineMeasure=uo("div",null,"CodeMirror-measure"),n.lineSpace=uo("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=uo("div",[uo("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=uo("div",[n.mover],"CodeMirror-sizer"),n.heightForcer=uo("div",null,null,"position: absolute; height: "+ta+"px; width: 1px;"),n.gutters=uo("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=uo("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=uo("div",[n.inputDiv,n.scrollbarH,n.scrollbarV,n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),zo&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),Jo&&(i.style.width="0px"),qo||(n.scroller.draggable=!0),Xo&&(n.inputDiv.style.height="1px",n.inputDiv.style.position="absolute"),zo&&(n.scrollbarH.style.minHeight=n.scrollbarV.style.minWidth="18px"),e.appendChild?e.appendChild(n.wrapper):e(n.wrapper),n.viewFrom=n.viewTo=t.first,n.view=[],n.externalMeasured=null,n.viewOffset=0,n.lastSizeC=0,n.updateLineNumbers=null,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.prevInput="",n.alignWidgets=!1,n.pollingFast=!1,n.poll=new Qr,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.inaccurateSelection=!1,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),i(t)}function i(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,yt(e,100),e.state.modeGen++,e.curOp&&nn(e)}function r(e){e.options.lineWrapping?(vo(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth=""):(go(e.display.wrapper,"CodeMirror-wrap"),p(e)),s(e),nn(e),Ot(e),setTimeout(function(){g(e)},100)}function o(e){var t=$t(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/Gt(e.display)-3);return function(r){if(Vi(e.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return n?o+(Math.ceil(r.text.length/i)||1)*t:o+t}}function s(e){var t=e.doc,n=o(e);t.iter(function(e){var t=n(e);t!=e.height&&xr(e,t)})}function a(e){var t=Ns[e.options.keyMap],n=t.style;e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(n?" cm-keymap-"+n:"")}function l(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ot(e)}function u(e){c(e),nn(e),setTimeout(function(){y(e)},20)}function c(e){var t=e.display.gutters,n=e.options.gutters;co(t);for(var i=0;i<n.length;++i){var r=n[i],o=t.appendChild(uo("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=i?"":"none",d(e)}function d(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px",e.display.scrollbarH.style.left=e.options.fixedGutter?t+"px":0}function h(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=Ri(i);){var r=t.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=e;t=zi(i);){var r=t.find(0,!0);n-=i.text.length-r.from.ch,i=r.to.line,n+=i.text.length-r.to.ch}return n}function p(e){var t=e.display,n=e.doc;t.maxLine=br(n,n.first),t.maxLineLength=h(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=h(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function f(e){var t=to(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function m(e){var t=e.display.scroller;return{clientHeight:t.clientHeight,barHeight:e.display.scrollbarV.clientHeight,scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,barWidth:e.display.scrollbarH.clientWidth,docHeight:Math.round(e.doc.height+kt(e.display))}}function g(e,t){t||(t=m(e));var n=e.display,i=t.docHeight+ta,r=t.scrollWidth>t.clientWidth,o=i>t.clientHeight;if(o?(n.scrollbarV.style.display="block",n.scrollbarV.style.bottom=r?xo(n.measure)+"px":"0",n.scrollbarV.firstChild.style.height=Math.max(0,i-t.clientHeight+(t.barHeight||n.scrollbarV.clientHeight))+"px"):(n.scrollbarV.style.display="",n.scrollbarV.firstChild.style.height="0"),r?(n.scrollbarH.style.display="block",n.scrollbarH.style.right=o?xo(n.measure)+"px":"0",n.scrollbarH.firstChild.style.width=t.scrollWidth-t.clientWidth+(t.barWidth||n.scrollbarH.clientWidth)+"px"):(n.scrollbarH.style.display="",n.scrollbarH.firstChild.style.width="0"),r&&o?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=n.scrollbarFiller.style.width=xo(n.measure)+"px"):n.scrollbarFiller.style.display="",r&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=xo(n.measure)+"px",n.gutterFiller.style.width=n.gutters.offsetWidth+"px"):n.gutterFiller.style.display="",!e.state.checkedOverlayScrollbar&&t.clientHeight>0){if(0===xo(n.measure)){var s=es&&!Ko?"12px":"18px";n.scrollbarV.style.minWidth=n.scrollbarH.style.minHeight=s;var a=function(t){Ur(t)!=n.scrollbarV&&Ur(t)!=n.scrollbarH&&Qt(e,wn)(t)};Qs(n.scrollbarV,"mousedown",a),Qs(n.scrollbarH,"mousedown",a)}e.state.checkedOverlayScrollbar=!0}}function v(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-xt(e));var r=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,o=Sr(t,i),s=Sr(t,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;if(o>a)return{from:a,to:Sr(t,Cr(br(t,a))+e.wrapper.clientHeight)};if(Math.min(l,t.lastLine())>=s)return{from:Sr(t,Cr(br(t,l))-e.wrapper.clientHeight),to:l}}return{from:o,to:Math.max(s,o+1)}}function y(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=w(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&n[s].gutter&&(n[s].gutter.style.left=o);var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=i+r+"px")}}function b(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=_(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(uo("div",[uo("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s),i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",d(e),!0}return!1}function _(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function w(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function x(e,t,n){for(var i,r=e.display.viewFrom,o=e.display.viewTo,s=v(e.display,e.doc,t),a=!0;;a=!1){var l=e.display.scroller.clientWidth;if(!k(e,s,n))break;i=!0,e.display.maxLineChanged&&!e.options.lineWrapping&&S(e);var u=m(e);if(ft(e),C(e,u),g(e,u),qo&&e.options.lineWrapping&&T(e,u),a&&e.options.lineWrapping&&l!=e.display.scroller.clientWidth)n=!0;else if(n=!1,t&&null!=t.top&&(t={top:Math.min(u.docHeight-ta-u.clientHeight,t.top)}),s=v(e.display,e.doc,t),s.from>=e.display.viewFrom&&s.to<=e.display.viewTo)break}return e.display.updateLineNumbers=null,i&&(Vr(e,"update",e),(e.display.viewFrom!=r||e.display.viewTo!=o)&&Vr(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo)),i}function k(e,t,n){var i=e.display,r=e.doc;if(!i.wrapper.offsetWidth)return void on(e);if(!(!n&&t.from>=i.viewFrom&&t.to<=i.viewTo&&0==un(e))){b(e)&&on(e);var o=A(e),s=r.first+r.size,a=Math.max(t.from-e.options.viewportMargin,r.first),l=Math.min(s,t.to+e.options.viewportMargin);i.viewFrom<a&&a-i.viewFrom<20&&(a=Math.max(r.first,i.viewFrom)),i.viewTo>l&&i.viewTo-l<20&&(l=Math.min(s,i.viewTo)),ss&&(a=Ui(e.doc,a),l=qi(e.doc,l));var u=a!=i.viewFrom||l!=i.viewTo||i.lastSizeC!=i.wrapper.clientHeight;ln(e,a,l),i.viewOffset=Cr(br(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var c=un(e);if(u||0!=c||n){var d=fo();return c>4&&(i.lineDiv.style.display="none"),j(e,i.updateLineNumbers,o),c>4&&(i.lineDiv.style.display=""),d&&fo()!=d&&d.offsetHeight&&d.focus(),co(i.cursorDiv),co(i.selectionDiv),u&&(i.lastSizeC=i.wrapper.clientHeight,yt(e,400)),E(e),!0}}}function S(e){var t=e.display,n=Mt(e,t.maxLine,t.maxLine.text.length).left;t.maxLineChanged=!1;var i=Math.max(0,n+3),r=Math.max(0,t.sizer.offsetLeft+i+ta-t.scroller.clientWidth);t.sizer.style.minWidth=i+"px",r<e.doc.scrollLeft&&jn(e,Math.min(t.scroller.scrollLeft,r),!0)}function C(e,t){e.display.sizer.style.minHeight=e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=Math.max(t.docHeight,t.clientHeight-ta)+"px"}function T(e,t){e.display.sizer.offsetWidth+e.display.gutters.offsetWidth<e.display.scroller.clientWidth-1&&(e.display.sizer.style.minHeight=e.display.heightForcer.style.top="0px",e.display.gutters.style.height=t.docHeight+"px")}function E(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var r,o=t.view[i];if(!o.hidden){if(zo){var s=o.node.offsetTop+o.node.offsetHeight;r=s-n,n=s}else{var a=o.node.getBoundingClientRect();r=a.bottom-a.top}var l=o.line.height-r;if(2>r&&(r=$t(t)),(l>.001||-.001>l)&&(xr(o.line,r),M(o.line),o.rest))for(var u=0;u<o.rest.length;u++)M(o.rest[u])}}}function M(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function A(e){for(var t=e.display,n={},i={},r=t.gutters.firstChild,o=0;r;r=r.nextSibling,++o)n[e.options.gutters[o]]=r.offsetLeft,i[e.options.gutters[o]]=r.offsetWidth;return{fixedPos:w(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function j(e,t,n){function i(t){var n=t.nextSibling;return qo&&es&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var r=e.display,o=e.options.lineNumbers,s=r.lineDiv,a=s.firstChild,l=r.view,u=r.viewFrom,c=0;c<l.length;c++){var d=l[c];if(d.hidden);else if(d.node){for(;a!=d.node;)a=i(a);var h=o&&null!=t&&u>=t&&d.lineNumber;d.changes&&(to(d.changes,"gutter")>-1&&(h=!1),N(e,d,u,n)),h&&(co(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(_(e.options,u)))),a=d.node.nextSibling}else{var p=z(e,d,u,n);s.insertBefore(p,a)}u+=d.size}for(;a;)a=i(a)}function N(e,t,n,i){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?O(e,t):"gutter"==o?D(e,t,n,i):"class"==o?F(t):"widget"==o&&R(t,i)}t.changes=null}function P(e){return e.node==e.text&&(e.node=uo("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),zo&&(e.node.style.zIndex=2)),e.node}function L(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=P(e);e.background=n.insertBefore(uo("div",null,t),n.firstChild)}}function I(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):sr(e,t)}function O(e,t){var n=t.text.className,i=I(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,F(t)):n&&(t.text.className=n)}function F(e){L(e),e.line.wrapClass?P(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function D(e,t,n,i){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null);var r=t.line.gutterMarkers;if(e.options.lineNumbers||r){var o=P(t),s=t.gutter=o.insertBefore(uo("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px"),t.text);if(!e.options.lineNumbers||r&&r["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(uo("div",_(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),r)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],u=r.hasOwnProperty(l)&&r[l];u&&s.appendChild(uo("div",[u],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function R(e,t){e.alignable&&(e.alignable=null);for(var n,i=e.node.firstChild;i;i=n){var n=i.nextSibling;"CodeMirror-linewidget"==i.className&&e.node.removeChild(i)}H(e,t)}function z(e,t,n,i){var r=I(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),F(t),D(e,t,n,i),H(t,i),t.node}function H(e,t){if(W(e.line,e,t,!0),e.rest)for(var n=0;n<e.rest.length;n++)W(e.rest[n],e,t,!1)}function W(e,t,n,i){if(e.widgets)for(var r=P(t),o=0,s=e.widgets;o<s.length;++o){var a=s[o],l=uo("div",[a.node],"CodeMirror-linewidget");a.handleMouseEvents||(l.ignoreEvents=!0),B(a,l,t,n),i&&a.above?r.insertBefore(l,t.gutter||t.text):r.appendChild(l),Vr(a,"redraw")}}function B(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(r-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function U(e){return as(e.line,e.ch)}function q(e,t){return ls(e,t)<0?t:e}function V(e,t){return ls(e,t)<0?e:t}function $(e,t){this.ranges=e,this.primIndex=t}function G(e,t){this.anchor=e,this.head=t}function Y(e,t){var n=e[t];e.sort(function(e,t){return ls(e.from(),t.from())}),t=to(e,n);for(var i=1;i<e.length;i++){var r=e[i],o=e[i-1];if(ls(o.to(),r.from())>=0){var s=V(o.from(),r.from()),a=q(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;t>=i&&--t,e.splice(--i,2,new G(l?a:s,l?s:a))}}return new $(e,t)}function X(e,t){return new $([new G(e,t||e)],0)}function K(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Q(e,t){if(t.line<e.first)return as(e.first,0);var n=e.first+e.size-1;return t.line>n?as(n,br(e,n).text.length):J(t,br(e,t.line).text.length)}function J(e,t){var n=e.ch;return null==n||n>t?as(e.line,t):0>n?as(e.line,0):e}function Z(e,t){return t>=e.first&&t<e.first+e.size}function et(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=Q(e,t[i]);return n}function tt(e,t,n,i){if(e.cm&&e.cm.display.shift||e.extend){var r=t.anchor;if(i){var o=ls(n,r)<0;o!=ls(i,r)<0?(r=n,n=i):o!=ls(n,i)<0&&(n=i)}return new G(r,n)}return new G(i||n,n)}function nt(e,t,n,i){lt(e,new $([tt(e,e.sel.primary(),t,n)],0),i)}function it(e,t,n){for(var i=[],r=0;r<e.sel.ranges.length;r++)i[r]=tt(e,e.sel.ranges[r],t[r],null);var o=Y(i,e.sel.primIndex);lt(e,o,n)}function rt(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n,lt(e,Y(r,e.sel.primIndex),i)}function ot(e,t,n,i){lt(e,X(t,n),i)}function st(e,t){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new G(Q(e,t[n].anchor),Q(e,t[n].head))}};return Zs(e,"beforeSelectionChange",e,n),e.cm&&Zs(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?Y(n.ranges,n.ranges.length-1):t}function at(e,t,n){var i=e.history.done,r=eo(i);r&&r.ranges?(i[i.length-1]=t,ut(e,t,n)):lt(e,t,n)}function lt(e,t,n){ut(e,t,n),Lr(e,e.sel,e.cm?e.cm.curOp.id:0/0,n)}function ut(e,t,n){(Xr(e,"beforeSelectionChange")||e.cm&&Xr(e.cm,"beforeSelectionChange"))&&(t=st(e,t));var i=n&&n.bias||(ls(t.primary().head,e.sel.primary().head)<0?-1:1);ct(e,ht(e,t,i,!0)),n&&n.scroll===!1||!e.cm||ai(e.cm)}function ct(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Yr(e.cm)),Vr(e,"cursorActivity",e))}function dt(e){ct(e,ht(e,e.sel,null,!1),ia)}function ht(e,t,n,i){for(var r,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=pt(e,s.anchor,n,i),l=pt(e,s.head,n,i);(r||a!=s.anchor||l!=s.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new G(a,l))}return r?Y(r,t.primIndex):t}function pt(e,t,n,i){var r=!1,o=t,s=n||1;e.cantEdit=!1;e:for(;;){var a=br(e,o.line);if(a.markedSpans)for(var l=0;l<a.markedSpans.length;++l){var u=a.markedSpans[l],c=u.marker;if((null==u.from||(c.inclusiveLeft?u.from<=o.ch:u.from<o.ch))&&(null==u.to||(c.inclusiveRight?u.to>=o.ch:u.to>o.ch))){if(i&&(Zs(c,"beforeCursorEnter"),c.explicitlyCleared)){if(a.markedSpans){--l;continue}break}if(!c.atomic)continue;var d=c.find(0>s?-1:1);if(0==ls(d,o)&&(d.ch+=s,d.ch<0?d=d.line>e.first?Q(e,as(d.line-1)):null:d.ch>a.text.length&&(d=d.line<e.first+e.size-1?as(d.line+1,0):null),!d)){if(r)return i?(e.cantEdit=!0,as(e.first,0)):pt(e,t,n,!0);r=!0,d=t,s=-s}o=d;continue e}}return o}}function ft(e){for(var t=e.display,n=e.doc,i=document.createDocumentFragment(),r=document.createDocumentFragment(),o=0;o<n.sel.ranges.length;o++){var s=n.sel.ranges[o],a=s.empty();(a||e.options.showCursorWhenSelecting)&&mt(e,s,i),a||gt(e,s,r)}if(e.options.moveInputWithCursor){var l=Wt(e,n.sel.primary().head,"div"),u=t.wrapper.getBoundingClientRect(),c=t.lineDiv.getBoundingClientRect(),d=Math.max(0,Math.min(t.wrapper.clientHeight-10,l.top+c.top-u.top)),h=Math.max(0,Math.min(t.wrapper.clientWidth-10,l.left+c.left-u.left));t.inputDiv.style.top=d+"px",t.inputDiv.style.left=h+"px"}ho(t.cursorDiv,i),ho(t.selectionDiv,r)}function mt(e,t,n){var i=Wt(e,t.head,"div"),r=n.appendChild(uo("div","\xa0","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var o=n.appendChild(uo("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function gt(e,t,n){function i(e,t,n,i){0>t&&(t=0),t=Math.round(t),i=Math.round(i),a.appendChild(uo("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?c-e:n)+"px; height: "+(i-t)+"px"))}function r(t,n,r){function o(n,i){return Ht(e,as(t,n),"div",d,i)}var a,l,d=br(s,t),h=d.text.length;return Co(Tr(d),n||0,null==r?h:r,function(e,t,s){var d,p,f,m=o(e,"left");if(e==t)d=m,p=f=m.left;else{if(d=o(t-1,"right"),"rtl"==s){var g=m;m=d,d=g}p=m.left,f=d.right}null==n&&0==e&&(p=u),d.top-m.top>3&&(i(p,m.top,null,m.bottom),p=u,m.bottom<d.top&&i(p,m.bottom,null,d.top)),null==r&&t==h&&(f=c),(!a||m.top<a.top||m.top==a.top&&m.left<a.left)&&(a=m),(!l||d.bottom>l.bottom||d.bottom==l.bottom&&d.right>l.right)&&(l=d),u+1>p&&(p=u),i(p,d.top,f-p,d.bottom)}),{start:a,end:l}}var o=e.display,s=e.doc,a=document.createDocumentFragment(),l=St(e.display),u=l.left,c=o.lineSpace.offsetWidth-l.right,d=t.from(),h=t.to();if(d.line==h.line)r(d.line,d.ch,h.ch);else{var p=br(s,d.line),f=br(s,h.line),m=Wi(p)==Wi(f),g=r(d.line,d.ch,m?p.text.length+1:null).end,v=r(h.line,m?0:null,h.ch).start;m&&(g.top<v.top-2?(i(g.right,g.top,null,g.bottom),i(u,v.top,v.left,v.bottom)):i(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&i(u,g.bottom,null,v.top)}n.appendChild(a)}function vt(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0&&(t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate))}}function yt(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,oo(bt,e))}function bt(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=Ms(t.mode,wt(e,t.frontier));Kt(e,function(){t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(r){if(t.frontier>=e.display.viewFrom){var o=r.styles,s=nr(e,r,i,!0);r.styles=s.styles,s.classes?r.styleClasses=s.classes:r.styleClasses&&(r.styleClasses=null);for(var a=!o||o.length!=r.styles.length,l=0;!a&&l<o.length;++l)a=o[l]!=r.styles[l];a&&rn(e,t.frontier,"text"),r.stateAfter=Ms(t.mode,i)}else rr(e,r.text,i),r.stateAfter=t.frontier%5==0?Ms(t.mode,i):null;return++t.frontier,+new Date>n?(yt(e,e.options.workDelay),!0):void 0})})}}function _t(e,t,n){for(var i,r,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=br(o,a-1);if(l.stateAfter&&(!n||a<=o.frontier))return a;var u=sa(l.text,null,e.options.tabSize);(null==r||i>u)&&(r=a-1,i=u)}return r}function wt(e,t,n){var i=e.doc,r=e.display;if(!i.mode.startState)return!0;var o=_t(e,t,n),s=o>i.first&&br(i,o-1).stateAfter;return s=s?Ms(i.mode,s):As(i.mode),i.iter(o,t,function(n){rr(e,n.text,s);var a=o==t-1||o%5==0||o>=r.viewFrom&&o<r.viewTo;n.stateAfter=a?Ms(i.mode,s):null,++o}),n&&(i.frontier=o),s}function xt(e){return e.lineSpace.offsetTop}function kt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function St(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=ho(e.measure,uo("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function Ct(e,t,n){var i=e.options.lineWrapping,r=i&&e.display.scroller.clientWidth;if(!t.measure.heights||i&&t.measure.width!=r){var o=t.measure.heights=[];if(i){t.measure.width=r;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],u=s[a+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Tt(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var i=0;i<e.rest.length;i++)if(kr(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Et(e,t){t=Wi(t);var n=kr(t),i=e.display.externalMeasured=new en(e.doc,t,n);i.lineN=n;var r=i.built=sr(e,i);return i.text=r.pre,ho(e.display.lineMeasure,r.pre),i}function Mt(e,t,n,i){return Nt(e,jt(e,t),n,i)}function At(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[sn(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function jt(e,t){var n=kr(t),i=At(e,n);i&&!i.text?i=null:i&&i.changes&&N(e,i,n,A(e)),i||(i=Et(e,t));var r=Tt(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Nt(e,t,n,i){t.before&&(n=-1);var r,o=n+(i||"");return t.cache.hasOwnProperty(o)?r=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ct(e,t.view,t.rect),t.hasHeights=!0),r=Pt(e,t,n,i),r.bogus||(t.cache[o]=r)),{left:r.left,right:r.right,top:r.top,bottom:r.bottom}}function Pt(e,t,n,i){for(var r,o,s,a,l=t.map,u=0;u<l.length;u+=3){var c=l[u],d=l[u+1];if(c>n?(o=0,s=1,a="left"):d>n?(o=n-c,s=o+1):(u==l.length-3||n==d&&l[u+3]>n)&&(s=d-c,o=s-1,n>=d&&(a="right")),null!=o){if(r=l[u+2],c==d&&i==(r.insertLeft?"left":"right")&&(a=i),"left"==i&&0==o)for(;u&&l[u-2]==l[u-3]&&l[u-1].insertLeft;)r=l[(u-=3)+2],a="left";if("right"==i&&o==d-c)for(;u<l.length-3&&l[u+3]==l[u+4]&&!l[u+5].insertLeft;)r=l[(u+=3)+2],a="right";break}}var h;if(3==r.nodeType){for(;o&&lo(t.line.text.charAt(c+o));)--o;for(;d>c+s&&lo(t.line.text.charAt(c+s));)++s;if(Ho&&0==o&&s==d-c)h=r.parentNode.getBoundingClientRect();else if(Uo&&e.options.lineWrapping){var p=ua(r,o,s).getClientRects();h=p.length?p["right"==i?p.length-1:0]:hs}else h=ua(r,o,s).getBoundingClientRect()||hs}else{o>0&&(a=i="right");var p;h=e.options.lineWrapping&&(p=r.getClientRects()).length>1?p["right"==i?p.length-1:0]:r.getBoundingClientRect()}if(Ho&&!o&&(!h||!h.left&&!h.right)){var f=r.parentNode.getClientRects()[0];h=f?{left:f.left,right:f.left+Gt(e.display),top:f.top,bottom:f.bottom}:hs}for(var m,g=(h.bottom+h.top)/2-t.rect.top,v=t.view.measure.heights,u=0;u<v.length-1&&!(g<v[u]);u++);m=u?v[u-1]:0,g=v[u];var y={left:("right"==a?h.right:h.left)-t.rect.left,right:("left"==a?h.left:h.right)-t.rect.left,top:m,bottom:g};return h.left||h.right||(y.bogus=!0),y}function Lt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function It(e){e.display.externalMeasure=null,co(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Lt(e.display.view[t])}function Ot(e){It(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Ft(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Dt(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Rt(e,t,n,i){if(t.widgets)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].above){var o=Yi(t.widgets[r]);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=Cr(t);if("local"==i?s+=xt(e.display):s-=e.display.viewOffset,"page"==i||"window"==i){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:Dt());var l=a.left+("window"==i?0:Ft());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function zt(e,t,n){if("div"==n)return t;var i=t.left,r=t.top;if("page"==n)i-=Ft(),r-=Dt();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function Ht(e,t,n,i,r){return i||(i=br(e.doc,t.line)),Rt(e,i,Mt(e,i,t.ch,r),n)}function Wt(e,t,n,i,r){function o(t,o){var s=Nt(e,r,t,o?"right":"left");return o?s.left=s.right:s.right=s.left,Rt(e,i,s,n)}function s(e,t){var n=a[t],i=n.level%2;return e==To(n)&&t&&n.level<a[t-1].level?(n=a[--t],e=Eo(n)-(n.level%2?0:1),i=!0):e==Eo(n)&&t<a.length-1&&n.level<a[t+1].level&&(n=a[++t],e=To(n)-n.level%2,i=!1),i&&e==n.to&&e>n.from?o(e-1):o(e,i)}i=i||br(e.doc,t.line),r||(r=jt(e,i));var a=Tr(i),l=t.ch;if(!a)return o(l);var u=Lo(a,l),c=s(l,u);return null!=xa&&(c.other=s(l,xa)),c}function Bt(e,t){var n=0,t=Q(e.doc,t);e.options.lineWrapping||(n=Gt(e.display)*t.ch);var i=br(e.doc,t.line),r=Cr(i)+xt(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function Ut(e,t,n,i){var r=as(e,t);return r.xRel=i,n&&(r.outside=!0),r}function qt(e,t,n){var i=e.doc;if(n+=e.display.viewOffset,0>n)return Ut(i.first,0,!0,-1);var r=Sr(i,n),o=i.first+i.size-1;if(r>o)return Ut(i.first+i.size-1,br(i,o).text.length,!0,1);0>t&&(t=0);for(var s=br(i,r);;){var a=Vt(e,s,r,t,n),l=zi(s),u=l&&l.find(0,!0);if(!l||!(a.ch>u.from.ch||a.ch==u.from.ch&&a.xRel>0))return a;r=kr(s=u.to.line)}}function Vt(e,t,n,i,r){function o(i){var r=Wt(e,as(n,i),"line",t,u);return a=!0,s>r.bottom?r.left-l:s<r.top?r.left+l:(a=!1,r.left)}var s=r-Cr(t),a=!1,l=2*e.display.wrapper.clientWidth,u=jt(e,t),c=Tr(t),d=t.text.length,h=Mo(t),p=Ao(t),f=o(h),m=a,g=o(p),v=a;if(i>g)return Ut(n,p,v,1);for(;;){if(c?p==h||p==Oo(t,h,1):1>=p-h){for(var y=f>i||g-i>=i-f?h:p,b=i-(y==h?f:g);lo(t.text.charAt(y));)++y;var _=Ut(n,y,y==h?m:v,-1>b?-1:b>1?1:0);return _}var w=Math.ceil(d/2),x=h+w;if(c){x=h;for(var k=0;w>k;++k)x=Oo(t,x,1)}var S=o(x);S>i?(p=x,g=S,(v=a)&&(g+=1e3),d=w):(h=x,f=S,m=a,d-=w)}}function $t(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==us){us=uo("pre");for(var t=0;49>t;++t)us.appendChild(document.createTextNode("x")),us.appendChild(uo("br"));us.appendChild(document.createTextNode("x"))}ho(e.measure,us);var n=us.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),co(e.measure),n||1}function Gt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=uo("span","xxxxxxxxxx"),n=uo("pre",[t]);ho(e.measure,n);var i=t.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function Yt(e){e.curOp={viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++ps},ea++||(Gs=[])}function Xt(e){var t=e.curOp,n=e.doc,i=e.display;if(e.curOp=null,t.updateMaxLine&&p(e),t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<i.viewFrom||t.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&e.options.lineWrapping){var r=x(e,{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate);e.display.scroller.offsetHeight&&(e.doc.scrollTop=e.display.scroller.scrollTop)}if(!r&&t.selectionChanged&&ft(e),r||t.startHeight==e.doc.height||g(e),null==i.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null!=t.scrollTop&&i.scroller.scrollTop!=t.scrollTop){var o=Math.max(0,Math.min(i.scroller.scrollHeight-i.scroller.clientHeight,t.scrollTop));i.scroller.scrollTop=i.scrollbarV.scrollTop=n.scrollTop=o}if(null!=t.scrollLeft&&i.scroller.scrollLeft!=t.scrollLeft){var s=Math.max(0,Math.min(i.scroller.scrollWidth-i.scroller.clientWidth,t.scrollLeft));i.scroller.scrollLeft=i.scrollbarH.scrollLeft=n.scrollLeft=s,y(e)}if(t.scrollToPos){var a=ii(e,Q(e.doc,t.scrollToPos.from),Q(e.doc,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&ni(e,a)}t.selectionChanged&&vt(e),e.state.focused&&t.updateInput&&pn(e,t.typing);var l=t.maybeHiddenMarkers,u=t.maybeUnhiddenMarkers;if(l)for(var c=0;c<l.length;++c)l[c].lines.length||Zs(l[c],"hide");if(u)for(var c=0;c<u.length;++c)u[c].lines.length&&Zs(u[c],"unhide");var d;if(--ea||(d=Gs,Gs=null),t.changeObjs&&Zs(e,"changes",e,t.changeObjs),d)for(var c=0;c<d.length;++c)d[c]();if(t.cursorActivityHandlers)for(var c=0;c<t.cursorActivityHandlers.length;c++)t.cursorActivityHandlers[c](e)}function Kt(e,t){if(e.curOp)return t();Yt(e);try{return t()}finally{Xt(e)}}function Qt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Yt(e);try{return t.apply(e,arguments)}finally{Xt(e)}}}function Jt(e){return function(){if(this.curOp)return e.apply(this,arguments);Yt(this);try{return e.apply(this,arguments)}finally{Xt(this)}}}function Zt(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Yt(t);try{return e.apply(this,arguments)}finally{Xt(t)}}}function en(e,t,n){this.line=t,this.rest=Bi(t),this.size=this.rest?kr(eo(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Vi(e,t)}function tn(e,t,n){for(var i,r=[],o=t;n>o;o=i){var s=new en(e.doc,br(e.doc,o),o);i=o+s.size,r.push(s)}return r}function nn(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var r=e.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)ss&&Ui(e.doc,t)<r.viewTo&&on(e);else if(n<=r.viewFrom)ss&&qi(e.doc,n+i)>r.viewFrom?on(e):(r.viewFrom+=i,r.viewTo+=i);else if(t<=r.viewFrom&&n>=r.viewTo)on(e);else if(t<=r.viewFrom){var o=an(e,n,n+i,1);
o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):on(e)}else if(n>=r.viewTo){var o=an(e,t,t,-1);o?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):on(e)}else{var s=an(e,t,t,-1),a=an(e,n,n+i,1);s&&a?(r.view=r.view.slice(0,s.index).concat(tn(e,s.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=i):on(e)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:t<l.lineN+l.size&&(r.externalMeasured=null))}function rn(e,t,n){e.curOp.viewChanged=!0;var i=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var o=i.view[sn(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==to(s,n)&&s.push(n)}}}function on(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function sn(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var n=e.display.view,i=0;i<n.length;i++)if(t-=n[i].size,0>t)return i}function an(e,t,n,i){var r,o=sn(e,t),s=e.display.view;if(!ss||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=0,l=e.display.viewFrom;o>a;a++)l+=s[a].size;if(l!=t){if(i>0){if(o==s.length-1)return null;r=l+s[o].size-t,o++}else r=l-t;t+=r,n+=r}for(;Ui(e.doc,n)!=n;){if(o==(0>i?0:s.length-1))return null;n+=i*s[o-(0>i?1:0)].size,o+=i}return{index:o,lineN:n}}function ln(e,t,n){var i=e.display,r=i.view;0==r.length||t>=i.viewTo||n<=i.viewFrom?(i.view=tn(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=tn(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(sn(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(tn(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,sn(e,n)))),i.viewTo=n}function un(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var r=t[i];r.hidden||r.node&&!r.changes||++n}return n}function cn(e){e.display.pollingFast||e.display.poll.set(e.options.pollInterval,function(){hn(e),e.state.focused&&cn(e)})}function dn(e){function t(){var i=hn(e);i||n?(e.display.pollingFast=!1,cn(e)):(n=!0,e.display.poll.set(60,t))}var n=!1;e.display.pollingFast=!0,e.display.poll.set(20,t)}function hn(e){var t=e.display.input,n=e.display.prevInput,i=e.doc;if(!e.state.focused||ba(t)&&!n||gn(e)||e.options.disableInput)return!1;e.state.pasteIncoming&&e.state.fakedLastChar&&(t.value=t.value.substring(0,t.value.length-1),e.state.fakedLastChar=!1);var r=t.value;if(r==n&&!e.somethingSelected())return!1;if(Uo&&!Ho&&e.display.inputHasSelection===r)return pn(e),!1;var o=!e.curOp;o&&Yt(e),e.display.shift=!1,8203!=r.charCodeAt(0)||i.sel!=e.display.selForContextMenu||n||(n="\u200b");for(var s=0,a=Math.min(n.length,r.length);a>s&&n.charCodeAt(s)==r.charCodeAt(s);)++s;for(var l=r.slice(s),u=ya(l),c=e.state.pasteIncoming&&u.length>1&&i.sel.ranges.length==u.length,d=i.sel.ranges.length-1;d>=0;d--){var h=i.sel.ranges[d],p=h.from(),f=h.to();s<n.length?p=as(p.line,p.ch-(n.length-s)):e.state.overwrite&&h.empty()&&!e.state.pasteIncoming&&(f=as(f.line,Math.min(br(i,f.line).text.length,f.ch+eo(u).length)));var m=e.curOp.updateInput,g={from:p,to:f,text:c?[u[d]]:u,origin:e.state.pasteIncoming?"paste":e.state.cutIncoming?"cut":"+input"};if(Xn(e.doc,g),Vr(e,"inputRead",e,g),l&&!e.state.pasteIncoming&&e.options.electricChars&&e.options.smartIndent&&h.head.ch<100&&(!d||i.sel.ranges[d-1].head.line!=h.head.line)){var v=e.getModeAt(h.head);if(v.electricChars){for(var y=0;y<v.electricChars.length;y++)if(l.indexOf(v.electricChars.charAt(y))>-1){ui(e,h.head.line,"smart");break}}else if(v.electricInput){var b=bs(g);v.electricInput.test(br(i,b.line).text.slice(0,b.ch))&&ui(e,h.head.line,"smart")}}}return ai(e),e.curOp.updateInput=m,e.curOp.typing=!0,r.length>1e3||r.indexOf("\n")>-1?t.value=e.display.prevInput="":e.display.prevInput=r,o&&Xt(e),e.state.pasteIncoming=e.state.cutIncoming=!1,!0}function pn(e,t){var n,i,r=e.doc;if(e.somethingSelected()){e.display.prevInput="";var o=r.sel.primary();n=_a&&(o.to().line-o.from().line>100||(i=e.getSelection()).length>1e3);var s=n?"-":i||e.getSelection();e.display.input.value=s,e.state.focused&&la(e.display.input),Uo&&!Ho&&(e.display.inputHasSelection=s)}else t||(e.display.prevInput=e.display.input.value="",Uo&&!Ho&&(e.display.inputHasSelection=null));e.display.inaccurateSelection=n}function fn(e){"nocursor"==e.options.readOnly||Zo&&fo()==e.display.input||e.display.input.focus()}function mn(e){e.state.focused||(fn(e),Hn(e))}function gn(e){return e.options.readOnly||e.doc.cantEdit}function vn(e){function t(){e.state.focused&&setTimeout(oo(fn,e),0)}function n(t){Gr(e,t)||Ks(t)}function i(t){if(e.somethingSelected())r.inaccurateSelection&&(r.prevInput="",r.inaccurateSelection=!1,r.input.value=e.getSelection(),la(r.input));else{for(var n="",i=[],o=0;o<e.doc.sel.ranges.length;o++){var s=e.doc.sel.ranges[o].head.line,a={anchor:as(s,0),head:as(s+1,0)};i.push(a),n+=e.getRange(a.anchor,a.head)}"cut"==t.type?e.setSelections(i,null,ia):(r.prevInput="",r.input.value=n,la(r.input))}"cut"==t.type&&(e.state.cutIncoming=!0)}var r=e.display;Qs(r.scroller,"mousedown",Qt(e,wn)),Ro?Qs(r.scroller,"dblclick",Qt(e,function(t){if(!Gr(e,t)){var n=_n(e,t);if(n&&!Tn(e,t)&&!bn(e.display,t)){Ys(t);var i=fi(e,n);nt(e.doc,i.anchor,i.head)}}})):Qs(r.scroller,"dblclick",function(t){Gr(e,t)||Ys(t)}),Qs(r.lineSpace,"selectstart",function(e){bn(r,e)||Ys(e)}),rs||Qs(r.scroller,"contextmenu",function(t){Bn(e,t)}),Qs(r.scroller,"scroll",function(){r.scroller.clientHeight&&(An(e,r.scroller.scrollTop),jn(e,r.scroller.scrollLeft,!0),Zs(e,"scroll",e))}),Qs(r.scrollbarV,"scroll",function(){r.scroller.clientHeight&&An(e,r.scrollbarV.scrollTop)}),Qs(r.scrollbarH,"scroll",function(){r.scroller.clientHeight&&jn(e,r.scrollbarH.scrollLeft)}),Qs(r.scroller,"mousewheel",function(t){Nn(e,t)}),Qs(r.scroller,"DOMMouseScroll",function(t){Nn(e,t)}),Qs(r.scrollbarH,"mousedown",t),Qs(r.scrollbarV,"mousedown",t),Qs(r.wrapper,"scroll",function(){r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),Qs(r.input,"keyup",Qt(e,Rn)),Qs(r.input,"input",function(){Uo&&!Ho&&e.display.inputHasSelection&&(e.display.inputHasSelection=null),dn(e)}),Qs(r.input,"keydown",Qt(e,Fn)),Qs(r.input,"keypress",Qt(e,zn)),Qs(r.input,"focus",oo(Hn,e)),Qs(r.input,"blur",oo(Wn,e)),e.options.dragDrop&&(Qs(r.scroller,"dragstart",function(t){Mn(e,t)}),Qs(r.scroller,"dragenter",n),Qs(r.scroller,"dragover",n),Qs(r.scroller,"drop",Qt(e,En))),Qs(r.scroller,"paste",function(t){bn(r,t)||(e.state.pasteIncoming=!0,fn(e),dn(e))}),Qs(r.input,"paste",function(){if(qo&&!e.state.fakedLastChar&&!(new Date-e.state.lastMiddleDown<200)){var t=r.input.selectionStart,n=r.input.selectionEnd;r.input.value+="$",r.input.selectionStart=t,r.input.selectionEnd=n,e.state.fakedLastChar=!0}e.state.pasteIncoming=!0,dn(e)}),Qs(r.input,"cut",i),Qs(r.input,"copy",i),Xo&&Qs(r.sizer,"mouseup",function(){fo()==r.input&&r.input.blur(),fn(e)})}function yn(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,e.setSize()}function bn(e,t){for(var n=Ur(t);n!=e.wrapper;n=n.parentNode)if(!n||n.ignoreEvents||n.parentNode==e.sizer&&n!=e.mover)return!0}function _n(e,t,n,i){var r=e.display;if(!n){var o=Ur(t);if(o==r.scrollbarH||o==r.scrollbarV||o==r.scrollbarFiller||o==r.gutterFiller)return null}var s,a,l=r.lineSpace.getBoundingClientRect();try{s=t.clientX-l.left,a=t.clientY-l.top}catch(t){return null}var u,c=qt(e,s,a);if(i&&1==c.xRel&&(u=br(e.doc,c.line).text).length==c.ch){var d=sa(u,u.length,e.options.tabSize)-u.length;c=as(c.line,Math.max(0,Math.round((s-St(e.display).left)/Gt(e.display))-d))}return c}function wn(e){if(!Gr(this,e)){var t=this,n=t.display;if(n.shift=e.shiftKey,bn(n,e))return void(qo||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Tn(t,e)){var i=_n(t,e);switch(window.focus(),qr(e)){case 1:i?xn(t,e,i):Ur(e)==n.scroller&&Ys(e);break;case 2:qo&&(t.state.lastMiddleDown=+new Date),i&&nt(t.doc,i),setTimeout(oo(fn,t),20),Ys(e);break;case 3:rs&&Bn(t,e)}}}}function xn(e,t,n){setTimeout(oo(mn,e),0);var i,r=+new Date;ds&&ds.time>r-400&&0==ls(ds.pos,n)?i="triple":cs&&cs.time>r-400&&0==ls(cs.pos,n)?(i="double",ds={time:r,pos:n}):(i="single",cs={time:r,pos:n});var o=e.doc.sel,s=es?t.metaKey:t.ctrlKey;e.options.dragDrop&&va&&!gn(e)&&"single"==i&&o.contains(n)>-1&&o.somethingSelected()?kn(e,t,n,s):Sn(e,t,n,i,s)}function kn(e,t,n,i){var r=e.display,o=Qt(e,function(s){qo&&(r.scroller.draggable=!1),e.state.draggingText=!1,Js(document,"mouseup",o),Js(r.scroller,"drop",o),Math.abs(t.clientX-s.clientX)+Math.abs(t.clientY-s.clientY)<10&&(Ys(s),i||nt(e.doc,n),fn(e),Ro&&!Ho&&setTimeout(function(){document.body.focus(),fn(e)},20))});qo&&(r.scroller.draggable=!0),e.state.draggingText=o,r.scroller.dragDrop&&r.scroller.dragDrop(),Qs(document,"mouseup",o),Qs(r.scroller,"drop",o)}function Sn(e,t,n,i,r){function o(t){if(0!=ls(m,t))if(m=t,"rect"==i){for(var r=[],o=e.options.tabSize,s=sa(br(u,n.line).text,n.ch,o),a=sa(br(u,t.line).text,t.ch,o),l=Math.min(s,a),p=Math.max(s,a),f=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));g>=f;f++){var v=br(u,f).text,y=Jr(v,l,o);l==p?r.push(new G(as(f,y),as(f,y))):v.length>y&&r.push(new G(as(f,y),as(f,Jr(v,p,o))))}r.length||r.push(new G(n,n)),lt(u,Y(h.ranges.slice(0,d).concat(r),d),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=c,_=b.anchor,w=t;if("single"!=i){if("double"==i)var x=fi(e,t);else var x=new G(as(t.line,0),Q(u,as(t.line+1,0)));ls(x.anchor,_)>0?(w=x.head,_=V(b.from(),x.anchor)):(w=x.anchor,_=q(b.to(),x.head))}var r=h.ranges.slice(0);r[d]=new G(Q(u,_),w),lt(u,Y(r,d),ra)}}function s(t){var n=++y,r=_n(e,t,!0,"rect"==i);if(r)if(0!=ls(r,m)){mn(e),o(r);var a=v(l,u);(r.line>=a.to||r.line<a.from)&&setTimeout(Qt(e,function(){y==n&&s(t)}),150)}else{var c=t.clientY<g.top?-20:t.clientY>g.bottom?20:0;c&&setTimeout(Qt(e,function(){y==n&&(l.scroller.scrollTop+=c,s(t))}),50)}}function a(t){y=1/0,Ys(t),fn(e),Js(document,"mousemove",b),Js(document,"mouseup",_),u.history.lastSelOrigin=null}var l=e.display,u=e.doc;Ys(t);var c,d,h=u.sel;if(r&&!t.shiftKey?(d=u.sel.contains(n),c=d>-1?u.sel.ranges[d]:new G(n,n)):c=u.sel.primary(),t.altKey)i="rect",r||(c=new G(n,n)),n=_n(e,t,!0,!0),d=-1;else if("double"==i){var p=fi(e,n);c=e.display.shift||u.extend?tt(u,c,p.anchor,p.head):p}else if("triple"==i){var f=new G(as(n.line,0),Q(u,as(n.line+1,0)));c=e.display.shift||u.extend?tt(u,c,f.anchor,f.head):f}else c=tt(u,c,n);r?d>-1?rt(u,d,c,ra):(d=u.sel.ranges.length,lt(u,Y(u.sel.ranges.concat([c]),d),{scroll:!1,origin:"*mouse"})):(d=0,lt(u,new $([c],0),ra),h=u.sel);var m=n,g=l.wrapper.getBoundingClientRect(),y=0,b=Qt(e,function(e){(Uo&&!Wo?e.buttons:qr(e))?s(e):a(e)}),_=Qt(e,a);Qs(document,"mousemove",b),Qs(document,"mouseup",_)}function Cn(e,t,n,i,r){try{var o=t.clientX,s=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&Ys(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(s>l.bottom||!Xr(e,n))return Br(t);s-=l.top-a.viewOffset;for(var u=0;u<e.options.gutters.length;++u){var c=a.gutters.childNodes[u];if(c&&c.getBoundingClientRect().right>=o){var d=Sr(e.doc,s),h=e.options.gutters[u];return r(e,n,e,d,h,t),Br(t)}}}function Tn(e,t){return Cn(e,t,"gutterClick",!0,Vr)}function En(e){var t=this;if(!Gr(t,e)&&!bn(t.display,e)){Ys(e),Uo&&(fs=+new Date);var n=_n(t,e,!0),i=e.dataTransfer.files;if(n&&!gn(t))if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),s=0,a=function(e,i){var a=new FileReader;a.onload=Qt(t,function(){if(o[i]=a.result,++s==r){n=Q(t.doc,n);var e={from:n,to:n,text:ya(o.join("\n")),origin:"paste"};Xn(t.doc,e),at(t.doc,X(n,bs(e)))}}),a.readAsText(e)},l=0;r>l;++l)a(i[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(oo(fn,t),20);try{var o=e.dataTransfer.getData("Text");if(o){if(t.state.draggingText&&!(es?e.metaKey:e.ctrlKey))var u=t.listSelections();if(ut(t.doc,X(n,n)),u)for(var l=0;l<u.length;++l)ti(t.doc,"",u[l].anchor,u[l].head,"drag");t.replaceSelection(o,"around","paste"),fn(t)}}catch(e){}}}}function Mn(e,t){if(Uo&&(!e.state.draggingText||+new Date-fs<100))return void Ks(t);if(!Gr(e,t)&&!bn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!Yo)){var n=uo("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Go&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Go&&n.parentNode.removeChild(n)}}function An(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,Do||x(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbarV.scrollTop!=t&&(e.display.scrollbarV.scrollTop=t),Do&&x(e),yt(e,100))}function jn(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,y(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbarH.scrollLeft!=t&&(e.display.scrollbarH.scrollLeft=t))}function Nn(e,t){var n=t.wheelDeltaX,i=t.wheelDeltaY;null==n&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(n=t.detail),null==i&&t.detail&&t.axis==t.VERTICAL_AXIS?i=t.detail:null==i&&(i=t.wheelDelta);var r=e.display,o=r.scroller;if(n&&o.scrollWidth>o.clientWidth||i&&o.scrollHeight>o.clientHeight){if(i&&es&&qo)e:for(var s=t.target,a=r.view;s!=o;s=s.parentNode)for(var l=0;l<a.length;l++)if(a[l].node==s){e.display.currentWheelTarget=s;break e}if(n&&!Do&&!Go&&null!=gs)return i&&An(e,Math.max(0,Math.min(o.scrollTop+i*gs,o.scrollHeight-o.clientHeight))),jn(e,Math.max(0,Math.min(o.scrollLeft+n*gs,o.scrollWidth-o.clientWidth))),Ys(t),void(r.wheelStartX=null);if(i&&null!=gs){var u=i*gs,c=e.doc.scrollTop,d=c+r.wrapper.clientHeight;0>u?c=Math.max(0,c+u-50):d=Math.min(e.doc.height,d+u+50),x(e,{top:c,bottom:d})}20>ms&&(null==r.wheelStartX?(r.wheelStartX=o.scrollLeft,r.wheelStartY=o.scrollTop,r.wheelDX=n,r.wheelDY=i,setTimeout(function(){if(null!=r.wheelStartX){var e=o.scrollLeft-r.wheelStartX,t=o.scrollTop-r.wheelStartY,n=t&&r.wheelDY&&t/r.wheelDY||e&&r.wheelDX&&e/r.wheelDX;r.wheelStartX=r.wheelStartY=null,n&&(gs=(gs*ms+n)/(ms+1),++ms)}},200)):(r.wheelDX+=n,r.wheelDY+=i))}}function Pn(e,t,n){if("string"==typeof t&&(t=js[t],!t))return!1;e.display.pollingFast&&hn(e)&&(e.display.pollingFast=!1);var i=e.display.shift,r=!1;try{gn(e)&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=na}finally{e.display.shift=i,e.state.suppressEdits=!1}return r}function Ln(e){var t=e.state.keyMaps.slice(0);return e.options.extraKeys&&t.push(e.options.extraKeys),t.push(e.options.keyMap),t}function In(e,t){var n=gi(e.options.keyMap),i=n.auto;clearTimeout(vs),i&&!Ls(t)&&(vs=setTimeout(function(){gi(e.options.keyMap)==n&&(e.options.keyMap=i.call?i.call(null,e):i,a(e))},50));var r=Is(t,!0),o=!1;if(!r)return!1;var s=Ln(e);return o=t.shiftKey?Ps("Shift-"+r,s,function(t){return Pn(e,t,!0)})||Ps(r,s,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?Pn(e,t):void 0}):Ps(r,s,function(t){return Pn(e,t)}),o&&(Ys(t),vt(e),Vr(e,"keyHandled",e,r,t)),o}function On(e,t,n){var i=Ps("'"+n+"'",Ln(e),function(t){return Pn(e,t,!0)});return i&&(Ys(t),vt(e),Vr(e,"keyHandled",e,"'"+n+"'",t)),i}function Fn(e){var t=this;if(mn(t),!Gr(t,e)){Ro&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=In(t,e);Go&&(ys=i?n:null,!i&&88==n&&!_a&&(es?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Dn(t)}}function Dn(e){function t(e){18!=e.keyCode&&e.altKey||(go(n,"CodeMirror-crosshair"),Js(document,"keyup",t),Js(document,"mouseover",t))}var n=e.display.lineDiv;vo(n,"CodeMirror-crosshair"),Qs(document,"keyup",t),Qs(document,"mouseover",t)}function Rn(e){Gr(this,e)||16==e.keyCode&&(this.doc.sel.shift=!1)}function zn(e){var t=this;if(!Gr(t,e)){var n=e.keyCode,i=e.charCode;if(Go&&n==ys)return ys=null,void Ys(e);if(!(Go&&(!e.which||e.which<10)||Xo)||!In(t,e)){var r=String.fromCharCode(null==i?n:i);On(t,e,r)||(Uo&&!Ho&&(t.display.inputHasSelection=null),dn(t))}}}function Hn(e){"nocursor"!=e.options.readOnly&&(e.state.focused||(Zs(e,"focus",e),e.state.focused=!0,vo(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(pn(e),qo&&setTimeout(oo(pn,e,!0),0))),cn(e),vt(e))}function Wn(e){e.state.focused&&(Zs(e,"blur",e),e.state.focused=!1,go(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150)}function Bn(e,t){function n(){if(null!=r.input.selectionStart){var t=e.somethingSelected(),n=r.input.value="\u200b"+(t?r.input.value:"");r.prevInput=t?"":"\u200b",r.input.selectionStart=1,r.input.selectionEnd=n.length,r.selForContextMenu=e.doc.sel}}function i(){if(r.inputDiv.style.position="relative",r.input.style.cssText=l,Ho&&(r.scrollbarV.scrollTop=r.scroller.scrollTop=s),cn(e),null!=r.input.selectionStart){(!Uo||Ho)&&n();var t=0,i=function(){r.selForContextMenu==e.doc.sel&&0==r.input.selectionStart?Qt(e,js.selectAll)(e):t++<10?r.detectingSelectAll=setTimeout(i,500):pn(e)};r.detectingSelectAll=setTimeout(i,200)}}if(!Gr(e,t,"contextmenu")){var r=e.display;if(!bn(r,t)&&!Un(e,t)){var o=_n(e,t),s=r.scroller.scrollTop;if(o&&!Go){var a=e.options.resetSelectionOnContextMenu;a&&-1==e.doc.sel.contains(o)&&Qt(e,lt)(e.doc,X(o),ia);var l=r.input.style.cssText;if(r.inputDiv.style.position="absolute",r.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: "+(Uo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",fn(e),pn(e),e.somethingSelected()||(r.input.value=r.prevInput=" "),r.selForContextMenu=e.doc.sel,clearTimeout(r.detectingSelectAll),Uo&&!Ho&&n(),rs){Ks(t);var u=function(){Js(window,"mouseup",u),setTimeout(i,20)};Qs(window,"mouseup",u)}else setTimeout(i,50)}}}}function Un(e,t){return Xr(e,"gutterContextMenu")?Cn(e,t,"gutterContextMenu",!1,Zs):!1}function qn(e,t){if(ls(e,t.from)<0)return e;if(ls(e,t.to)<=0)return bs(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=bs(t).ch-t.to.ch),as(n,i)}function Vn(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new G(qn(r.anchor,t),qn(r.head,t)))}return Y(n,e.sel.primIndex)}function $n(e,t,n){return e.line==t.line?as(n.line,e.ch-t.ch+n.ch):as(n.line+(e.line-t.line),e.ch)}function Gn(e,t,n){for(var i=[],r=as(e.first,0),o=r,s=0;s<t.length;s++){var a=t[s],l=$n(a.from,r,o),u=$n(bs(a),r,o);if(r=a.to,o=u,"around"==n){var c=e.sel.ranges[s],d=ls(c.head,c.anchor)<0;i[s]=new G(d?u:l,d?l:u)}else i[s]=new G(l,l)}return new $(i,e.sel.primIndex)}function Yn(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(i.update=function(t,n,i,r){t&&(this.from=Q(e,t)),n&&(this.to=Q(e,n)),i&&(this.text=i),void 0!==r&&(this.origin=r)}),Zs(e,"beforeChange",e,i),e.cm&&Zs(e.cm,"beforeChange",e.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Xn(e,t,n){if(e.cm){if(!e.cm.curOp)return Qt(e.cm,Xn)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Xr(e,"beforeChange")||e.cm&&Xr(e.cm,"beforeChange"))||(t=Yn(e,t,!0))){var i=os&&!n&&Ni(e,t.from,t.to);if(i)for(var r=i.length-1;r>=0;--r)Kn(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text});else Kn(e,t)}}function Kn(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ls(t.from,t.to)){var n=Vn(e,t);Nr(e,t,n,e.cm?e.cm.curOp.id:0/0),Zn(e,t,n,Mi(e,t));var i=[];vr(e,function(e,n){n||-1!=to(i,e.history)||(Wr(e.history,t),i.push(e.history)),Zn(e,t,null,Mi(e,t))})}}function Qn(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var i,r=e.history,o=e.sel,s="undo"==t?r.done:r.undone,a="undo"==t?r.undone:r.done,l=0;l<s.length&&(i=s[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;i=s.pop(),i.ranges;){if(Ir(i,a),n&&!i.equals(e.sel))return void lt(e,i,{clearRedo:!1});o=i}var u=[];Ir(o,a),a.push({changes:u,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;for(var c=Xr(e,"beforeChange")||e.cm&&Xr(e.cm,"beforeChange"),l=i.changes.length-1;l>=0;--l){var d=i.changes[l];if(d.origin=t,c&&!Yn(e,d,!1))return void(s.length=0);u.push(Mr(e,d));var h=l?Vn(e,d,null):eo(s);Zn(e,d,h,ji(e,d)),!l&&e.cm&&e.cm.scrollIntoView(d);var p=[];vr(e,function(e,t){t||-1!=to(p,e.history)||(Wr(e.history,d),p.push(e.history)),Zn(e,d,null,ji(e,d))})}}}}function Jn(e,t){if(0!=t&&(e.first+=t,e.sel=new $(no(e.sel.ranges,function(e){return new G(as(e.anchor.line+t,e.anchor.ch),as(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){nn(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)rn(e.cm,i,"gutter")}}function Zn(e,t,n,i){if(e.cm&&!e.cm.curOp)return Qt(e.cm,Zn)(e,t,n,i);if(t.to.line<e.first)return void Jn(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);Jn(e,r),t={from:as(e.first,0),to:as(t.to.line+r,t.to.ch),text:[eo(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:as(o,br(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=_r(e,t.from,t.to),n||(n=Vn(e,t,null)),e.cm?ei(e.cm,t,i):fr(e,t,i),ut(e,n,ia)}}function ei(e,t,n){var i=e.doc,r=e.display,s=t.from,a=t.to,l=!1,u=s.line;e.options.lineWrapping||(u=kr(Wi(br(i,s.line))),i.iter(u,a.line+1,function(e){return e==r.maxLine?(l=!0,!0):void 0})),i.sel.contains(t.from,t.to)>-1&&Yr(e),fr(i,t,n,o(e)),e.options.lineWrapping||(i.iter(u,s.line+t.text.length,function(e){var t=h(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,s.line),yt(e,400);var c=t.text.length-(a.line-s.line)-1;s.line!=a.line||1!=t.text.length||pr(e.doc,t)?nn(e,s.line,a.line+1,c):rn(e,s.line,"text");var d=Xr(e,"changes"),p=Xr(e,"change");if(p||d){var f={from:s,to:a,text:t.text,removed:t.removed,origin:t.origin};p&&Vr(e,"change",e,f),d&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}function ti(e,t,n,i,r){if(i||(i=n),ls(i,n)<0){var o=i;i=n,n=o}"string"==typeof t&&(t=ya(t)),Xn(e,{from:n,to:i,text:t,origin:r})}function ni(e,t){var n=e.display,i=n.sizer.getBoundingClientRect(),r=null;if(t.top+i.top<0?r=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!Qo){var o=uo("div","\u200b",null,"position: absolute; top: "+(t.top-n.viewOffset-xt(e.display))+"px; height: "+(t.bottom-t.top+ta)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}function ii(e,t,n,i){for(null==i&&(i=0);;){var r=!1,o=Wt(e,t),s=n&&n!=t?Wt(e,n):o,a=oi(e,Math.min(o.left,s.left),Math.min(o.top,s.top)-i,Math.max(o.left,s.left),Math.max(o.bottom,s.bottom)+i),l=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=a.scrollTop&&(An(e,a.scrollTop),Math.abs(e.doc.scrollTop-l)>1&&(r=!0)),null!=a.scrollLeft&&(jn(e,a.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(r=!0)),!r)return o}}function ri(e,t,n,i,r){var o=oi(e,t,n,i,r);null!=o.scrollTop&&An(e,o.scrollTop),null!=o.scrollLeft&&jn(e,o.scrollLeft)}function oi(e,t,n,i,r){var o=e.display,s=$t(e.display);0>n&&(n=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=o.scroller.clientHeight-ta,u={},c=e.doc.height+kt(o),d=s>n,h=r>c-s;if(a>n)u.scrollTop=d?0:n;else if(r>a+l){var p=Math.min(n,(h?c:r)-l);p!=a&&(u.scrollTop=p)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,m=o.scroller.clientWidth-ta;t+=o.gutters.offsetWidth,i+=o.gutters.offsetWidth;var g=o.gutters.offsetWidth,v=g+10>t;return f+g>t||v?(v&&(t=0),u.scrollLeft=Math.max(0,t-10-g)):i>m+f-3&&(u.scrollLeft=i+10-m),u}function si(e,t,n){(null!=t||null!=n)&&li(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function ai(e){li(e);var t=e.getCursor(),n=t,i=t;e.options.lineWrapping||(n=t.ch?as(t.line,t.ch-1):t,i=as(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:i,margin:e.options.cursorScrollMargin,isCursor:!0}}function li(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=Bt(e,t.from),i=Bt(e,t.to),r=oi(e,Math.min(n.left,i.left),Math.min(n.top,i.top)-t.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+t.margin);e.scrollTo(r.scrollLeft,r.scrollTop)}}function ui(e,t,n,i){var r,o=e.doc;null==n&&(n="add"),"smart"==n&&(e.doc.mode.indent?r=wt(e,t):n="prev");var s=e.options.tabSize,a=br(o,t),l=sa(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var u,c=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&(u=e.doc.mode.indent(r,a.text.slice(c.length),a.text),u==na)){if(!i)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>o.first?sa(br(o,t-1).text,null,s):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var d="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(u/s);p;--p)h+=s,d+="	";if(u>h&&(d+=Zr(u-h)),d!=c)ti(e.doc,d,as(t,0),as(t,c.length),"+input");else for(var p=0;p<o.sel.ranges.length;p++){var f=o.sel.ranges[p];if(f.head.line==t&&f.head.ch<c.length){var h=as(t,c.length);rt(o,p,new G(h,h));break}}a.stateAfter=null}function ci(e,t,n,i){var r=t,o=t,s=e.doc;return"number"==typeof t?o=br(s,K(s,t)):r=kr(t),null==r?null:(i(o,r)&&rn(e,r,n),o)}function di(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=t(n[r]);i.length&&ls(o.from,eo(i).to)<=0;){var s=i.pop();if(ls(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}Kt(e,function(){for(var t=i.length-1;t>=0;t--)ti(e.doc,"",i[t].from,i[t].to,"+delete");ai(e)})}function hi(e,t,n,i,r){function o(){var t=a+n;return t<e.first||t>=e.first+e.size?d=!1:(a=t,c=br(e,t))}function s(e){var t=(r?Oo:Fo)(c,l,n,!0);if(null==t){if(e||!o())return d=!1;l=r?(0>n?Ao:Mo)(c):0>n?c.text.length:0}else l=t;return!0}var a=t.line,l=t.ch,u=n,c=br(e,a),d=!0;if("char"==i)s();else if("column"==i)s(!0);else if("word"==i||"group"==i)for(var h=null,p="group"==i,f=e.cm&&e.cm.getHelper(t,"wordChars"),m=!0;!(0>n)||s(!m);m=!1){var g=c.text.charAt(l)||"\n",v=so(g,f)?"w":p&&"\n"==g?"n":!p||/\s/.test(g)?null:"p";if(!p||m||v||(v="s"),h&&h!=v){0>n&&(n=1,s());break}if(v&&(h=v),n>0&&!s(!m))break}var y=pt(e,as(a,l),u,!0);return d||(y.hitSide=!0),y}function pi(e,t,n,i){var r,o=e.doc,s=t.left;if("page"==i){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=t.top+n*(a-(0>n?1.5:.5)*$t(e.display))}else"line"==i&&(r=n>0?t.bottom+3:t.top-3);for(;;){var l=qt(e,s,r);if(!l.outside)break;if(0>n?0>=r:r>=o.height){l.hitSide=!0;break}r+=5*n}return l}function fi(e,t){var n=e.doc,i=br(n,t.line).text,r=t.ch,o=t.ch;if(i){var s=e.getHelper(t,"wordChars");(t.xRel<0||o==i.length)&&r?--r:++o;for(var a=i.charAt(r),l=so(a,s)?function(e){return so(e,s)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!so(e)};r>0&&l(i.charAt(r-1));)--r;for(;o<i.length&&l(i.charAt(o));)++o}return new G(as(t.line,r),as(t.line,o))}function mi(t,n,i,r){e.defaults[t]=n,i&&(ws[t]=r?function(e,t,n){n!=xs&&i(e,t,n)}:i)}function gi(e){return"string"==typeof e?Ns[e]:e}function vi(e,t,n,i,r){if(i&&i.shared)return yi(e,t,n,i,r);if(e.cm&&!e.cm.curOp)return Qt(e.cm,vi)(e,t,n,i,r);var o=new Fs(e,r),s=ls(t,n);if(i&&ro(i,o,!1),s>0||0==s&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=uo("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||(o.widgetNode.ignoreEvents=!0),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Hi(e,t.line,t,n,o)||t.line!=n.line&&Hi(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");ss=!0}o.addToHistory&&Nr(e,{from:t,to:n,origin:"markText"},e.sel,0/0);var a,l=t.line,u=e.cm;if(e.iter(l,n.line+1,function(e){u&&o.collapsed&&!u.options.lineWrapping&&Wi(e)==u.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&xr(e,0),Ci(e,new xi(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&e.iter(t.line,n.line+1,function(t){Vi(e,t)&&xr(t,0)}),o.clearOnEnter&&Qs(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(os=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++Ds,o.atomic=!0),u){if(a&&(u.curOp.updateMaxLine=!0),o.collapsed)nn(u,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle)for(var c=t.line;c<=n.line;c++)rn(u,c,"text");o.atomic&&dt(u.doc),Vr(u,"markerAdded",u,o)}return o}function yi(e,t,n,i,r){i=ro(i),i.shared=!1;var o=[vi(e,t,n,i,r)],s=o[0],a=i.widgetNode;return vr(e,function(e){a&&(i.widgetNode=a.cloneNode(!0)),o.push(vi(e,Q(e,t),Q(e,n),i,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=eo(o)}),new Rs(o,s)}function bi(e){return e.findMarks(as(e.first,0),e.clipPos(as(e.lastLine())),function(e){return e.parent})}function _i(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find(),o=e.clipPos(r.from),s=e.clipPos(r.to);if(ls(o,s)){var a=vi(e,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}function wi(e){for(var t=0;t<e.length;t++){var n=e[t],i=[n.primary.doc];vr(n.primary.doc,function(e){i.push(e)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==to(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}}}function xi(e,t,n){this.marker=e,this.from=t,this.to=n}function ki(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function Si(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function Ci(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Ti(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);if(a||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push(new xi(s,o.from,l?null:o.to))}}return i}function Ei(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);if(a||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push(new xi(s,l?null:o.from-t,null==o.to?null:o.to-t))}}return i}function Mi(e,t){var n=Z(e,t.from.line)&&br(e,t.from.line).markedSpans,i=Z(e,t.to.line)&&br(e,t.to.line).markedSpans;if(!n&&!i)return null;var r=t.from.ch,o=t.to.ch,s=0==ls(t.from,t.to),a=Ti(n,r,s),l=Ei(i,o,s),u=1==t.text.length,c=eo(t.text).length+(u?r:0);if(a)for(var d=0;d<a.length;++d){var h=a[d];if(null==h.to){var p=ki(l,h.marker);p?u&&(h.to=null==p.to?null:p.to+c):h.to=r}}if(l)for(var d=0;d<l.length;++d){var h=l[d];if(null!=h.to&&(h.to+=c),null==h.from){var p=ki(a,h.marker);p||(h.from=c,u&&(a||(a=[])).push(h))}else h.from+=c,u&&(a||(a=[])).push(h)}a&&(a=Ai(a)),l&&l!=a&&(l=Ai(l));var f=[a];if(!u){var m,g=t.text.length-2;if(g>0&&a)for(var d=0;d<a.length;++d)null==a[d].to&&(m||(m=[])).push(new xi(a[d].marker,null,null));for(var d=0;g>d;++d)f.push(m);f.push(l)}return f}function Ai(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function ji(e,t){var n=Dr(e,t),i=Mi(e,t);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else s&&(n[r]=s)}return n}function Ni(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&-1!=to(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:t,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<r.length;++l){var u=r[l];if(!(ls(u.to,a.from)<0||ls(u.from,a.to)>0)){var c=[l,1],d=ls(u.from,a.from),h=ls(u.to,a.to);(0>d||!s.inclusiveLeft&&!d)&&c.push({from:u.from,to:a.from}),(h>0||!s.inclusiveRight&&!h)&&c.push({from:a.to,to:u.to}),r.splice.apply(r,c),l+=c.length-1}}return r}function Pi(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Li(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Ii(e){return e.inclusiveLeft?-1:0}function Oi(e){return e.inclusiveRight?1:0}function Fi(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),r=t.find(),o=ls(i.from,r.from)||Ii(e)-Ii(t);if(o)return-o;var s=ls(i.to,r.to)||Oi(e)-Oi(t);return s?s:t.id-e.id}function Di(e,t){var n,i=ss&&e.markedSpans;
if(i)for(var r,o=0;o<i.length;++o)r=i[o],r.marker.collapsed&&null==(t?r.from:r.to)&&(!n||Fi(n,r.marker)<0)&&(n=r.marker);return n}function Ri(e){return Di(e,!0)}function zi(e){return Di(e,!1)}function Hi(e,t,n,i,r){var o=br(e,t),s=ss&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var u=l.marker.find(0),c=ls(u.from,n)||Ii(l.marker)-Ii(r),d=ls(u.to,i)||Oi(l.marker)-Oi(r);if(!(c>=0&&0>=d||0>=c&&d>=0)&&(0>=c&&(ls(u.to,n)||Oi(l.marker)-Ii(r))>0||c>=0&&(ls(u.from,i)||Ii(l.marker)-Oi(r))<0))return!0}}}function Wi(e){for(var t;t=Ri(e);)e=t.find(-1,!0).line;return e}function Bi(e){for(var t,n;t=zi(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function Ui(e,t){var n=br(e,t),i=Wi(n);return n==i?t:kr(i)}function qi(e,t){if(t>e.lastLine())return t;var n,i=br(e,t);if(!Vi(e,i))return t;for(;n=zi(i);)i=n.find(1,!0).line;return kr(i)+1}function Vi(e,t){var n=ss&&t.markedSpans;if(n)for(var i,r=0;r<n.length;++r)if(i=n[r],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&$i(e,t,i))return!0}}function $i(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return $i(e,i.line,ki(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r,o=0;o<t.markedSpans.length;++o)if(r=t.markedSpans[o],r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&$i(e,t,r))return!0}function Gi(e,t,n){Cr(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&si(e,null,n)}function Yi(e){return null!=e.height?e.height:(po(document.body,e.node)||ho(e.cm.display.measure,uo("div",[e.node],null,"position: relative")),e.height=e.node.offsetHeight)}function Xi(e,t,n,i){var r=new zs(e,n,i);return r.noHScroll&&(e.display.alignWidgets=!0),ci(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,!Vi(e.doc,t)){var i=Cr(t)<e.doc.scrollTop;xr(t,t.height+Yi(r)),i&&si(e,null,r.height),e.curOp.forceUpdate=!0}return!0}),r}function Ki(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Pi(e),Li(e,n);var r=i?i(e):1;r!=e.height&&xr(e,r)}function Qi(e){e.parent=null,Pi(e)}function Ji(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function Zi(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var i=e.innerMode(t,n);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function er(e,t,n){for(var i=0;10>i;i++){var r=e.token(t,n);if(t.pos>t.start)return r}throw new Error("Mode "+e.name+" failed to advance stream.")}function tr(t,n,i,r,o,s,a){var l=i.flattenSpans;null==l&&(l=t.options.flattenSpans);var u,c=0,d=null,h=new Os(n,t.options.tabSize);for(""==n&&Ji(Zi(i,r),s);!h.eol();){if(h.pos>t.options.maxHighlightLength?(l=!1,a&&rr(t,n,r,h.pos),h.pos=n.length,u=null):u=Ji(er(i,h,r),s),t.options.addModeClass){var p=e.innerMode(i,r).mode.name;p&&(u="m-"+(u?p+" "+u:p))}l&&d==u||(c<h.start&&o(h.start,d),c=h.start,d=u),h.start=h.pos}for(;c<h.pos;){var f=Math.min(h.pos,c+5e4);o(f,d),c=f}}function nr(e,t,n,i){var r=[e.state.modeGen],o={};tr(e,t.text,e.doc.mode,n,function(e,t){r.push(e,t)},o,i);for(var s=0;s<e.state.overlays.length;++s){var a=e.state.overlays[s],l=1,u=0;tr(e,t.text,a.mode,!0,function(e,t){for(var n=l;e>u;){var i=r[l];i>e&&r.splice(l,1,e,r[l+1],i),l+=2,u=Math.min(e,i)}if(t)if(a.opaque)r.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:r,classes:o.bgClass||o.textClass?o:null}}function ir(e,t){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=nr(e,t,t.stateAfter=wt(e,kr(t)));t.styles=n.styles,n.classes?t.styleClasses=n.classes:t.styleClasses&&(t.styleClasses=null)}return t.styles}function rr(e,t,n,i){var r=e.doc.mode,o=new Os(t,e.options.tabSize);for(o.start=o.pos=i||0,""==t&&Zi(r,n);!o.eol()&&o.pos<=e.options.maxHighlightLength;)er(r,o,n),o.start=o.pos}function or(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Bs:Ws;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function sr(e,t){var n=uo("span",null,null,qo?"padding-right: .1px":null),i={pre:uo("pre",[n]),content:n,col:0,pos:0,cm:e};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o,s=r?t.rest[r-1]:t.line;i.pos=0,i.addToken=lr,(Uo||qo)&&e.getOption("lineWrapping")&&(i.addToken=ur(i.addToken)),So(e.display.measure)&&(o=Tr(s))&&(i.addToken=cr(i.addToken,o)),i.map=[],hr(s,i,ir(e,s)),s.styleClasses&&(s.styleClasses.bgClass&&(i.bgClass=yo(s.styleClasses.bgClass,i.bgClass||"")),s.styleClasses.textClass&&(i.textClass=yo(s.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(ko(e.display.measure))),0==r?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return Zs(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=yo(i.pre.className,i.textClass||"")),i}function ar(e){var t=uo("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t}function lr(e,t,n,i,r,o){if(t){var s=e.cm.options.specialChars,a=!1;if(s.test(t))for(var l=document.createDocumentFragment(),u=0;;){s.lastIndex=u;var c=s.exec(t),d=c?c.index-u:t.length-u;if(d){var h=document.createTextNode(t.slice(u,u+d));l.appendChild(Ho?uo("span",[h]):h),e.map.push(e.pos,e.pos+d,h),e.col+=d,e.pos+=d}if(!c)break;if(u+=d+1,"	"==c[0]){var p=e.cm.options.tabSize,f=p-e.col%p,h=l.appendChild(uo("span",Zr(f),"cm-tab"));e.col+=f}else{var h=e.cm.options.specialCharPlaceholder(c[0]);l.appendChild(Ho?uo("span",[h]):h),e.col+=1}e.map.push(e.pos,e.pos+1,h),e.pos++}else{e.col+=t.length;var l=document.createTextNode(t);e.map.push(e.pos,e.pos+t.length,l),Ho&&(a=!0),e.pos+=t.length}if(n||i||r||a){var m=n||"";i&&(m+=i),r&&(m+=r);var g=uo("span",[l],m);return o&&(g.title=o),e.content.appendChild(g)}e.content.appendChild(l)}}function ur(e){function t(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":"\xa0";return t+=" "}return function(n,i,r,o,s,a){e(n,i.replace(/ {3,}/g,t),r,o,s,a)}}function cr(e,t){return function(n,i,r,o,s,a){r=r?r+" cm-force-border":"cm-force-border";for(var l=n.pos,u=l+i.length;;){for(var c=0;c<t.length;c++){var d=t[c];if(d.to>l&&d.from<=l)break}if(d.to>=u)return e(n,i,r,o,s,a);e(n,i.slice(0,d.to-l),r,o,null,a),o=null,i=i.slice(d.to-l),l=d.to}}}function dr(e,t,n,i){var r=!i&&n.widgetNode;r&&(e.map.push(e.pos,e.pos+t,r),e.content.appendChild(r)),e.pos+=t}function hr(e,t,n){var i=e.markedSpans,r=e.text,o=0;if(i)for(var s,a,l,u,c,d,h=r.length,p=0,f=1,m="",g=0;;){if(g==p){a=l=u=c="",d=null,g=1/0;for(var v=[],y=0;y<i.length;++y){var b=i[y],_=b.marker;b.from<=p&&(null==b.to||b.to>p)?(null!=b.to&&g>b.to&&(g=b.to,l=""),_.className&&(a+=" "+_.className),_.startStyle&&b.from==p&&(u+=" "+_.startStyle),_.endStyle&&b.to==g&&(l+=" "+_.endStyle),_.title&&!c&&(c=_.title),_.collapsed&&(!d||Fi(d.marker,_)<0)&&(d=b)):b.from>p&&g>b.from&&(g=b.from),"bookmark"==_.type&&b.from==p&&_.widgetNode&&v.push(_)}if(d&&(d.from||0)==p&&(dr(t,(null==d.to?h+1:d.to)-p,d.marker,null==d.from),null==d.to))return;if(!d&&v.length)for(var y=0;y<v.length;++y)dr(t,0,v[y])}if(p>=h)break;for(var w=Math.min(h,g);;){if(m){var x=p+m.length;if(!d){var k=x>w?m.slice(0,w-p):m;t.addToken(t,k,s?s+a:a,u,p+k.length==g?l:"",c)}if(x>=w){m=m.slice(w-p),p=w;break}p=x,u=""}m=r.slice(o,o=n[f++]),s=or(n[f++],t.cm.options)}}else for(var f=1;f<n.length;f+=2)t.addToken(t,r.slice(o,o=n[f]),or(n[f+1],t.cm.options))}function pr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==eo(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function fr(e,t,n,i){function r(e){return n?n[e]:null}function o(e,n,r){Ki(e,n,r,i),Vr(e,"change",e,t)}var s=t.from,a=t.to,l=t.text,u=br(e,s.line),c=br(e,a.line),d=eo(l),h=r(l.length-1),p=a.line-s.line;if(pr(e,t)){for(var f=0,m=[];f<l.length-1;++f)m.push(new Hs(l[f],r(f),i));o(c,c.text,h),p&&e.remove(s.line,p),m.length&&e.insert(s.line,m)}else if(u==c)if(1==l.length)o(u,u.text.slice(0,s.ch)+d+u.text.slice(a.ch),h);else{for(var m=[],f=1;f<l.length-1;++f)m.push(new Hs(l[f],r(f),i));m.push(new Hs(d+u.text.slice(a.ch),h,i)),o(u,u.text.slice(0,s.ch)+l[0],r(0)),e.insert(s.line+1,m)}else if(1==l.length)o(u,u.text.slice(0,s.ch)+l[0]+c.text.slice(a.ch),r(0)),e.remove(s.line+1,p);else{o(u,u.text.slice(0,s.ch)+l[0],r(0)),o(c,d+c.text.slice(a.ch),h);for(var f=1,m=[];f<l.length-1;++f)m.push(new Hs(l[f],r(f),i));p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,m)}Vr(e,"change",e,t)}function mr(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function gr(e){this.children=e;for(var t=0,n=0,i=0;i<e.length;++i){var r=e[i];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}function vr(e,t,n){function i(e,r,o){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;(!n||l)&&(t(a.doc,l),i(a.doc,e,l))}}}i(e,null,!0)}function yr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,s(e),n(e),e.options.lineWrapping||p(e),e.options.mode=t.modeOption,nn(e)}function br(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(o>t){n=r;break}t-=o}return n.lines[t]}function _r(e,t,n){var i=[],r=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;r==n.line&&(o=o.slice(0,n.ch)),r==t.line&&(o=o.slice(t.ch)),i.push(o),++r}),i}function wr(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function xr(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function kr(e){if(null==e.parent)return null;for(var t=e.parent,n=to(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n+t.first}function Sr(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var r=e.children[i],o=r.height;if(o>t){e=r;continue e}t-=o,n+=r.chunkSize()}return n}while(!e.lines);for(var i=0;i<e.lines.length;++i){var s=e.lines[i],a=s.height;if(a>t)break;t-=a}return n+i}function Cr(e){e=Wi(e);for(var t=0,n=e.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e)break;t+=r.height}for(var o=n.parent;o;n=o,o=n.parent)for(var i=0;i<o.children.length;++i){var s=o.children[i];if(s==n)break;t+=s.height}return t}function Tr(e){var t=e.order;return null==t&&(t=e.order=ka(e.text)),t}function Er(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Mr(e,t){var n={from:U(t.from),to:bs(t),text:_r(e,t.from,t.to)};return Or(e,n,t.from.line,t.to.line+1),vr(e,function(e){Or(e,n,t.from.line,t.to.line+1)},!0),n}function Ar(e){for(;e.length;){var t=eo(e);if(!t.ranges)break;e.pop()}}function jr(e,t){return t?(Ar(e.done),eo(e.done)):e.done.length&&!eo(e.done).ranges?eo(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),eo(e.done)):void 0}function Nr(e,t,n,i){var r=e.history;r.undone.length=0;var o,s=+new Date;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=jr(r,r.lastOp==i))){var a=eo(o.changes);0==ls(t.from,t.to)&&0==ls(t.from,a.to)?a.to=bs(t):o.changes.push(Mr(e,t))}else{var l=eo(r.done);for(l&&l.ranges||Ir(e.sel,r.done),o={changes:[Mr(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=i,r.lastOrigin=r.lastSelOrigin=t.origin,a||Zs(e,"historyAdded")}function Pr(e,t,n,i){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Lr(e,t,n,i){var r=e.history,o=i&&i.origin;n==r.lastOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||Pr(e,o,eo(r.done),t))?r.done[r.done.length-1]=t:Ir(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastOp=n,i&&i.clearRedo!==!1&&Ar(r.undone)}function Ir(e,t){var n=eo(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Or(e,t,n,i){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function Fr(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Dr(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=0,r=[];i<t.text.length;++i)r.push(Fr(n[i]));return r}function Rr(e,t,n){for(var i=0,r=[];i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?$.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var u,c=s[l];if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&to(t,Number(u[1]))>-1&&(eo(a)[d]=c[d],delete c[d])}}}return r}function zr(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function Hr(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r],s=!0;if(o.ranges){o.copied||(o=e[r]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)zr(o.ranges[a].anchor,t,n,i),zr(o.ranges[a].head,t,n,i)}else{for(var a=0;a<o.changes.length;++a){var l=o.changes[a];if(n<l.from.line)l.from=as(l.from.line+i,l.from.ch),l.to=as(l.to.line+i,l.to.ch);else if(t<=l.to.line){s=!1;break}}s||(e.splice(0,r+1),r=0)}}}function Wr(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;Hr(e.done,n,i,r),Hr(e.undone,n,i,r)}function Br(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Ur(e){return e.target||e.srcElement}function qr(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),es&&e.ctrlKey&&1==t&&(t=3),t}function Vr(e,t){function n(e){return function(){e.apply(null,r)}}var i=e._handlers&&e._handlers[t];if(i){var r=Array.prototype.slice.call(arguments,2);Gs||(++ea,Gs=[],setTimeout($r,0));for(var o=0;o<i.length;++o)Gs.push(n(i[o]))}}function $r(){--ea;var e=Gs;Gs=null;for(var t=0;t<e.length;++t)e[t]()}function Gr(e,t,n){return Zs(e,n||t.type,e,t),Br(t)||t.codemirrorIgnore}function Yr(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==to(n,t[i])&&n.push(t[i])}function Xr(e,t){var n=e._handlers&&e._handlers[t];return n&&n.length>0}function Kr(e){e.prototype.on=function(e,t){Qs(this,e,t)},e.prototype.off=function(e,t){Js(this,e,t)}}function Qr(){this.id=null}function Jr(e,t,n){for(var i=0,r=0;;){var o=e.indexOf("	",i);-1==o&&(o=e.length);var s=o-i;if(o==e.length||r+s>=t)return i+Math.min(s,t-r);if(r+=o-i,r+=n-r%n,i=o+1,r>=t)return i}}function Zr(e){for(;aa.length<=e;)aa.push(eo(aa)+" ");return aa[e]}function eo(e){return e[e.length-1]}function to(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function no(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function io(e,t){var n;if(Object.create)n=Object.create(e);else{var i=function(){};i.prototype=e,n=new i}return t&&ro(t,n),n}function ro(e,t,n){t||(t={});for(var i in e)!e.hasOwnProperty(i)||n===!1&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function oo(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function so(e,t){return t?t.source.indexOf("\\w")>-1&&da(e)?!0:t.test(e):da(e)}function ao(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function lo(e){return e.charCodeAt(0)>=768&&ha.test(e)}function uo(e,t,n,i){var r=document.createElement(e);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function co(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function ho(e,t){return co(e).appendChild(t)}function po(e,t){if(e.contains)return e.contains(t);for(;t=t.parentNode;)if(t==e)return!0}function fo(){return document.activeElement}function mo(e){return new RegExp("\\b"+e+"\\b\\s*")}function go(e,t){var n=mo(t);n.test(e.className)&&(e.className=e.className.replace(n,""))}function vo(e,t){mo(t).test(e.className)||(e.className+=" "+t)}function yo(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)n[i]&&!mo(n[i]).test(t)&&(t+=" "+n[i]);return t}function bo(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&e(i)}}function _o(){ga||(wo(),ga=!0)}function wo(){var e;Qs(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,pa=null,bo(yn)},100))}),Qs(window,"blur",function(){bo(Wn)})}function xo(e){if(null!=pa)return pa;var t=uo("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return ho(e,t),t.offsetWidth&&(pa=t.offsetHeight-t.clientHeight),pa||0}function ko(e){if(null==fa){var t=uo("span","\u200b");ho(e,uo("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(fa=t.offsetWidth<=1&&t.offsetHeight>2&&!zo)}return fa?uo("span","\u200b"):uo("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px")}function So(e){if(null!=ma)return ma;var t=ho(e,document.createTextNode("A\u062eA")),n=ua(t,0,1).getBoundingClientRect();if(n.left==n.right)return!1;var i=ua(t,1,2).getBoundingClientRect();return ma=i.right-n.right<3}function Co(e,t,n,i){if(!e)return i(t,n,"ltr");for(var r=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(i(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr"),r=!0)}r||i(t,n,"ltr")}function To(e){return e.level%2?e.to:e.from}function Eo(e){return e.level%2?e.from:e.to}function Mo(e){var t=Tr(e);return t?To(t[0]):0}function Ao(e){var t=Tr(e);return t?Eo(eo(t)):e.text.length}function jo(e,t){var n=br(e.doc,t),i=Wi(n);i!=n&&(t=kr(i));var r=Tr(i),o=r?r[0].level%2?Ao(i):Mo(i):0;return as(t,o)}function No(e,t){for(var n,i=br(e.doc,t);n=zi(i);)i=n.find(1,!0).line,t=null;var r=Tr(i),o=r?r[0].level%2?Mo(i):Ao(i):i.text.length;return as(null==t?kr(i):t,o)}function Po(e,t,n){var i=e[0].level;return t==i?!0:n==i?!1:n>t}function Lo(e,t){xa=null;for(var n,i=0;i<e.length;++i){var r=e[i];if(r.from<t&&r.to>t)return i;if(r.from==t||r.to==t){if(null!=n)return Po(e,r.level,e[n].level)?(r.from!=r.to&&(xa=n),i):(r.from!=r.to&&(xa=i),n);n=i}}return n}function Io(e,t,n,i){if(!i)return t+n;do t+=n;while(t>0&&lo(e.text.charAt(t)));return t}function Oo(e,t,n,i){var r=Tr(e);if(!r)return Fo(e,t,n,i);for(var o=Lo(r,t),s=r[o],a=Io(e,t,s.level%2?-n:n,i);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return Lo(r,a)==o?a:(s=r[o+=n],n>0==s.level%2?s.to:s.from);if(s=r[o+=n],!s)return null;a=n>0==s.level%2?Io(e,s.to,-1,i):Io(e,s.from,1,i)}}function Fo(e,t,n,i){var r=t+n;if(i)for(;r>0&&lo(e.text.charAt(r));)r+=n;return 0>r||r>e.text.length?null:r}var Do=/gecko\/\d/i.test(navigator.userAgent),Ro=/MSIE \d/.test(navigator.userAgent),zo=Ro&&(null==document.documentMode||document.documentMode<8),Ho=Ro&&(null==document.documentMode||document.documentMode<9),Wo=Ro&&(null==document.documentMode||document.documentMode<10),Bo=/Trident\/([7-9]|\d{2,})\./.test(navigator.userAgent),Uo=Ro||Bo,qo=/WebKit\//.test(navigator.userAgent),Vo=qo&&/Qt\/\d+\.\d+/.test(navigator.userAgent),$o=/Chrome\//.test(navigator.userAgent),Go=/Opera\//.test(navigator.userAgent),Yo=/Apple Computer/.test(navigator.vendor),Xo=/KHTML\//.test(navigator.userAgent),Ko=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Qo=/PhantomJS/.test(navigator.userAgent),Jo=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Zo=Jo||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),es=Jo||/Mac/.test(navigator.platform),ts=/win/i.test(navigator.platform),ns=Go&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);ns&&(ns=Number(ns[1])),ns&&ns>=15&&(Go=!1,qo=!0);var is=es&&(Vo||Go&&(null==ns||12.11>ns)),rs=Do||Uo&&!Ho,os=!1,ss=!1,as=e.Pos=function(e,t){return this instanceof as?(this.line=e,void(this.ch=t)):new as(e,t)},ls=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch};$.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],i=e.ranges[t];if(0!=ls(n.anchor,i.anchor)||0!=ls(n.head,i.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new G(U(this.ranges[t].anchor),U(this.ranges[t].head));return new $(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(ls(t,i.from())>=0&&ls(e,i.to())<=0)return n}return-1}},G.prototype={from:function(){return V(this.anchor,this.head)},to:function(){return q(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var us,cs,ds,hs={left:0,right:0,top:0,bottom:0},ps=0,fs=0,ms=0,gs=null;Uo?gs=-.53:Do?gs=15:$o?gs=-.7:Yo&&(gs=-1/3);var vs,ys=null,bs=e.changeEnd=function(e){return e.text?as(e.from.line+e.text.length-1,eo(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),fn(this),dn(this)},setOption:function(e,t){var n=this.options,i=n[e];(n[e]!=t||"mode"==e)&&(n[e]=t,ws.hasOwnProperty(e)&&Qt(this,ws[e])(this,t,i))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](e)},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||"string"!=typeof t[n]&&t[n].name==e)return t.splice(n,1),!0},addOverlay:Jt(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,nn(this)}),removeOverlay:Jt(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var i=t[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return t.splice(n,1),this.state.modeGen++,void nn(this)}}),indentLine:Jt(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Z(this.doc,e)&&ui(this,e,t,n)}),indentSelection:Jt(function(e){for(var t=this.doc.sel.ranges,n=-1,i=0;i<t.length;i++){var r=t[i];if(r.empty())r.head.line>n&&(ui(this,r.head.line,e,!0),n=r.head.line,i==this.doc.sel.primIndex&&ai(this));else{var o=Math.max(n,r.from().line),s=r.to();n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var a=o;n>a;++a)ui(this,a,e)}}}),getTokenAt:function(e,t){var n=this.doc;e=Q(n,e);for(var i=wt(this,e.line,t),r=this.doc.mode,o=br(n,e.line),s=new Os(o.text,this.options.tabSize);s.pos<e.ch&&!s.eol();){s.start=s.pos;var a=er(r,s,i)}return{start:s.start,end:s.pos,string:s.current(),type:a||null,state:i}},getTokenTypeAt:function(e){e=Q(this.doc,e);var t,n=ir(this,br(this.doc,e.line)),i=0,r=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=i+r>>1;if((s?n[2*s-1]:0)>=o)r=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}i=s+1}}var a=t?t.indexOf("cm-overlay "):-1;return 0>a?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!Es.hasOwnProperty(t))return Es;var i=Es[t],r=this.getModeAt(e);if("string"==typeof r[t])i[r[t]]&&n.push(i[r[t]]);else if(r[t])for(var o=0;o<r[t].length;o++){var s=i[r[t][o]];s&&n.push(s)}else r.helperType&&i[r.helperType]?n.push(i[r.helperType]):i[r.name]&&n.push(i[r.name]);for(var o=0;o<i._global.length;o++){var a=i._global[o];a.pred(r,this)&&-1==to(n,a.val)&&n.push(a.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=K(n,null==e?n.first+n.size-1:e),wt(this,e+1,t)},cursorCoords:function(e,t){var n,i=this.doc.sel.primary();return n=null==e?i.head:"object"==typeof e?Q(this.doc,e):e?i.from():i.to(),Wt(this,n,t||"page")},charCoords:function(e,t){return Ht(this,Q(this.doc,e),t||"page")},coordsChar:function(e,t){return e=zt(this,e,t||"page"),qt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=zt(this,{top:e,left:0},t||"page").top,Sr(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n=!1,i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,n=!0);var r=br(this.doc,e);return Rt(this,r,{top:0,left:0},t||"page").top+(n?this.doc.height-Cr(r):0)},defaultTextHeight:function(){return $t(this.display)},defaultCharWidth:function(){return Gt(this.display)},setGutterMarker:Jt(function(e,t,n){return ci(this,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&ao(i)&&(e.gutterMarkers=null),!0})}),clearGutter:Jt(function(e){var t=this,n=t.doc,i=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,rn(t,i,"gutter"),ao(n.gutterMarkers)&&(n.gutterMarkers=null)),++i})}),addLineClass:Jt(function(e,t,n){return ci(this,e,"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"wrapClass";if(e[i]){if(new RegExp("(?:^|\\s)"+n+"(?:$|\\s)").test(e[i]))return!1;e[i]+=" "+n}else e[i]=n;return!0})}),removeLineClass:Jt(function(e,t,n){return ci(this,e,"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"wrapClass",r=e[i];if(!r)return!1;if(null==n)e[i]=null;else{var o=r.match(new RegExp("(?:^|\\s+)"+n+"(?:$|\\s+)"));if(!o)return!1;var s=o.index+o[0].length;e[i]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:Jt(function(e,t,n){return Xi(this,e,t,n)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if("number"==typeof e){if(!Z(this.doc,e))return null;var t=e;if(e=br(this.doc,e),!e)return null}else{var t=kr(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var o=this.display;e=Wt(this,Q(this.doc,e));var s=e.bottom,a=e.left;if(t.style.position="absolute",o.sizer.appendChild(t),"over"==i)s=e.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),a+t.offsetWidth>u&&(a=u-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==r?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&ri(this,a,s,a+t.offsetWidth,s+t.offsetHeight)},triggerOnKeyDown:Jt(Fn),triggerOnKeyPress:Jt(zn),triggerOnKeyUp:Jt(Rn),execCommand:function(e){return js.hasOwnProperty(e)?js[e](this):void 0},findPosH:function(e,t,n,i){var r=1;0>t&&(r=-1,t=-t);for(var o=0,s=Q(this.doc,e);t>o&&(s=hi(this.doc,s,r,n,i),!s.hitSide);++o);return s},moveH:Jt(function(e,t){var n=this;n.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?hi(n.doc,i.head,e,t,n.options.rtlMoveVisually):0>e?i.from():i.to()},oa)}),deleteH:Jt(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):di(this,function(n){var r=hi(i,n.head,e,t,!1);return 0>e?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(e,t,n,i){var r=1,o=i;0>t&&(r=-1,t=-t);for(var s=0,a=Q(this.doc,e);t>s;++s){var l=Wt(this,a,"div");if(null==o?o=l.left:l.left=o,a=pi(this,l,r,n),a.hitSide)break}return a},moveV:Jt(function(e,t){var n=this,i=this.doc,r=[],o=!n.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(s){if(o)return 0>e?s.from():s.to();var a=Wt(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=pi(n,a,e,t);return"page"==t&&s==i.sel.primary()&&si(n,null,Ht(n,l,"div").top-a.top),l},oa),r.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=r[s]}),toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?vo(this.display.cursorDiv,"CodeMirror-overwrite"):go(this.display.cursorDiv,"CodeMirror-overwrite"),Zs(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return fo()==this.display.input},scrollTo:Jt(function(e,t){(null!=e||null!=t)&&li(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller,t=ta;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-t,width:e.scrollWidth-t,clientHeight:e.clientHeight-t,clientWidth:e.clientWidth-t}},scrollIntoView:Jt(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:as(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)li(this),this.curOp.scrollToPos=e;else{var n=oi(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:Jt(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&It(this),this.curOp.forceUpdate=!0,Zs(this,"refresh",this)}),operation:function(e){return Kt(this,e)},refresh:Jt(function(){var e=this.display.cachedTextHeight;nn(this),this.curOp.forceUpdate=!0,Ot(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),d(this),(null==e||Math.abs(e-$t(this.display))>.5)&&s(this),Zs(this,"refresh",this)}),swapDoc:Jt(function(e){var t=this.doc;return t.cm=null,yr(this,e),Ot(this),pn(this),this.scrollTo(e.scrollLeft,e.scrollTop),Vr(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Kr(e);var _s=e.defaults={},ws=e.optionHandlers={},xs=e.Init={toString:function(){return"CodeMirror.Init"}};mi("value","",function(e,t){e.setValue(t)},!0),mi("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),mi("indentUnit",2,n,!0),mi("indentWithTabs",!1),mi("smartIndent",!0),mi("tabSize",4,function(e){i(e),Ot(e),nn(e)},!0),mi("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,function(e,t){e.options.specialChars=new RegExp(t.source+(t.test("	")?"":"|	"),"g"),e.refresh()},!0),mi("specialCharPlaceholder",ar,function(e){e.refresh()},!0),mi("electricChars",!0),mi("rtlMoveVisually",!ts),mi("wholeLineUpdateBefore",!0),mi("theme","default",function(e){l(e),u(e)},!0),mi("keyMap","default",a),mi("extraKeys",null),mi("lineWrapping",!1,r,!0),mi("gutters",[],function(e){f(e.options),u(e)},!0),mi("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?w(e.display)+"px":"0",e.refresh()},!0),mi("coverGutterNextToScrollbar",!1,g,!0),mi("lineNumbers",!1,function(e){f(e.options),u(e)},!0),mi("firstLineNumber",1,u,!0),mi("lineNumberFormatter",function(e){return e},u,!0),mi("showCursorWhenSelecting",!1,ft,!0),mi("resetSelectionOnContextMenu",!0),mi("readOnly",!1,function(e,t){"nocursor"==t?(Wn(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||pn(e))}),mi("disableInput",!1,function(e,t){t||pn(e)},!0),mi("dragDrop",!0),mi("cursorBlinkRate",530),mi("cursorScrollMargin",0),mi("cursorHeight",1),mi("workTime",100),mi("workDelay",100),mi("flattenSpans",!0,i,!0),mi("addModeClass",!1,i,!0),mi("pollInterval",100),mi("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),mi("historyEventDelay",1250),mi("viewportMargin",10,function(e){e.refresh()},!0),mi("maxHighlightLength",1e4,i,!0),mi("moveInputWithCursor",!0,function(e,t){t||(e.display.inputDiv.style.top=e.display.inputDiv.style.left=0)}),mi("tabindex",null,function(e,t){e.display.input.tabIndex=t||""}),mi("autofocus",null);var ks=e.modes={},Ss=e.mimeModes={};
e.defineMode=function(t,n){if(e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2){n.dependencies=[];for(var i=2;i<arguments.length;++i)n.dependencies.push(arguments[i])}ks[t]=n},e.defineMIME=function(e,t){Ss[e]=t},e.resolveMode=function(t){if("string"==typeof t&&Ss.hasOwnProperty(t))t=Ss[t];else if(t&&"string"==typeof t.name&&Ss.hasOwnProperty(t.name)){var n=Ss[t.name];"string"==typeof n&&(n={name:n}),t=io(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),i=ks[n.name];if(!i)return e.getMode(t,"text/plain");var r=i(t,n);if(Cs.hasOwnProperty(n.name)){var o=Cs[n.name];for(var s in o)o.hasOwnProperty(s)&&(r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=o[s])}if(r.name=n.name,n.helperType&&(r.helperType=n.helperType),n.modeProps)for(var s in n.modeProps)r[s]=n.modeProps[s];return r},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Cs=e.modeExtensions={};e.extendMode=function(e,t){var n=Cs.hasOwnProperty(e)?Cs[e]:Cs[e]={};ro(t,n)},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){qs.prototype[e]=t},e.defineOption=mi;var Ts=[];e.defineInitHook=function(e){Ts.push(e)};var Es=e.helpers={};e.registerHelper=function(t,n,i){Es.hasOwnProperty(t)||(Es[t]=e[t]={_global:[]}),Es[t][n]=i},e.registerGlobalHelper=function(t,n,i,r){e.registerHelper(t,n,r),Es[t]._global.push({pred:i,val:r})};var Ms=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n},As=e.startState=function(e,t,n){return e.startState?e.startState(t,n):!0};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var js=e.commands={selectAll:function(e){e.setSelection(as(e.firstLine(),0),as(e.lastLine()),ia)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),ia)},killLine:function(e){di(e,function(t){if(t.empty()){var n=br(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:as(t.head.line+1,0)}:{from:t.head,to:as(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){di(e,function(t){return{from:as(t.from().line,0),to:Q(e.doc,as(t.to().line+1,0))}})},delLineLeft:function(e){di(e,function(e){return{from:as(e.from().line,0),to:e.from()}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(as(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(as(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return jo(e,t.head.line)},oa)},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){var n=jo(e,t.head.line),i=e.getLineHandle(n.line),r=Tr(i);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),s=t.head.line==n.line&&t.head.ch<=o&&t.head.ch;return as(n.line,s?0:o)}return n},oa)},goLineEnd:function(e){e.extendSelectionsBy(function(t){return No(e,t.head.line)},oa)},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},oa)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},oa)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),s=sa(e.getLine(o.line),o.ch,i);t.push(new Array(i-s%i+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){Kt(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var r=t[i].head,o=br(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new as(r.line,r.ch-1)),r.ch>0)r=new as(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),as(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var s=br(e.doc,r.line-1).text;s&&e.replaceRange(o.charAt(0)+"\n"+s.charAt(s.length-1),as(r.line-1,s.length-1),as(r.line,1),"+transpose")}n.push(new G(r,r))}e.setSelections(n)})},newlineAndIndent:function(e){Kt(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var i=e.listSelections()[n];e.replaceRange("\n",i.anchor,i.head,"+input"),e.indentLine(i.from().line+1,null,!0),ai(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},Ns=e.keyMap={};Ns.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ns.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ns.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]},Ns.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},Ns["default"]=es?Ns.macDefault:Ns.pcDefault;var Ps=e.lookupKey=function(e,t,n){function i(t){t=gi(t);var r=t[e];if(r===!1)return"stop";if(null!=r&&n(r))return!0;if(t.nofallthrough)return"stop";var o=t.fallthrough;if(null==o)return!1;if("[object Array]"!=Object.prototype.toString.call(o))return i(o);for(var s=0;s<o.length;++s){var a=i(o[s]);if(a)return a}return!1}for(var r=0;r<t.length;++r){var o=i(t[r]);if(o)return"stop"!=o}},Ls=e.isModifierKey=function(e){var t=wa[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},Is=e.keyName=function(e,t){if(Go&&34==e.keyCode&&e["char"])return!1;var n=wa[e.keyCode];return null==n||e.altGraphKey?!1:(e.altKey&&(n="Alt-"+n),(is?e.metaKey:e.ctrlKey)&&(n="Ctrl-"+n),(is?e.ctrlKey:e.metaKey)&&(n="Cmd-"+n),!t&&e.shiftKey&&(n="Shift-"+n),n)};e.fromTextArea=function(t,n){function i(){t.value=u.getValue()}if(n||(n={}),n.value=t.value,!n.tabindex&&t.tabindex&&(n.tabindex=t.tabindex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var r=fo();n.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}if(t.form&&(Qs(t.form,"submit",i),!n.leaveSubmitMethodAlone)){var o=t.form,s=o.submit;try{var a=o.submit=function(){i(),o.submit=s,o.submit(),o.submit=a}}catch(l){}}t.style.display="none";var u=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return u.save=i,u.getTextArea=function(){return t},u.toTextArea=function(){i(),t.parentNode.removeChild(u.getWrapperElement()),t.style.display="",t.form&&(Js(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=s))},u};var Os=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};Os.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=sa(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?sa(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return sa(this.string,null,this.tabSize)-(this.lineStart?sa(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&t!==!1&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);return r(o)==r(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var Fs=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e};Kr(Fs),Fs.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Yt(e),Xr(this,"clear")){var n=this.find();n&&Vr(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=ki(s.markedSpans,this);e&&!this.collapsed?rn(e,kr(s),"text"):e&&(null!=a.to&&(r=kr(s)),null!=a.from&&(i=kr(s))),s.markedSpans=Si(s.markedSpans,a),null==a.from&&this.collapsed&&!Vi(this.doc,s)&&e&&xr(s,$t(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=Wi(this.lines[o]),u=h(l);u>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&nn(e,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&dt(e.doc)),e&&Vr(e,"markerCleared",e,this),t&&Xt(e),this.parent&&this.parent.clear()}},Fs.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,i,r=0;r<this.lines.length;++r){var o=this.lines[r],s=ki(o.markedSpans,this);if(null!=s.from&&(n=as(t?o:kr(o),s.from),-1==e))return n;if(null!=s.to&&(i=as(t?o:kr(o),s.to),1==e))return i}return n&&{from:n,to:i}},Fs.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&Kt(n,function(){var i=e.line,r=kr(e.line),o=At(n,r);if(o&&(Lt(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Vi(t.doc,i)&&null!=t.height){var s=t.height;t.height=null;var a=Yi(t)-s;a&&xr(i,i.height+a)}})},Fs.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=to(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Fs.prototype.detachLine=function(e){if(this.lines.splice(to(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var Ds=0,Rs=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Kr(Rs),Rs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Vr(this,"clear")}},Rs.prototype.find=function(e,t){return this.primary.find(e,t)};var zs=e.LineWidget=function(e,t,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.cm=e,this.node=t};Kr(zs),zs.prototype.clear=function(){var e=this.cm,t=this.line.widgets,n=this.line,i=kr(n);if(null!=i&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var o=Yi(this);Kt(e,function(){Gi(e,n,-o),rn(e,i,"widget"),xr(n,Math.max(0,n.height-o))})}},zs.prototype.changed=function(){var e=this.height,t=this.cm,n=this.line;this.height=null;var i=Yi(this)-e;i&&Kt(t,function(){t.curOp.forceUpdate=!0,Gi(t,n,i),xr(n,n.height+i)})};var Hs=e.Line=function(e,t,n){this.text=e,Li(this,t),this.height=n?n(this):1};Kr(Hs),Hs.prototype.lineNo=function(){return kr(this)};var Ws={},Bs={};mr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,i=e+t;i>n;++n){var r=this.lines[n];this.height-=r.height,Qi(r),Vr(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;i>e;++e)if(n(this.lines[e]))return!0}},gr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(r>e){var o=Math.min(t,r-e),s=i.height;if(i.removeInner(e,o),this.height-=s-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof mr))){var a=[];this.collapse(a),this.children=[new mr(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(o>=e){if(r.insertInner(e,t,n),r.lines&&r.lines.length>50){for(;r.lines.length>50;){var s=r.lines.splice(r.lines.length-25,25),a=new mr(s);r.height-=a.height,this.children.splice(i+1,0,a),a.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new gr(t);if(e.parent){e.size-=n.size,e.height-=n.height;var i=to(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var r=new gr(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(o>e){var s=Math.min(t,o-e);if(r.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var Us=0,qs=e.Doc=function(e,t,n){if(!(this instanceof qs))return new qs(e,t,n);null==n&&(n=0),gr.call(this,[new mr([new Hs("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var i=as(n,0);this.sel=X(i),this.history=new Er(null),this.id=++Us,this.modeOption=t,"string"==typeof e&&(e=ya(e)),fr(this,{from:i,to:i,text:e}),lt(this,X(i),ia)};qs.prototype=io(gr.prototype,{constructor:qs,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=wr(this,this.first,this.first+this.size);return e===!1?t:t.join(e||"\n")},setValue:Zt(function(e){var t=as(this.first,0),n=this.first+this.size-1;Xn(this,{from:t,to:as(n,br(this,n).text.length),text:ya(e),origin:"setValue"},!0),lt(this,X(t))}),replaceRange:function(e,t,n,i){t=Q(this,t),n=n?Q(this,n):t,ti(this,e,t,n,i)},getRange:function(e,t,n){var i=_r(this,Q(this,e),Q(this,t));return n===!1?i:i.join(n||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return Z(this,e)?br(this,e):void 0},getLineNumber:function(e){return kr(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=br(this,e)),Wi(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Q(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Zt(function(e,t,n){ot(this,Q(this,"number"==typeof e?as(e,t||0):e),null,n)}),setSelection:Zt(function(e,t,n){ot(this,Q(this,e),Q(this,t||e),n)}),extendSelection:Zt(function(e,t,n){nt(this,Q(this,e),t&&Q(this,t),n)}),extendSelections:Zt(function(e,t){it(this,et(this,e,t))}),extendSelectionsBy:Zt(function(e,t){it(this,no(this.sel.ranges,e),t)}),setSelections:Zt(function(e,t,n){if(e.length){for(var i=0,r=[];i<e.length;i++)r[i]=new G(Q(this,e[i].anchor),Q(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),lt(this,Y(r,t),n)}}),addSelection:Zt(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new G(Q(this,e),Q(this,t||e))),lt(this,Y(i,i.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,i=0;i<n.length;i++){var r=_r(this,n[i].from(),n[i].to());t=t?t.concat(r):r}return e===!1?t:t.join(e||"\n")},getSelections:function(e){for(var t=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=_r(this,n[i].from(),n[i].to());e!==!1&&(r=r.join(e||"\n")),t[i]=r}return t},replaceSelection:function(e,t,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:Zt(function(e,t,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];i[o]={from:s.from(),to:s.to(),text:ya(e[o]),origin:n}}for(var a=t&&"end"!=t&&Gn(this,i,t),o=i.length-1;o>=0;o--)Xn(this,i[o]);a?at(this,a):this.cm&&ai(this.cm)}),undo:Zt(function(){Qn(this,"undo")}),redo:Zt(function(){Qn(this,"redo")}),undoSelection:Zt(function(){Qn(this,"undo",!0)}),redoSelection:Zt(function(){Qn(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Er(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Rr(this.history.done),undone:Rr(this.history.undone)}},setHistory:function(e){var t=this.history=new Er(this.history.maxGeneration);t.done=Rr(e.done.slice(0),null,!0),t.undone=Rr(e.undone.slice(0),null,!0)},markText:function(e,t,n){return vi(this,Q(this,e),Q(this,t),n,"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared};return e=Q(this,e),vi(this,e,e,n,"bookmark")},findMarksAt:function(e){e=Q(this,e);var t=[],n=br(this,e.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=Q(this,e),t=Q(this,t);var i=[],r=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];r==e.line&&e.ch>l.to||null==l.from&&r!=e.line||r==t.line&&l.from>t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)}),e},posFromIndex:function(e){var t,n=this.first;return this.iter(function(i){var r=i.text.length+1;return r>e?(t=e,!0):(e-=r,void++n)}),Q(this,as(n,t))},indexFromPos:function(e){e=Q(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new qs(wr(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new qs(wr(this,t,n),e.mode||this.modeOption,t);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],_i(i,bi(this)),i},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var i=this.linked[n];if(i.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),wi(bi(this));break}}if(t.history==this.history){var r=[t.id];vr(t,function(e){r.push(e.id)},!0),t.history=new Er(null),t.history.done=Rr(this.history.done,r),t.history.undone=Rr(this.history.undone,r)}},iterLinkedDocs:function(e){vr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),qs.prototype.eachLine=qs.prototype.iter;var Vs="iter insert remove copy getEditor".split(" ");for(var $s in qs.prototype)qs.prototype.hasOwnProperty($s)&&to(Vs,$s)<0&&(e.prototype[$s]=function(e){return function(){return e.apply(this.doc,arguments)}}(qs.prototype[$s]));Kr(qs);var Gs,Ys=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},Xs=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Ks=e.e_stop=function(e){Ys(e),Xs(e)},Qs=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={}),r=i[t]||(i[t]=[]);r.push(n)}},Js=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var i=e._handlers&&e._handlers[t];if(!i)return;for(var r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}}},Zs=e.signal=function(e,t){var n=e._handlers&&e._handlers[t];if(n)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)},ea=0,ta=30,na=e.Pass={toString:function(){return"CodeMirror.Pass"}},ia={scroll:!1},ra={origin:"*mouse"},oa={origin:"+move"};Qr.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var sa=e.countColumn=function(e,t,n,i,r){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var o=i||0,s=r||0;;){var a=e.indexOf("	",o);if(0>a||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1}},aa=[""],la=function(e){e.select()};Jo?la=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:Uo&&(la=function(e){try{e.select()}catch(t){}}),[].indexOf&&(to=function(e,t){return e.indexOf(t)}),[].map&&(no=function(e,t){return e.map(t)});var ua,ca=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,da=e.isWordChar=function(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||ca.test(e))},ha=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;ua=document.createRange?function(e,t,n){var i=document.createRange();return i.setEnd(e,n),i.setStart(e,t),i}:function(e,t,n){var i=document.body.createTextRange();return i.moveToElementText(e.parentNode),i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i},Ro&&(fo=function(){try{return document.activeElement}catch(e){return document.body}});var pa,fa,ma,ga=!1,va=function(){if(Ho)return!1;var e=uo("div");return"draggable"in e||"dragDrop"in e}(),ya=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;i>=t;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},ba=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},_a=function(){var e=uo("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),wa={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};e.keyNames=wa,function(){for(var e=0;10>e;e++)wa[e+48]=wa[e+96]=String(e);for(var e=65;90>=e;e++)wa[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)wa[e+111]=wa[e+63235]="F"+e}();var xa,ka=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?i.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,u="L";return function(n){if(!r.test(n))return!1;for(var i,c=n.length,d=[],h=0;c>h;++h)d.push(i=e(n.charCodeAt(h)));for(var h=0,p=u;c>h;++h){var i=d[h];"m"==i?d[h]=p:p=i}for(var h=0,f=u;c>h;++h){var i=d[h];"1"==i&&"r"==f?d[h]="n":s.test(i)&&(f=i,"r"==i&&(d[h]="R"))}for(var h=1,p=d[0];c-1>h;++h){var i=d[h];"+"==i&&"1"==p&&"1"==d[h+1]?d[h]="1":","!=i||p!=d[h+1]||"1"!=p&&"n"!=p||(d[h]=p),p=i}for(var h=0;c>h;++h){var i=d[h];if(","==i)d[h]="N";else if("%"==i){for(var m=h+1;c>m&&"%"==d[m];++m);for(var g=h&&"!"==d[h-1]||c>m&&"1"==d[m]?"1":"N",v=h;m>v;++v)d[v]=g;h=m-1}}for(var h=0,f=u;c>h;++h){var i=d[h];"L"==f&&"1"==i?d[h]="L":s.test(i)&&(f=i)}for(var h=0;c>h;++h)if(o.test(d[h])){for(var m=h+1;c>m&&o.test(d[m]);++m);for(var y="L"==(h?d[h-1]:u),b="L"==(c>m?d[m]:u),g=y||b?"L":"R",v=h;m>v;++v)d[v]=g;h=m-1}for(var _,w=[],h=0;c>h;)if(a.test(d[h])){var x=h;for(++h;c>h&&a.test(d[h]);++h);w.push(new t(0,x,h))}else{var k=h,S=w.length;for(++h;c>h&&"L"!=d[h];++h);for(var v=k;h>v;)if(l.test(d[v])){v>k&&w.splice(S,0,new t(1,k,v));var C=v;for(++v;h>v&&l.test(d[v]);++v);w.splice(S,0,new t(2,C,v)),k=v}else++v;h>k&&w.splice(S,0,new t(1,k,h))}return 1==w[0].level&&(_=n.match(/^\s+/))&&(w[0].from=_[0].length,w.unshift(new t(0,0,_[0].length))),1==eo(w).level&&(_=n.match(/\s+$/))&&(eo(w).to-=_[0].length,w.push(new t(0,c-_[0].length,c))),w[0].level!=eo(w).level&&w.push(new t(w[0].level,c,c)),w}}();return e.version="4.2.0",e}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=e.split(" "),i=0;i<n.length;++i)t[n[i]]=!0;return t}function n(e,t){if(!t.startOfLine)return!1;for(;;){if(!e.skipTo("\\")){e.skipToEnd(),t.tokenize=null;break}if(e.next(),e.eol()){t.tokenize=n;break}}return"meta"}function i(e,t){if(e.backUp(1),e.match(/(R|u8R|uR|UR|LR)/)){var n=e.match(/"(.{0,16})\(/);return n?(t.cpp11RawStringDelim=n[1],t.tokenize=o,o(e,t)):!1}return e.match(/(u8|u|U|L)/)?e.match(/["']/,!1)?"string":!1:(e.next(),!1)}function r(e,t){for(var n;null!=(n=e.next());)if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}function o(e,t){var n=new RegExp(".*?\\)"+t.cpp11RawStringDelim+'"'),i=e.match(n);return i?t.tokenize=null:e.skipToEnd(),"string"}function s(t,n){function i(e){if(e)for(var t in e)e.hasOwnProperty(t)&&r.push(t)}"string"==typeof t&&(t=[t]);var r=[];i(n.keywords),i(n.builtin),i(n.atoms),r.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],r));for(var o=0;o<t.length;++o)e.defineMIME(t[o],n)}e.defineMode("clike",function(t,n){function i(e,t){var n=e.next();if(v[n]){var i=v[n](e,t);if(i!==!1)return i}if('"'==n||"'"==n)return t.tokenize=r(n),t.tokenize(e,t);if(/[\[\]{}\(\),;\:\.]/.test(n))return u=n,null;if(/\d/.test(n))return e.eatWhile(/[\w\.]/),"number";if("/"==n){if(e.eat("*"))return t.tokenize=o,o(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(b.test(n))return e.eatWhile(b),"operator";e.eatWhile(/[\w\$_]/);var s=e.current();return p.propertyIsEnumerable(s)?(m.propertyIsEnumerable(s)&&(u="newstatement"),"keyword"):f.propertyIsEnumerable(s)?(m.propertyIsEnumerable(s)&&(u="newstatement"),"builtin"):g.propertyIsEnumerable(s)?"atom":"variable"}function r(e){return function(t,n){for(var i,r=!1,o=!1;null!=(i=t.next());){if(i==e&&!r){o=!0;break}r=!r&&"\\"==i}return(o||!r&&!y)&&(n.tokenize=null),"string"}}function o(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=null;break}i="*"==n}return"comment"}function s(e,t,n,i,r){this.indented=e,this.column=t,this.type=n,this.align=i,this.prev=r}function a(e,t,n){var i=e.indented;return e.context&&"statement"==e.context.type&&(i=e.context.indented),e.context=new s(i,t,n,null,e.context)}function l(e){var t=e.context.type;return(")"==t||"]"==t||"}"==t)&&(e.indented=e.context.indented),e.context=e.context.prev}var u,c=t.indentUnit,d=n.statementIndentUnit||c,h=n.dontAlignCalls,p=n.keywords||{},f=n.builtin||{},m=n.blockKeywords||{},g=n.atoms||{},v=n.hooks||{},y=n.multiLineStrings,b=/[+\-*&%=<>!?|\/]/;return{startState:function(e){return{tokenize:null,context:new s((e||0)-c,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var n=t.context;if(e.sol()&&(null==n.align&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;u=null;var r=(t.tokenize||i)(e,t);if("comment"==r||"meta"==r)return r;if(null==n.align&&(n.align=!0),";"!=u&&":"!=u&&","!=u||"statement"!=n.type)if("{"==u)a(t,e.column(),"}");else if("["==u)a(t,e.column(),"]");else if("("==u)a(t,e.column(),")");else if("}"==u){for(;"statement"==n.type;)n=l(t);for("}"==n.type&&(n=l(t));"statement"==n.type;)n=l(t)}else u==n.type?l(t):(("}"==n.type||"top"==n.type)&&";"!=u||"statement"==n.type&&"newstatement"==u)&&a(t,e.column(),"statement");else l(t);return t.startOfLine=!1,r},indent:function(t,n){if(t.tokenize!=i&&null!=t.tokenize)return e.Pass;var r=t.context,o=n&&n.charAt(0);"statement"==r.type&&"}"==o&&(r=r.prev);var s=o==r.type;return"statement"==r.type?r.indented+("{"==o?0:d):!r.align||h&&")"==r.type?")"!=r.type||s?r.indented+(s?0:c):r.indented+d:r.column+(s?0:1)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});var a="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";s(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:t(a),blockKeywords:t("case do else for if switch while struct"),atoms:t("null"),hooks:{"#":n},modeProps:{fold:["brace","include"]}}),s(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:t(a+" asm dynamic_cast namespace reinterpret_cast try bool explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected wchar_t alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),blockKeywords:t("catch class do else finally for if struct switch try while"),atoms:t("true false null"),hooks:{"#":n,u:i,U:i,L:i,R:i},modeProps:{fold:["brace","include"]}}),s("text/x-java",{name:"clike",keywords:t("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:t("catch class do else finally for if switch try while"),atoms:t("true false null"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"}},modeProps:{fold:["brace","import"]}}),s("text/x-csharp",{name:"clike",keywords:t("abstract as base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:t("catch class do else finally for foreach if struct switch try while"),builtin:t("Boolean Byte Char DateTime DateTimeOffset Decimal Double Guid Int16 Int32 Int64 Object SByte Single String TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),atoms:t("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=r,r(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),s("text/x-scala",{name:"clike",keywords:t("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try trye type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),blockKeywords:t("catch class do else finally for forSome if match switch try while"),atoms:t("true false null"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"}}}),s(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:t("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4 sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadowconst attribute uniform varying break continue discard return for while do if else struct in out inout"),blockKeywords:t("for while do if else struct"),builtin:t("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smootstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:t("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragColor gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),hooks:{"#":n},modeProps:{fold:["brace","include"]}})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function n(e,t){for(var n,i=!1;null!=(n=e.next());){if(i&&"/"==n){t.tokenize=null;break}i="*"==n}return["comment","comment"]}function i(e,t){return e.skipTo("-->")?(e.match("-->"),t.tokenize=null):e.skipToEnd(),["comment","comment"]}e.defineMode("css",function(t,n){function i(e,t){return p=t,e}function r(e,t){var n=e.next();if(g[n]){var r=g[n](e,t);if(r!==!1)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),i("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?i(null,"compare"):'"'==n||"'"==n?(t.tokenize=o(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),i("atom","hash")):"!"==n?(e.match(/^\s*\w*/),i("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),i("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?i(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?i("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?i(null,n):"u"==n&&e.match("rl(")?(e.backUp(1),t.tokenize=s,i("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),i("property","word")):i(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),i("number","unit")):e.match(/^\w+-/)?i("meta","meta"):void 0}function o(e){return function(t,n){for(var r,o=!1;null!=(r=t.next());){if(r==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==r}return(r==e||!o&&")"!=e)&&(n.tokenize=null),i("string","string")}}function s(e,t){return e.next(),t.tokenize=e.match(/\s*[\"\')]/,!1)?null:o(")"),i(null,"(")}function a(e,t,n){this.type=e,this.indent=t,this.prev=n}function l(e,t,n){return e.context=new a(n,t.indentation()+m,e.context),n}function u(e){return e.context=e.context.prev,e.context.type}function c(e,t,n){return C[n.context.type](e,t,n)}function d(e,t,n,i){for(var r=i||1;r>0;r--)n.context=n.context.prev;return c(e,t,n)}function h(e){var t=e.current().toLowerCase();f=x.hasOwnProperty(t)?"atom":w.hasOwnProperty(t)?"keyword":"variable"}n.propertyKeywords||(n=e.resolveMode("text/css"));var p,f,m=t.indentUnit,g=n.tokenHooks,v=n.mediaTypes||{},y=n.mediaFeatures||{},b=n.propertyKeywords||{},_=n.nonStandardPropertyKeywords||{},w=n.colorKeywords||{},x=n.valueKeywords||{},k=n.fontProperties||{},S=n.allowNested,C={};return C.top=function(e,t,n){if("{"==e)return l(n,t,"block");if("}"==e&&n.context.prev)return u(n);if("@media"==e)return l(n,t,"media");if("@font-face"==e)return"font_face_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return l(n,t,"at");if("hash"==e)f="builtin";else if("word"==e)f="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return l(n,t,"interpolation");if(":"==e)return"pseudo";if(S&&"("==e)return l(n,t,"parens")}return n.context.type},C.block=function(e,t,n){if("word"==e){var i=t.current().toLowerCase();return b.hasOwnProperty(i)?(f="property","maybeprop"):_.hasOwnProperty(i)?(f="string-2","maybeprop"):S?(f=t.match(/^\s*:/,!1)?"property":"tag","block"):(f+=" error","maybeprop")}return"meta"==e?"block":S||"hash"!=e&&"qualifier"!=e?C.top(e,t,n):(f="error","block")},C.maybeprop=function(e,t,n){return":"==e?l(n,t,"prop"):c(e,t,n)},C.prop=function(e,t,n){if(";"==e)return u(n);if("{"==e&&S)return l(n,t,"propBlock");if("}"==e||"{"==e)return d(e,t,n);if("("==e)return l(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t.current())){if("word"==e)h(t);else if("interpolation"==e)return l(n,t,"interpolation")}else f+=" error";return"prop"},C.propBlock=function(e,t,n){return"}"==e?u(n):"word"==e?(f="property","maybeprop"):n.context.type},C.parens=function(e,t,n){return"{"==e||"}"==e?d(e,t,n):")"==e?u(n):"("==e?l(n,t,"parens"):("word"==e&&h(t),"parens")},C.pseudo=function(e,t,n){return"word"==e?(f="variable-3",n.context.type):c(e,t,n)},C.media=function(e,t,n){if("("==e)return l(n,t,"media_parens");if("}"==e)return d(e,t,n);if("{"==e)return u(n)&&l(n,t,S?"block":"top");if("word"==e){var i=t.current().toLowerCase();f="only"==i||"not"==i||"and"==i?"keyword":v.hasOwnProperty(i)?"attribute":y.hasOwnProperty(i)?"property":"error"}return n.context.type},C.media_parens=function(e,t,n){return")"==e?u(n):"{"==e||"}"==e?d(e,t,n,2):C.media(e,t,n)},C.font_face_before=function(e,t,n){return"{"==e?l(n,t,"font_face"):c(e,t,n)},C.font_face=function(e,t,n){return"}"==e?u(n):"word"==e?(f=k.hasOwnProperty(t.current().toLowerCase())?"property":"error","maybeprop"):"font_face"},C.keyframes=function(e,t,n){return"word"==e?(f="variable","keyframes"):"{"==e?l(n,t,"top"):c(e,t,n)},C.at=function(e,t,n){return";"==e?u(n):"{"==e||"}"==e?d(e,t,n):("word"==e?f="tag":"hash"==e&&(f="builtin"),"at")},C.interpolation=function(e,t,n){return"}"==e?u(n):"{"==e||";"==e?d(e,t,n):("variable"!=e&&(f="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:"top",context:new a("top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||r)(e,t);return n&&"object"==typeof n&&(p=n[1],n=n[0]),f=n,t.state=C[t.state](p,e,t),f},indent:function(e,t){var n=e.context,i=t&&t.charAt(0),r=n.indent;return"prop"!=n.type||"}"!=i&&")"!=i||(n=n.prev),!n.prev||("}"!=i||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"font_face"!=n.type)&&(")"!=i||"parens"!=n.type&&"media_parens"!=n.type)&&("{"!=i||"at"!=n.type&&"media"!=n.type)||(r=n.indent-m,n=n.prev),r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var r=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=t(r),s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],a=t(s),l=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],u=t(l),c=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],c=t(c),d=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],h=t(d),p=["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","keep-all","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small"],f=t(p),m=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],g=t(m),v=r.concat(s).concat(l).concat(c).concat(d).concat(p);e.registerHelper("hintWords","css",v),e.defineMIME("text/css",{mediaTypes:o,mediaFeatures:a,propertyKeywords:u,nonStandardPropertyKeywords:c,colorKeywords:h,valueKeywords:f,fontProperties:g,tokenHooks:{"<":function(e,t){return e.match("!--")?(t.tokenize=i,i(e,t)):!1},"/":function(e,t){return e.eat("*")?(t.tokenize=n,n(e,t)):!1}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:a,propertyKeywords:u,nonStandardPropertyKeywords:c,colorKeywords:h,valueKeywords:f,fontProperties:g,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},":":function(e){return e.match(/\s*{/)?[null,"{"]:!1},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return e.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:a,propertyKeywords:u,nonStandardPropertyKeywords:c,colorKeywords:h,valueKeywords:f,fontProperties:g,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},"@":function(e){return e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)?!1:(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("htmlembedded",function(t,n){function i(e,t){return e.match(a,!1)?(t.token=r,o.token(e,t.scriptState)):s.token(e,t.htmlState)}function r(e,t){return e.match(l,!1)?(t.token=i,s.token(e,t.htmlState)):o.token(e,t.scriptState)}var o,s,a=n.scriptStartRegex||/^<%/i,l=n.scriptEndRegex||/^%>/i;return{startState:function(){return o=o||e.getMode(t,n.scriptingModeSpec),s=s||e.getMode(t,"htmlmixed"),{token:n.startOpen?r:i,htmlState:e.startState(s),scriptState:e.startState(o)}},token:function(e,t){return t.token(e,t)},indent:function(e,t){return e.token==i?s.indent(e.htmlState,t):o.indent?o.indent(e.scriptState,t):void 0},copyState:function(t){return{token:t.token,htmlState:e.copyState(s,t.htmlState),scriptState:e.copyState(o,t.scriptState)}},innerMode:function(e){return e.token==r?{state:e.scriptState,mode:o}:{state:e.htmlState,mode:s}}}},"htmlmixed"),e.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"}),e.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"}),e.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"}),e.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("htmlmixed",function(t,n){function i(e,t){var n=t.htmlState.tagName,i=a.token(e,t.htmlState);if("script"==n&&/\btag\b/.test(i)&&">"==e.current()){var r=e.string.slice(Math.max(0,e.pos-100),e.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);r=r?r[1]:"",r&&/[\"\']/.test(r.charAt(0))&&(r=r.slice(1,r.length-1));for(var c=0;c<u.length;++c){var d=u[c];if("string"==typeof d.matches?r==d.matches:d.matches.test(r)){d.mode&&(t.token=o,t.localMode=d.mode,t.localState=d.mode.startState&&d.mode.startState(a.indent(t.htmlState,"")));break}}}else"style"==n&&/\btag\b/.test(i)&&">"==e.current()&&(t.token=s,t.localMode=l,t.localState=l.startState(a.indent(t.htmlState,"")));return i}function r(e,t,n){var i,r=e.current(),o=r.search(t);return o>-1?e.backUp(r.length-o):(i=r.match(/<\/?$/))&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}function o(e,t){return e.match(/^<\/\s*script\s*>/i,!1)?(t.token=i,t.localState=t.localMode=null,i(e,t)):r(e,/<\/\s*script\s*>/,t.localMode.token(e,t.localState))}function s(e,t){return e.match(/^<\/\s*style\s*>/i,!1)?(t.token=i,t.localState=t.localMode=null,i(e,t)):r(e,/<\/\s*style\s*>/,l.token(e,t.localState))}var a=e.getMode(t,{name:"xml",htmlMode:!0,multilineTagIndentFactor:n.multilineTagIndentFactor,multilineTagIndentPastTag:n.multilineTagIndentPastTag}),l=e.getMode(t,"css"),u=[],c=n&&n.scriptTypes;if(u.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:e.getMode(t,"javascript")}),c)for(var d=0;d<c.length;++d){var h=c[d];u.push({matches:h.matches,mode:h.mode&&e.getMode(t,h.mode)})}return u.push({matches:/./,mode:e.getMode(t,"text/plain")}),{startState:function(){var e=a.startState();return{token:i,localMode:null,localState:null,htmlState:e}},copyState:function(t){if(t.localState)var n=e.copyState(t.localMode,t.localState);return{token:t.token,localMode:t.localMode,localState:n,htmlState:e.copyState(a,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n){return!t.localMode||/^\s*<\//.test(n)?a.indent(t.htmlState,n):t.localMode.indent?t.localMode.indent(t.localState,n):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||a}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,n){function i(e){for(var t,n=!1,i=!1;null!=(t=e.next());){if(!n){if("/"==t&&!i)return;"["==t?i=!0:i&&"]"==t&&(i=!1)}n=!n&&"\\"==t}}function r(e,t,n){return pt=e,ft=n,t}function o(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=s(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return r("number","number");if("."==n&&e.match(".."))return r("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return r(n);if("="==n&&e.eat(">"))return r("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),r("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),r("number","number");if("/"==n)return e.eat("*")?(t.tokenize=a,a(e,t)):e.eat("/")?(e.skipToEnd(),r("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(i(e),e.eatWhile(/[gimy]/),r("regexp","string-2")):(e.eatWhile(wt),r("operator","operator",e.current()));if("`"==n)return t.tokenize=l,l(e,t);if("#"==n)return e.skipToEnd(),r("error","error");if(wt.test(n))return e.eatWhile(wt),r("operator","operator",e.current());e.eatWhile(/[\w\$_]/);var o=e.current(),u=_t.propertyIsEnumerable(o)&&_t[o];return u&&"."!=t.lastType?r(u.type,u.style,o):r("variable","variable",o)}function s(e){return function(t,n){var i,s=!1;if(vt&&"@"==t.peek()&&t.match(xt))return n.tokenize=o,r("jsonld-keyword","meta");for(;null!=(i=t.next())&&(i!=e||s);)s=!s&&"\\"==i;return s||(n.tokenize=o),r("string","string")}}function a(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=o;break}i="*"==n}return r("comment","comment")}function l(e,t){for(var n,i=!1;null!=(n=e.next());){if(!i&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=o;break}i=!i&&"\\"==n}return r("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(0>n)){for(var i=0,r=!1,o=n-1;o>=0;--o){var s=e.string.charAt(o),a=kt.indexOf(s);if(a>=0&&3>a){if(!i){++o;break}if(0==--i)break}else if(a>=3&&6>a)++i;else if(/[$\w]/.test(s))r=!0;else if(r&&!i){++o;break}}r&&!i&&(t.fatArrowAt=o)}}function c(e,t,n,i,r,o){this.indented=e,this.column=t,this.type=n,this.prev=r,this.info=o,null!=i&&(this.align=i)}function d(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var i=e.context;i;i=i.prev)for(var n=i.vars;n;n=n.next)if(n.name==t)return!0}function h(e,t,n,i,r){var o=e.cc;for(Ct.state=e,Ct.stream=r,Ct.marked=null,Ct.cc=o,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var s=o.length?o.pop():yt?x:w;if(s(n,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Ct.marked?Ct.marked:"variable"==n&&d(e,i)?"variable-2":t}}}function p(){for(var e=arguments.length-1;e>=0;e--)Ct.cc.push(arguments[e])}function f(){return p.apply(null,arguments),!0}function m(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var i=Ct.state;if(i.context){if(Ct.marked="def",t(i.localVars))return;i.localVars={name:e,next:i.localVars}}else{if(t(i.globalVars))return;n.globalVars&&(i.globalVars={name:e,next:i.globalVars})}}function g(){Ct.state.context={prev:Ct.state.context,vars:Ct.state.localVars},Ct.state.localVars=Tt}function v(){Ct.state.localVars=Ct.state.context.vars,Ct.state.context=Ct.state.context.prev}function y(e,t){var n=function(){var n=Ct.state,i=n.indented;"stat"==n.lexical.type&&(i=n.lexical.indented),n.lexical=new c(i,Ct.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function b(){var e=Ct.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function _(e){function t(n){return n==e?f():";"==e?p():f(t)}return t}function w(e,t){return"var"==e?f(y("vardef",t.length),U,_(";"),b):"keyword a"==e?f(y("form"),x,w,b):"keyword b"==e?f(y("form"),w,b):"{"==e?f(y("}"),H,b):";"==e?f():"if"==e?("else"==Ct.state.lexical.info&&Ct.state.cc[Ct.state.cc.length-1]==b&&Ct.state.cc.pop()(),f(y("form"),x,w,b,Y)):"function"==e?f(et):"for"==e?f(y("form"),X,w,b):"variable"==e?f(y("stat"),L):"switch"==e?f(y("form"),x,y("}","switch"),_("{"),H,b,b):"case"==e?f(x,_(":")):"default"==e?f(_(":")):"catch"==e?f(y("form"),g,_("("),tt,_(")"),w,b,v):"module"==e?f(y("form"),g,ot,v,b):"class"==e?f(y("form"),nt,rt,b):"export"==e?f(y("form"),st,b):"import"==e?f(y("form"),at,b):p(y("stat"),x,_(";"),b)}function x(e){return S(e,!1)}function k(e){return S(e,!0)}function S(e,t){if(Ct.state.fatArrowAt==Ct.stream.start){var n=t?P:N;if("("==e)return f(g,y(")"),R(q,")"),b,_("=>"),n,v);if("variable"==e)return p(g,q,_("=>"),n,v)}var i=t?M:E;return St.hasOwnProperty(e)?f(i):"function"==e?f(et,i):"keyword c"==e?f(t?T:C):"("==e?f(y(")"),C,ht,_(")"),b,i):"operator"==e||"spread"==e?f(t?k:x):"["==e?f(y("]"),ct,b,i):"{"==e?z(O,"}",null,i):"quasi"==e?p(A,i):f()}function C(e){return e.match(/[;\}\)\],]/)?p():p(x)}function T(e){return e.match(/[;\}\)\],]/)?p():p(k)}function E(e,t){return","==e?f(x):M(e,t,!1)}function M(e,t,n){var i=0==n?E:M,r=0==n?x:k;return"=>"==t?f(g,n?P:N,v):"operator"==e?/\+\+|--/.test(t)?f(i):"?"==t?f(x,_(":"),r):f(r):"quasi"==e?p(A,i):";"!=e?"("==e?z(k,")","call",i):"."==e?f(I,i):"["==e?f(y("]"),C,_("]"),b,i):void 0:void 0}function A(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?f(A):f(x,j)}function j(e){return"}"==e?(Ct.marked="string-2",Ct.state.tokenize=l,f(A)):void 0}function N(e){return u(Ct.stream,Ct.state),p("{"==e?w:x)}function P(e){return u(Ct.stream,Ct.state),p("{"==e?w:k)}function L(e){return":"==e?f(b,w):p(E,_(";"),b)}function I(e){return"variable"==e?(Ct.marked="property",f()):void 0}function O(e,t){if("variable"==e){if(Ct.marked="property","get"==t||"set"==t)return f(F)}else if("number"==e||"string"==e)Ct.marked=vt?"property":e+" property";else if("["==e)return f(x,_("]"),D);return St.hasOwnProperty(e)?f(D):void 0}function F(e){return"variable"!=e?p(D):(Ct.marked="property",f(et))}function D(e){return":"==e?f(k):"("==e?p(et):void 0}function R(e,t){function n(i){if(","==i){var r=Ct.state.lexical;return"call"==r.info&&(r.pos=(r.pos||0)+1),f(e,n)}return i==t?f():f(_(t))}return function(i){return i==t?f():p(e,n)}}function z(e,t,n){for(var i=3;i<arguments.length;i++)Ct.cc.push(arguments[i]);return f(y(t,n),R(e,t),b)}function H(e){return"}"==e?f():p(w,H)}function W(e){return bt&&":"==e?f(B):void 0}function B(e){return"variable"==e?(Ct.marked="variable-3",f()):void 0}function U(){return p(q,W,$,G)}function q(e,t){return"variable"==e?(m(t),f()):"["==e?z(q,"]"):"{"==e?z(V,"}"):void 0}function V(e,t){return"variable"!=e||Ct.stream.match(/^\s*:/,!1)?("variable"==e&&(Ct.marked="property"),f(_(":"),q,$)):(m(t),f($))}function $(e,t){return"="==t?f(k):void 0}function G(e){return","==e?f(U):void 0}function Y(e,t){return"keyword b"==e&&"else"==t?f(y("form","else"),w,b):void 0}function X(e){return"("==e?f(y(")"),K,_(")"),b):void 0}function K(e){return"var"==e?f(U,_(";"),J):";"==e?f(J):"variable"==e?f(Q):p(x,_(";"),J)}function Q(e,t){return"in"==t||"of"==t?(Ct.marked="keyword",f(x)):f(E,J)}function J(e,t){return";"==e?f(Z):"in"==t||"of"==t?(Ct.marked="keyword",f(x)):p(x,_(";"),Z)}function Z(e){")"!=e&&f(x)}function et(e,t){return"*"==t?(Ct.marked="keyword",f(et)):"variable"==e?(m(t),f(et)):"("==e?f(g,y(")"),R(tt,")"),b,w,v):void 0}function tt(e){return"spread"==e?f(tt):p(q,W)}function nt(e,t){return"variable"==e?(m(t),f(it)):void 0}function it(e,t){return"extends"==t?f(x):void 0}function rt(e){return"{"==e?z(O,"}"):void 0}function ot(e,t){return"string"==e?f(w):"variable"==e?(m(t),f(ut)):void 0}function st(e,t){return"*"==t?(Ct.marked="keyword",f(ut,_(";"))):"default"==t?(Ct.marked="keyword",f(x,_(";"))):p(w)}function at(e){return"string"==e?f():p(lt,ut)}function lt(e,t){return"{"==e?z(lt,"}"):("variable"==e&&m(t),f())}function ut(e,t){return"from"==t?(Ct.marked="keyword",f(x)):void 0}function ct(e){return"]"==e?f():p(k,dt)}function dt(e){return"for"==e?p(ht,_("]")):","==e?f(R(k,"]")):p(R(k,"]"))}function ht(e){return"for"==e?f(X,ht):"if"==e?f(x,ht):void 0}var pt,ft,mt=t.indentUnit,gt=n.statementIndent,vt=n.jsonld,yt=n.json||vt,bt=n.typescript,_t=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),i=e("keyword c"),r=e("operator"),o={type:"atom",style:"atom"},s={"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":i,"break":i,"continue":i,"new":i,"delete":i,"throw":i,"debugger":i,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":r,"typeof":r,"instanceof":r,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),"yield":i,"export":e("export"),"import":e("import"),"extends":i};if(bt){var a={type:"variable",style:"variable-3"},l={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:a,number:a,bool:a,any:a};for(var u in l)s[u]=l[u]}return s}(),wt=/[+\-*&%=<>!?|~^]/,xt=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,kt="([{}])",St={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Ct={state:null,column:null,marked:null,cc:null},Tt={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(e){var t={tokenize:o,lastType:"sof",cc:[],lexical:new c((e||0)-mt,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),u(e,t)),t.tokenize!=a&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==pt?n:(t.lastType="operator"!=pt||"++"!=ft&&"--"!=ft?pt:"incdec",h(t,n,pt,ft,e))},indent:function(t,i){if(t.tokenize==a)return e.Pass;if(t.tokenize!=o)return 0;var r=i&&i.charAt(0),s=t.lexical;if(!/^\s*else\b/.test(i))for(var l=t.cc.length-1;l>=0;--l){var u=t.cc[l];if(u==b)s=s.prev;else if(u!=Y)break}"stat"==s.type&&"}"==r&&(s=s.prev),gt&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var c=s.type,d=r==c;return"vardef"==c?s.indented+("operator"==t.lastType||","==t.lastType?s.info+1:0):"form"==c&&"{"==r?s.indented:"form"==c?s.indented+mt:"stat"==c?s.indented+("operator"==t.lastType||","==t.lastType?gt||mt:0):"switch"!=s.info||d||0==n.doubleIndentSwitch?s.align?s.column+(d?0:1):s.indented+(d?0:mt):s.indented+(/^(?:case|default)\b/.test(i)?mt:2*mt)},electricChars:":{}",blockCommentStart:yt?null:"/*",blockCommentEnd:yt?null:"*/",lineComment:yt?null:"//",fold:"brace",helperType:yt?"json":"javascript",jsonldMode:vt,jsonMode:yt}}),e.registerHelper("wordChars","javascript",/[\\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../clike/clike")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../clike/clike"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=e.split(" "),i=0;i<n.length;++i)t[n[i]]=!0;return t}function n(e){return function(t,n){return t.match(e)?n.tokenize=null:t.skipToEnd(),"string"}}function i(e){return 0==e.length?r:function(t,n){for(var o=e[0],s=0;s<o.length;s++)if(t.match(o[s][0]))return n.tokenize=i(e.slice(1)),o[s][1];return n.tokenize=r,"string"}}function r(e,t){var n,r=!1,o=!1;if('"'==e.current())return"string";if(e.match("${",!1)||e.match("{$",!1))return t.tokenize=null,"string";if(e.match(/\$[a-zA-Z_][a-zA-Z0-9_]*/))return e.match("[",!1)&&(t.tokenize=i([[["[",null]],[[/\d[\w\.]*/,"number"],[/\$[a-zA-Z_][a-zA-Z0-9_]*/,"variable-2"],[/[\w\$]+/,"variable"]],[["]",null]]])),e.match(/\-\>\w/,!1)&&(t.tokenize=i([[["->",null]],[[/[\w]+/,"variable"]]])),"variable-2";for(;!(e.eol()||e.match("{$",!1)||e.match(/(\$[a-zA-Z_][a-zA-Z0-9_]*|\$\{)/,!1)&&!r);){if(n=e.next(),!r&&'"'==n){o=!0;break}r=!r&&"\\"==n}return o&&(t.tokenize=null,t.phpEncapsStack.pop()),"string"}var o="abstract and array as break case catch class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw trait try use var while xor die echo empty exit eval include include_once isset list require require_once return print unset __halt_compiler self static parent yield insteadof finally",s="true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__",a="func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once";e.registerHelper("hintWords","php",[o,s,a].join(" ").split(" ")),e.registerHelper("wordChars","php",/[\\w$]/);var l={name:"clike",helperType:"php",keywords:t(o),blockKeywords:t("catch do else elseif for foreach if switch try while finally"),atoms:t(s),builtin:t(a),multiLineStrings:!0,hooks:{$:function(e){return e.eatWhile(/[\w\$_]/),"variable-2"},"<":function(e,t){return e.match(/<</)?(e.eatWhile(/[\w\.]/),t.tokenize=n(e.current().slice(3)),t.tokenize(e,t)):!1},"#":function(e){for(;!e.eol()&&!e.match("?>",!1);)e.next();return"comment"},"/":function(e){if(e.eat("/")){for(;!e.eol()&&!e.match("?>",!1);)e.next();return"comment"}return!1},'"':function(e,t){return t.phpEncapsStack||(t.phpEncapsStack=[]),t.phpEncapsStack.push(0),t.tokenize=r,t.tokenize(e,t)},"{":function(e,t){return t.phpEncapsStack&&t.phpEncapsStack.length>0&&t.phpEncapsStack[t.phpEncapsStack.length-1]++,!1},"}":function(e,t){return t.phpEncapsStack&&t.phpEncapsStack.length>0&&0==--t.phpEncapsStack[t.phpEncapsStack.length-1]&&(t.tokenize=r),!1}}};e.defineMode("php",function(t,n){function i(e,t){var n=t.curMode==o;if(e.sol()&&t.pending&&'"'!=t.pending&&"'"!=t.pending&&(t.pending=null),n)return n&&null==t.php.tokenize&&e.match("?>")?(t.curMode=r,t.curState=t.html,"meta"):o.token(e,t.curState);if(e.match(/^<\?\w*/))return t.curMode=o,t.curState=t.php,"meta";if('"'==t.pending||"'"==t.pending){for(;!e.eol()&&e.next()!=t.pending;);var i="string"}else if(t.pending&&e.pos<t.pending.end){e.pos=t.pending.end;var i=t.pending.style}else var i=r.token(e,t.curState);t.pending&&(t.pending=null);var s,a=e.current(),l=a.search(/<\?/);return-1!=l&&(t.pending="string"==i&&(s=a.match(/[\'\"]$/))&&!/\?>/.test(a)?s[0]:{end:e.pos,style:i},e.backUp(a.length-l)),i}var r=e.getMode(t,"text/html"),o=e.getMode(t,l);return{startState:function(){var t=e.startState(r),i=e.startState(o);return{html:t,php:i,curMode:n.startOpen?o:r,curState:n.startOpen?i:t,pending:null}},copyState:function(t){var n,i=t.html,s=e.copyState(r,i),a=t.php,l=e.copyState(o,a);return n=t.curMode==r?s:l,{html:s,php:l,curMode:t.curMode,curState:n,pending:t.pending}},token:i,indent:function(e,t){return e.curMode!=o&&/^\s*<\//.test(t)||e.curMode==o&&/^\?>/.test(t)?r.indent(e.html,t):e.curMode.indent(e.curState,t)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",innerMode:function(e){return{state:e.curState,mode:e.curMode}}}},"htmlmixed","clike"),e.defineMIME("application/x-httpd-php","php"),e.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),e.defineMIME("text/x-php",l)}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("ruby",function(e){function t(e){for(var t={},n=0,i=e.length;i>n;++n)t[e[n]]=!0;return t}function n(e,t,n){return n.tokenize.push(e),e(t,n)}function i(e,t){if(u=null,e.sol()&&e.match("=begin")&&e.eol())return t.tokenize.push(l),"comment";if(e.eatSpace())return null;var i,r=e.next();if("`"==r||"'"==r||'"'==r)return n(s(r,"string",'"'==r||"`"==r),e,t);if("/"!=r||e.eol()||" "==e.peek()){if("%"==r){var o="string",c=!0;e.eat("s")?o="atom":e.eat(/[WQ]/)?o="string":e.eat(/[r]/)?o="string-2":e.eat(/[wxq]/)&&(o="string",c=!1);var d=e.eat(/[^\w\s]/);return d?(p.propertyIsEnumerable(d)&&(d=p[d]),n(s(d,o,c,!0),e,t)):"operator"}if("#"==r)return e.skipToEnd(),"comment";if("<"==r&&(i=e.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return n(a(i[1]),e,t);if("0"==r)return e.eatWhile(e.eat("x")?/[\da-fA-F]/:e.eat("b")?/[01]/:/[0-7]/),"number";if(/\d/.test(r))return e.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"==r){for(;e.match(/^\\[CM]-/););return e.eat("\\")?e.eatWhile(/\w/):e.next(),"string"}return":"==r?e.eat("'")?n(s("'","atom",!1),e,t):e.eat('"')?n(s('"',"atom",!0),e,t):e.eat(/[\<\>]/)?(e.eat(/[\<\>]/),"atom"):e.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":e.eat(/[a-zA-Z$@_]/)?(e.eatWhile(/[\w]/),e.eat(/[\?\!\=]/),"atom"):"operator":"@"==r&&e.match(/^@?[a-zA-Z_]/)?(e.eat("@"),e.eatWhile(/[\w]/),"variable-2"):"$"==r?(e.eat(/[a-zA-Z_]/)?e.eatWhile(/[\w]/):e.eat(/\d/)?e.eat(/\d/):e.next(),"variable-3"):/[a-zA-Z_]/.test(r)?(e.eatWhile(/[\w]/),e.eat(/[\?\!]/),e.eat(":")?"atom":"ident"):"|"!=r||!t.varList&&"{"!=t.lastTok&&"do"!=t.lastTok?/[\(\)\[\]{}\\;]/.test(r)?(u=r,null):"-"==r&&e.eat(">")?"arrow":/[=+\-\/*:\.^%<>~|]/.test(r)?(e.eatWhile(/[=+\-\/*:\.^%<>~|]/),"operator"):null:(u="|",null)}return e.eat("=")?"operator":n(s(r,"string-2",!0),e,t)}function r(){var e=1;return function(t,n){if("}"==t.peek()){if(e--,0==e)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n)}else"{"==t.peek()&&e++;return i(t,n)}}function o(){var e=!1;return function(t,n){return e?(n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n)):(e=!0,i(t,n))}}function s(e,t,n,i){return function(s,a){var l,u=!1;for("read-quoted-paused"===a.context.type&&(a.context=a.context.prev,s.eat("}"));null!=(l=s.next());){if(l==e&&(i||!u)){a.tokenize.pop();break}if(n&&"#"==l&&!u){if(s.eat("{")){"}"==e&&(a.context={prev:a.context,type:"read-quoted-paused"}),a.tokenize.push(r());break}if(/[@\$]/.test(s.peek())){a.tokenize.push(o());break}}u=!u&&"\\"==l}return t}}function a(e){return function(t,n){return t.match(e)?n.tokenize.pop():t.skipToEnd(),"string"}}function l(e,t){return e.sol()&&e.match("=end")&&e.eol()&&t.tokenize.pop(),e.skipToEnd(),"comment"}var u,c=t(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"]),d=t(["def","class","case","for","while","module","then","catch","loop","proc","begin"]),h=t(["end","until"]),p={"[":"]","{":"}","(":")"};return{startState:function(){return{tokenize:[i],indented:0,context:{type:"top",indented:-e.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(e,t){e.sol()&&(t.indented=e.indentation());var n,i=t.tokenize[t.tokenize.length-1](e,t);if("ident"==i){var r=e.current();i=c.propertyIsEnumerable(e.current())?"keyword":/^[A-Z]/.test(r)?"tag":"def"==t.lastTok||"class"==t.lastTok||t.varList?"def":"variable",d.propertyIsEnumerable(r)?n="indent":h.propertyIsEnumerable(r)?n="dedent":"if"!=r&&"unless"!=r||e.column()!=e.indentation()?"do"==r&&t.context.indented<t.indented&&(n="indent"):n="indent"}return(u||i&&"comment"!=i)&&(t.lastTok=r||u||i),"|"==u&&(t.varList=!t.varList),"indent"==n||/[\(\[\{]/.test(u)?t.context={prev:t.context,type:u||i,indented:t.indented}:("dedent"==n||/[\)\]\}]/.test(u))&&t.context.prev&&(t.context=t.context.prev),e.eol()&&(t.continuedLine="\\"==u||"operator"==i),i},indent:function(t,n){if(t.tokenize[t.tokenize.length-1]!=i)return 0;var r=n&&n.charAt(0),o=t.context,s=o.type==p[r]||"keyword"==o.type&&/^(?:end|until|else|elsif|when|rescue)\b/.test(n);return o.indented+(s?0:e.indentUnit)+(t.continuedLine?e.indentUnit:0)},electricChars:"}de",lineComment:"#"}}),e.defineMIME("text/x-ruby","ruby")}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("xml",function(t,n){function i(e,t){function n(n){return t.tokenize=n,n(e,t)}var i=e.next();if("<"==i)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(s("atom","]]>")):null:e.match("--")?n(s("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(a(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=s("meta","?>"),"meta"):(k=e.eat("/")?"closeTag":"openTag",t.tokenize=r,"tag bracket");if("&"==i){var o;return o=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),o?"atom":"error"}return e.eatWhile(/[^&<]/),null}function r(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=i,k=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return k="equals",null;if("<"==n){t.tokenize=i,t.state=d,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=o(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function o(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=r;break}return"string"};return t.isInAttribute=!0,t}function s(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=i;break}n.next()}return e}}function a(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=a(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=i;break}return n.tokenize=a(e-1),n.tokenize(t,n)}}return"meta"}}function l(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(C.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function u(e){e.context&&(e.context=e.context.prev)}function c(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!C.contextGrabbers.hasOwnProperty(n)||!C.contextGrabbers[n].hasOwnProperty(t))return;u(e)}}function d(e,t,n){return"openTag"==e?(n.tagStart=t.column(),h):"closeTag"==e?p:d}function h(e,t,n){return"word"==e?(n.tagName=t.current(),S="tag",g):(S="error",h)}function p(e,t,n){if("word"==e){var i=t.current();return n.context&&n.context.tagName!=i&&C.implicitlyClosed.hasOwnProperty(n.context.tagName)&&u(n),n.context&&n.context.tagName==i?(S="tag",f):(S="tag error",m)}return S="error",m}function f(e,t,n){return"endTag"!=e?(S="error",f):(u(n),d)}function m(e,t,n){return S="error",f(e,t,n)}function g(e,t,n){if("word"==e)return S="attribute",v;if("endTag"==e||"selfcloseTag"==e){var i=n.tagName,r=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||C.autoSelfClosers.hasOwnProperty(i)?c(n,i):(c(n,i),n.context=new l(n,i,r==n.indented)),d}return S="error",g}function v(e,t,n){return"equals"==e?y:(C.allowMissing||(S="error"),g(e,t,n))}function y(e,t,n){return"string"==e?b:"word"==e&&C.allowUnquoted?(S="string",g):(S="error",g(e,t,n))}function b(e,t,n){return"string"==e?b:g(e,t,n)}var _=t.indentUnit,w=n.multilineTagIndentFactor||1,x=n.multilineTagIndentPastTag;null==x&&(x=!0);var k,S,C=n.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},T=n.alignCDATA;return{startState:function(){return{tokenize:i,state:d,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;k=null;var n=t.tokenize(e,t);return(n||k)&&"comment"!=n&&(S=null,t.state=t.state(k||n,e,t),S&&(n="error"==S?n+" error":S)),n},indent:function(t,n,o){var s=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+_;if(s&&s.noIndent)return e.Pass;if(t.tokenize!=r&&t.tokenize!=i)return o?o.match(/^(\s*)/)[0].length:0;if(t.tagName)return x?t.tagStart+t.tagName.length+2:t.tagStart+_*w;if(T&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;s;){if(s.tagName==a[2]){s=s.prev;break}if(!C.implicitlyClosed.hasOwnProperty(s.tagName))break;s=s.prev}else if(a)for(;s;){var l=C.contextGrabbers[s.tagName];if(!l||!l.hasOwnProperty(a[2]))break;s=s.prev}for(;s&&!s.startOfLine;)s=s.prev;return s?s.indent+_:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:n.htmlMode?"html":"xml",helperType:n.htmlMode?"html":"xml"}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function n(e){return e.scopes[e.scopes.length-1]}var i=t(["and","or","not","is","in"]),r=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield"],o=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"],s={builtins:["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"],keywords:["exec","print"]},a={builtins:["ascii","bytes","exec","print"],keywords:["nonlocal","False","True","None"]};e.registerHelper("hintWords","python",r.concat(o)),e.defineMode("python",function(l,u){function c(e,t){if(e.sol()&&"py"==n(t).type){var i=n(t).offset;if(e.eatSpace()){var r=e.indentation();return r>i?p(e,t,"py"):i>r&&f(e,t)&&(t.errorToken=!0),null}var o=d(e,t);return i>0&&f(e,t)&&(o+=" "+g),o}return d(e,t)}function d(e,t){if(e.eatSpace())return null;var n=e.peek();if("#"==n)return e.skipToEnd(),"comment";if(e.match(/^[0-9\.]/,!1)){var r=!1;if(e.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)&&(r=!0),e.match(/^\d+\.\d*/)&&(r=!0),e.match(/^\.\d+/)&&(r=!0),r)return e.eat(/J/i),"number";var o=!1;if(e.match(/^0x[0-9a-f]+/i)&&(o=!0),e.match(/^0b[01]+/i)&&(o=!0),e.match(/^0o[0-7]+/i)&&(o=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(e.eat(/J/i),o=!0),e.match(/^0(?![\dx])/i)&&(o=!0),o)return e.eat(/L/i),"number"}return e.match(T)?(t.tokenize=h(e.current()),t.tokenize(e,t)):e.match(w)||e.match(_)?null:e.match(b)||e.match(v)||e.match(i)?"operator":e.match(y)?null:e.match(E)?"keyword":e.match(M)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(x)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),g)}function h(e){function t(t,r){for(;!t.eol();)if(t.eatWhile(/[^'"\\]/),t.eat("\\")){if(t.next(),n&&t.eol())return i}else{if(t.match(e))return r.tokenize=c,i;t.eat(/['"]/)}if(n){if(u.singleLineStringErrors)return g;r.tokenize=c}return i}for(;"rub".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var n=1==e.length,i="string";return t.isString=!0,t}function p(e,t,i){var r=0,o=null;if("py"==i)for(;"py"!=n(t).type;)t.scopes.pop();r=n(t).offset+("py"==i?l.indentUnit:k),"py"==i||e.match(/^(\s|#.*)*$/,!1)||(o=e.column()+1),t.scopes.push({offset:r,type:i,align:o})}function f(e,t){for(var i=e.indentation();n(t).offset>i;){if("py"!=n(t).type)return!0;t.scopes.pop()}return n(t).offset!=i}function m(e,t){var i=t.tokenize(e,t),r=e.current();if("."==r)return i=e.match(x,!1)?null:g,null==i&&"meta"==t.lastStyle&&(i="meta"),i;if("@"==r)return e.match(x,!1)?"meta":g;"variable"!=i&&"builtin"!=i||"meta"!=t.lastStyle||(i="meta"),("pass"==r||"return"==r)&&(t.dedent+=1),"lambda"==r&&(t.lambda=!0),":"!=r||t.lambda||"py"!=n(t).type||p(e,t,"py");var o=1==r.length?"[({".indexOf(r):-1;if(-1!=o&&p(e,t,"])}".slice(o,o+1)),o="])}".indexOf(r),-1!=o){if(n(t).type!=r)return g;t.scopes.pop()}return t.dedent>0&&e.eol()&&"py"==n(t).type&&(t.scopes.length>1&&t.scopes.pop(),t.dedent-=1),i}var g="error",v=u.singleOperators||new RegExp("^[\\+\\-\\*/%&|\\^~<>!]"),y=u.singleDelimiters||new RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]"),b=u.doubleOperators||new RegExp("^((==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))"),_=u.doubleDelimiters||new RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))"),w=u.tripleDelimiters||new RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))"),x=u.identifiers||new RegExp("^[_A-Za-z][_A-Za-z0-9]*"),k=u.hangingIndent||l.indentUnit,S=r,C=o;if(void 0!=u.extra_keywords&&(S=S.concat(u.extra_keywords)),void 0!=u.extra_builtins&&(C=C.concat(u.extra_builtins)),u.version&&3==parseInt(u.version,10)){S=S.concat(a.keywords),C=C.concat(a.builtins);var T=new RegExp("^(([rb]|(br))?('{3}|\"{3}|['\"]))","i")}else{S=S.concat(s.keywords),C=C.concat(s.builtins);var T=new RegExp("^(([rub]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var E=t(S),M=t(C),A={startState:function(e){return{tokenize:c,scopes:[{offset:e||0,type:"py",align:null}],lastStyle:null,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=t.errorToken;n&&(t.errorToken=!1);var i=m(e,t);t.lastStyle=i;var r=e.current();return r&&i&&(t.lastToken=r),e.eol()&&t.lambda&&(t.lambda=!1),n?i+" "+g:i},indent:function(t,i){if(t.tokenize!=c)return t.tokenize.isString?e.Pass:0;var r=n(t),o=i&&i.charAt(0)==r.type;return null!=r.align?r.align-(o?1:0):r.offset-(o?l.indentUnit:0)},lineComment:"#",fold:"indent"};return A}),e.defineMIME("text/x-python","python");var l=function(e){return e.split(" ")};e.defineMIME("text/x-cython",{name:"python",extra_keywords:l("by cdef cimport cpdef ctypedef enum exceptextern gil include nogil property publicreadonly struct union DEF IF ELIF ELSE")})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){for(var n=-1,r=1,o=e.split(i),s=0;s<o.length;s++){for(var a=1;a<=o[s].length;a++)r===t&&(n=s),r++;r++}var l=["",""];return 0===t?(l[1]=o[0],l[0]=null):(l[1]=o[n],l[0]=o[n-1]),l}var n=[" ","\\+","\\-","\\(","\\)","\\*","/",":","\\?","\\<","\\>"," "],i=new RegExp(n.join("|"),"g");e.defineMode("swift",function(){var e=["class","deinit","enum","extension","func","import","init","let","protocol","static","struct","subscript","typealias","var","as","dynamicType","is","new","super","self","Self","Type","__COLUMN__","__FILE__","__FUNCTION__","__LINE__","break","case","continue","default","do","else","fallthrough","if","in","for","return","switch","where","while","associativity","didSet","get","infix","inout","left","mutating","none","nonmutating","operator","override","postfix","precedence","prefix","right","set","unowned","unowned(safe)","unowned(unsafe)","weak","willSet"],n=["Infinity","NaN","undefined","null","true","false","on","off","yes","no","nil"],r=["0","1","2","3","4","5","6","7","8","9"],o=["+","-","/","*","%","=","|","&","<",">","[","]"],s=[";",",",".","(",")"],a=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,l=/^[_A-Za-z$][_A-Za-z$0-9]*/,u=/^(@|this\.)[_A-Za-z$][_A-Za-z$0-9]*/,c=/^(\/{3}|\/)/;return{startState:function(){return{prev:!1,func:!1,op:!1,string:!1,escape:!1,inner:!1,comment:!1,num_left:0,num_right:0,word:"",back:0,back_type:!1}},token:function(d,h){var p;if(d.eatSpace())return null;if(p=d.next(),h.string)return h.escape?(h.escape=!1,"string"):'"'!==p&&"'"!==p||h.escape?"\\"===p&&"("===d.peek()?(h.inner=!0,h.string=!1,"keyword"):"\\"===p&&"("!==d.peek()?(h.escape=!0,h.string=!0,"string"):"string":(h.string=!1,"string");if(h.comment)return"*"===p&&"/"===d.peek()?(h.prev="*","comment"):"/"===p&&"*"===h.prev?(h.prev=!1,h.comment=!1,"comment"):"comment";if("/"===p){if("/"===d.peek())return d.skipToEnd(),"comment";if("*"===d.peek())return h.comment=!0,"comment"}if("("===p&&h.inner)return h.num_left++,null;if(")"===p&&h.inner)return h.num_right++,h.num_left===h.num_right&&(h.inner=!1,h.string=!0),null;var f=t(d.string,d.pos),m=f[1],g=f[0];if(-1!==o.indexOf(p+""))return"operator";if(-1!==s.indexOf(p+""))return"punctuation";if("undefined"!=typeof m){if("#"===m.charAt(0))return null;if(-1!==n.indexOf(m))return"atom";if(-1!==r.indexOf(m))return"number";if((-1!==r.indexOf(m.charAt(0)+"")||o.indexOf(m.charAt(0)+""))&&-1!==r.indexOf(p))return"number";if(-1!==e.indexOf(m)||-1!==e.indexOf(m.split(i)[0]))return"keyword";if("@"===m.charAt(0))return"def";if("var"===g||"let"===g)return"def"}if("'"===p||'"'===p)return h.string=!0,"string";if("("===p&&h.inner&&h.num_left++,")"===p&&h.inner)return h.num_right++,h.num_left===h.num_right&&(h.inner=!1,h.string=!0),null;if(d.match(/^-?[0-9\.]/,!1)){var v=!1;if(d.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(v=!0),d.match(/^-?\d+\.\d*/)&&(v=!0),d.match(/^-?\.\d+/)&&(v=!0),v)return"."==d.peek()&&d.backUp(1),"number";var y=!1;if(d.match(/^-?0x[0-9a-f]+/i)&&(y=!0),d.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(y=!0),d.match(/^-?0(?![\dx])/i)&&(y=!0),y)return"number"}if(d.match(c)){if("/"!=d.current()||d.match(/^.*\//,!1))return"string";d.backUp(1)}return d.match(a)?"punctuation":d.match(l)?"variable":d.match(u)?"property":void 0}}}),e.defineMIME("text/swift","swift")}),function(e){function t(e,t){return"function"==typeof e?e.call(t):e}function n(e){for(;e=e.parentNode;)if(e==document)return!0;return!1}function i(t,n){this.$element=e(t),this.options=n,this.enabled=!0,this.fixTitle()}i.prototype={show:function(){var n=this.getTitle();if(n&&this.enabled){var i=this.tip();i.find(".tipsy-inner")[this.options.html?"html":"text"](n),i[0].className="tipsy",i.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var r,o=e.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),s=i[0].offsetWidth,a=i[0].offsetHeight,l=t(this.options.gravity,this.$element[0]);switch(l.charAt(0)){case"n":r={top:o.top+o.height+this.options.offset,left:o.left+o.width/2-s/2};break;case"s":r={top:o.top-a-this.options.offset,left:o.left+o.width/2-s/2};break;case"e":r={top:o.top+o.height/2-a/2,left:o.left-s-this.options.offset};break;case"w":r={top:o.top+o.height/2-a/2,left:o.left+o.width+this.options.offset}}2==l.length&&(r.left="w"==l.charAt(1)?o.left+o.width/2-15:o.left+o.width/2-s+15),i.css(r).addClass("tipsy-"+l),i.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+l.charAt(0),this.options.className&&i.addClass(t(this.options.className,this.$element[0])),this.options.fade?i.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):i.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){e(this).remove()}):this.tip().remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,n=this.options;this.fixTitle();var e,n=this.options;return"string"==typeof n.title?e=t.attr("title"==n.title?"original-title":n.title):"function"==typeof n.title&&(e=n.title.call(t[0])),e=(""+e).replace(/(^\s*|\s*$)/,""),e||n.fallback},tip:function(){return this.$tip||(this.$tip=e('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},e.fn.tipsy=function(t){function n(n){var r=e.data(n,"tipsy");return r||(r=new i(n,e.fn.tipsy.elementOptions(n,t)),e.data(n,"tipsy",r)),r}function r(){var e=n(this);e.hoverState="in",0==t.delayIn?e.show():(e.fixTitle(),setTimeout(function(){"in"==e.hoverState&&e.show()},t.delayIn))}function o(){var e=n(this);e.hoverState="out",0==t.delayOut?e.hide():setTimeout(function(){"out"==e.hoverState&&e.hide()},t.delayOut)}if(t===!0)return this.data("tipsy");if("string"==typeof t){var s=this.data("tipsy");return s&&s[t](),this}if(t=e.extend({},e.fn.tipsy.defaults,t),t.live||this.each(function(){n(this)}),"manual"!=t.trigger){var a=t.live?"live":"bind",l="hover"==t.trigger?"mouseenter":"focus",u="hover"==t.trigger?"mouseleave":"blur";this[a](l,r)[a](u,o)}return this},e.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},e.fn.tipsy.revalidate=function(){e(".tipsy").each(function(){var t=e.data(this,"tipsy-pointee");t&&n(t)||e(this).remove()})},e.fn.tipsy.elementOptions=function(t,n){return e.metadata?e.extend({},n,e(t).metadata()):n},e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"s":"n"},e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"e":"w"},e.fn.tipsy.autoBounds=function(t,n){return function(){var i={ns:n[0],ew:n.length>1?n[1]:!1},r=e(document).scrollTop()+t,o=e(document).scrollLeft()+t,s=e(this);return s.offset().top<r&&(i.ns="n"),s.offset().left<o&&(i.ew="w"),e(window).width()+e(document).scrollLeft()-s.offset().left<t&&(i.ew="e"),e(window).height()+e(document).scrollTop()-s.offset().top<t&&(i.ns="s"),i.ns+(i.ew?i.ew:"")}}}(jQuery),function(){var e,t,n,i,r,o,s;r=null,t=function(){return null!=r?r:$("#peek").data("request-id")},i=function(){return $("#peek").length},s=function(e){var n,i;for(n in e.data)for(i in e.data[n])$("[data-defer-to="+n+"-"+i+"]").text(e.data[n][i]);return $(document).trigger("peek:render",[t(),e])},n=function(){return $("#peek .peek-tooltip, #peek .tooltip").each(function(){var e,t;return e=$(this),t=e.hasClass("rightwards")||e.hasClass("leftwards")?$.fn.tipsy.autoWE:$.fn.tipsy.autoNS,e.tipsy({gravity:t})})},o=function(e){var t;if(!$(e.target).is(":input"))return 96!==e.which||e.metaKey?void 0:(t=$("#peek"),t.hasClass("disabled")?(t.removeClass("disabled"),document.cookie="peek=true; path=/"):(t.addClass("disabled"),document.cookie="peek=false; path=/"))},e=function(){return $.ajax("/peek/results",{data:{request_id:t()},success:function(e){return s(e)},error:function(){}})},$(document).on("keypress",o),$(document).on("peek:update",n),$(document).on("peek:update",e),$(document).on("pjax:end",function(e,t){return null!=t&&(r=t.getResponseHeader("X-Request-Id")),i()?$(this).trigger("peek:update"):void 0}),$(document).on("page:change",function(){return i()?$(this).trigger("peek:update"):void 0}),$(function(){return i()?$(this).trigger("peek:update"):void 0})}.call(this),function(){$(document).on("click",".js-lineprof-file",function(e){return $(this).parents(".peek-rblineprof-file").next("div").toggle(),e.preventDefault(),!1}),$(function(){})}.call(this);/*
 *  Copyright 2011 Twitter, Inc.
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
var Hogan={};!function(e,t){function n(e,t,n){function i(){}function r(){}i.prototype=e,r.prototype=e.subs;var o,s=new i;s.subs=new r,s.ib();for(o in t)s.subs[o]=t[o];for(o in n)s.partials[o]=n[o];return s}function i(e){return String(null===e||void 0===e?"":e)}function r(e){return e=i(e),c.test(e)?e.replace(o,"&amp;").replace(s,"&lt;").replace(a,"&gt;").replace(l,"&#39;").replace(u,"&quot;"):e}e.Template=function(e,t,n,i){e=e||{},this.r=e.code||this.r,this.c=n,this.options=i,this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.ib()},e.Template.prototype={r:function(){return""},v:r,t:i,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},ep:function(e,t){var i=this.partials[e],r=t[i.name];if(i.instance&&i.base==r)return i.instance;if("string"==typeof r){if(!this.c)throw new Error("No compiler available.");r=this.c.compile(r,this.options)}return r?(this.partials[e].base=r,i.subs&&(r=n(r,i.subs,i.partials)),this.partials[e].instance=r,r):null},rp:function(e,t,n,i){var r=this.ep(e,n);return r?r.ri(t,n,i):""},rs:function(e,t,n){var i=e[e.length-1];if(!d(i))return void n(e,t,this);for(var r=0;r<i.length;r++)e.push(i[r]),n(e,t,this),e.pop()},s:function(e,t,n,i,r,o,s){var a;return d(e)&&0===e.length?!1:("function"==typeof e&&(e=this.ms(e,t,n,i,r,o,s)),a=""===e||!!e,!i&&a&&t&&t.push("object"==typeof e?e:t[t.length-1]),a)},d:function(e,t,n,i){var r=e.split("."),o=this.f(r[0],t,n,i),s=null;if("."===e&&d(t[t.length-2]))return t[t.length-1];for(var a=1;a<r.length;a++)o&&"object"==typeof o&&null!=o[r[a]]?(s=o,o=o[r[a]]):o="";return i&&!o?!1:(i||"function"!=typeof o||(t.push(s),o=this.mv(o,t,n),t.pop()),o)},f:function(e,t,n,i){for(var r=!1,o=null,s=!1,a=t.length-1;a>=0;a--)if(o=t[a],o&&"object"==typeof o&&null!=o[e]){r=o[e],s=!0;break}return s?(i||"function"!=typeof r||(r=this.mv(r,t,n)),r):i?!1:""},ls:function(e,t,n,r,o){var s=this.options.delimiters;return this.options.delimiters=o,this.b(this.ct(i(e.call(t,r)),t,n)),this.options.delimiters=s,!1},ct:function(e,t,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,n)},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");return this.buf=[],e}:function(){var e=this.buf;return this.buf="",e},ib:function(){this.buf=t?[]:""},ms:function(e,t,n,i,r,o,s){var a=t[t.length-1],l=e.call(a);return"function"==typeof l?i?!0:this.ls(l,a,n,this.text.substring(r,o),s):l},mv:function(e,t,n){var r=t[t.length-1],o=e.call(r);return"function"==typeof o?this.ct(i(o.call(r)),r,n):o},sub:function(e,t,n,i){var r=this.subs[e];r&&r(t,n,this,i)}};var o=/&/g,s=/</g,a=/>/g,l=/\'/g,u=/\"/g,c=/[&<>\"\']/,d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),function(e){function t(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function n(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function i(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var i=1,r=e.length;r>i;i++)if(t.charAt(n+i)!=e.charAt(i))return!1;return!0}function r(t,n,i,a){var l=[],u=null,c=null,d=null;for(c=i[i.length-1];t.length>0;){if(d=t.shift(),c&&"<"==c.tag&&!(d.tag in b))throw new Error("Illegal content in < super tag.");if(e.tags[d.tag]<=e.tags.$||o(d,a))i.push(d),d.nodes=r(t,d.tag,i,a);else{if("/"==d.tag){if(0===i.length)throw new Error("Closing tag without opener: /"+d.n);if(u=i.pop(),d.n!=u.n&&!s(d.n,u.n,a))throw new Error("Nesting error: "+u.n+" vs. "+d.n);return u.end=d.i,l}"\n"==d.tag&&(d.last=0==t.length||"\n"==t[0].tag)}l.push(d)}if(i.length>0)throw new Error("missing closing tag: "+i.pop().n);return l}function o(e,t){for(var n=0,i=t.length;i>n;n++)if(t[n].o==e.n)return e.tag="#",!0}function s(e,t,n){for(var i=0,r=n.length;r>i;i++)if(n[i].c==e&&n[i].o==t)return!0}function a(e){var t=[];for(var n in e)t.push('"'+u(n)+'": function(c,p,t,i) {'+e[n]+"}");return"{ "+t.join(",")+" }"}function l(e){var t=[];for(var n in e.partials)t.push('"'+u(n)+'":{name:"'+u(e.partials[n].name)+'", '+l(e.partials[n])+"}");return"partials: {"+t.join(",")+"}, subs: "+a(e.subs)}function u(e){return e.replace(y,"\\\\").replace(m,'\\"').replace(g,"\\n").replace(v,"\\r")}function c(e){return~e.indexOf(".")?"d":"f"}function d(e,t){var n="<"+(t.prefix||""),i=n+e.n+_++;return t.partials[i]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+u(i)+'",c,p,"'+(e.indent||"")+'"));',i}function h(e,t){t.code+="t.b(t.t(t."+c(e.n)+'("'+u(e.n)+'",c,p,0)));'}function p(e){return"t.b("+e+");"}var f=/\S/,m=/\"/g,g=/\n/g,v=/\r/g,y=/\\/g;e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},e.scan=function(r,o){function s(){y.length>0&&(b.push({tag:"_t",text:new String(y)}),y="")}function a(){for(var t=!0,n=x;n<b.length;n++)if(t=e.tags[b[n].tag]<e.tags._v||"_t"==b[n].tag&&null===b[n].text.match(f),!t)return!1;return t}function l(e,t){if(s(),e&&a())for(var n,i=x;i<b.length;i++)b[i].text&&((n=b[i+1])&&">"==n.tag&&(n.indent=b[i].text.toString()),b.splice(i,1));else t||b.push({tag:"\n"});_=!1,x=b.length}function u(e,t){var i="="+S,r=e.indexOf(i,t),o=n(e.substring(e.indexOf("=",t)+1,r)).split(" ");return k=o[0],S=o[1],r+i.length-1}var c=r.length,d=0,h=1,p=2,m=d,g=null,v=null,y="",b=[],_=!1,w=0,x=0,k="{{",S="}}";for(o&&(o=o.split(" "),k=o[0],S=o[1]),w=0;c>w;w++)m==d?i(k,r,w)?(--w,s(),m=h):"\n"==r.charAt(w)?l(_):y+=r.charAt(w):m==h?(w+=k.length-1,v=e.tags[r.charAt(w+1)],g=v?r.charAt(w+1):"_v","="==g?(w=u(r,w),m=d):(v&&w++,m=p),_=w):i(S,r,w)?(b.push({tag:g,n:n(y),otag:k,ctag:S,i:"/"==g?_-k.length:w+S.length}),y="",w+=S.length-1,m=d,"{"==g&&("}}"==S?w++:t(b[b.length-1]))):y+=r.charAt(w);return l(_,!0),b};var b={_t:!0,"\n":!0,$:!0,"/":!0};e.stringify=function(t){return"{code: function (c,p,i) { "+e.wrapMain(t.code)+" },"+l(t)+"}"};var _=0;e.generate=function(t,n,i){_=0;var r={code:"",subs:{},partials:{}};return e.walk(t,r),i.asString?this.stringify(r,n,i):this.makeTemplate(r,n,i)},e.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},e.template=e.Template,e.makeTemplate=function(e,t,n){var i=this.makePartials(e);return i.code=new Function("c","p","i",this.wrapMain(e.code)),new this.template(i,t,this,n)},e.makePartials=function(e){var t,n={subs:{},partials:e.partials,name:e.name};for(t in n.partials)n.partials[t]=this.makePartials(n.partials[t]);for(t in e.subs)n.subs[t]=new Function("c","p","t","i",e.subs[t]);return n},e.codegen={"#":function(t,n){n.code+="if(t.s(t."+c(t.n)+'("'+u(t.n)+'",c,p,1),c,p,0,'+t.i+","+t.end+',"'+t.otag+" "+t.ctag+'")){t.rs(c,p,function(c,p,t){',e.walk(t.nodes,n),n.code+="});c.pop();}"},"^":function(t,n){n.code+="if(!t.s(t."+c(t.n)+'("'+u(t.n)+'",c,p,1),c,p,1,0,0,"")){',e.walk(t.nodes,n),n.code+="};"},">":d,"<":function(t,n){var i={partials:{},code:"",subs:{},inPartial:!0};e.walk(t.nodes,i);var r=n.partials[d(t,n)];r.subs=i.subs,r.partials=i.partials},$:function(t,n){var i={subs:{},code:"",partials:n.partials,prefix:t.n};e.walk(t.nodes,i),n.subs[t.n]=i.code,n.inPartial||(n.code+='t.sub("'+u(t.n)+'",c,p,i);')},"\n":function(e,t){t.code+=p('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+c(e.n)+'("'+u(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=p('"'+u(e.text)+'"')},"{":h,"&":h},e.walk=function(t,n){for(var i,r=0,o=t.length;o>r;r++)i=e.codegen[t[r].tag],i&&i(t[r],n);return n},e.parse=function(e,t,n){return n=n||{},r(e,"",[],n.sectionTags||[])},e.cache={},e.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda].join("||")},e.compile=function(t,n){n=n||{};var i=e.cacheKey(t,n),r=this.cache[i];return r?r:(r=this.generate(this.parse(this.scan(t,n.delimiters),t,n),t,n),this.cache[i]=r)}}("undefined"!=typeof exports?exports:Hogan);/*!
* MediaElement.js
* HTML5 <video> and <audio> shim and player
* http://mediaelementjs.com/
*
* Creates a JavaScript object that mimics HTML5 MediaElement API
* for browsers that don't understand HTML5 or can't play the provided codec
* Can play MP4 (H.264), Ogg, WebM, FLV, WMV, WMA, ACC, and MP3
*
* Copyright 2010-2014, John Dyer (http://j.hn)
* License: MIT
*
*/
var mejs=mejs||{};mejs.version="2.15.1",mejs.meIndex=0,mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube","application/x-mpegURL"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]},mejs.Utility={encodeUrl:function(e){return encodeURIComponent(e)},escapeHTML:function(e){return e.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(e){var t=document.createElement("div");return t.innerHTML='<a href="'+this.escapeHTML(e)+'">x</a>',t.firstChild.href},getScriptPath:function(e){for(var t,n,i,r,o,s,a=0,l="",u="",c=document.getElementsByTagName("script"),d=c.length,h=e.length;d>a;a++){for(r=c[a].src,n=r.lastIndexOf("/"),n>-1?(s=r.substring(n+1),o=r.substring(0,n+1)):(s=r,o=""),t=0;h>t;t++)if(u=e[t],i=s.indexOf(u),i>-1){l=o;break}if(""!==l)break}return l},secondsToTimeCode:function(e,t,n,i){"undefined"==typeof n?n=!1:"undefined"==typeof i&&(i=25);var r=Math.floor(e/3600)%24,o=Math.floor(e/60)%60,s=Math.floor(e%60),a=Math.floor((e%1*i).toFixed(3)),l=(t||r>0?(10>r?"0"+r:r)+":":"")+(10>o?"0"+o:o)+":"+(10>s?"0"+s:s)+(n?":"+(10>a?"0"+a:a):"");return l},timeCodeToSeconds:function(e,t,n,i){"undefined"==typeof n?n=!1:"undefined"==typeof i&&(i=25);var r=e.split(":"),o=parseInt(r[0],10),s=parseInt(r[1],10),a=parseInt(r[2],10),l=0,u=0;return n&&(l=parseInt(r[3])/i),u=3600*o+60*s+a+l},convertSMPTEtoSeconds:function(e){if("string"!=typeof e)return!1;e=e.replace(",",".");var t=0,n=-1!=e.indexOf(".")?e.split(".")[1].length:0,i=1;e=e.split(":").reverse();for(var r=0;r<e.length;r++)i=1,r>0&&(i=Math.pow(60,r)),t+=Number(e[r])*i;return Number(t.toFixed(n))},removeSwf:function(e){var t=document.getElementById(e);t&&/object|embed/i.test(t.nodeName)&&(mejs.MediaFeatures.isIE?(t.style.display="none",function(){4==t.readyState?mejs.Utility.removeObjectInIE(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))},removeObjectInIE:function(e){var t=document.getElementById(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}},mejs.PluginDetector={hasPluginVersion:function(e,t){var n=this.plugins[e];return t[1]=t[1]||0,t[2]=t[2]||0,n[0]>t[0]||n[0]==t[0]&&n[1]>t[1]||n[0]==t[0]&&n[1]==t[1]&&n[2]>=t[2]?!0:!1},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(e,t,n,i,r){this.plugins[e]=this.detectPlugin(t,n,i,r)},detectPlugin:function(e,t,n,i){var r,o,s,a=[0,0,0];if("undefined"!=typeof this.nav.plugins&&"object"==typeof this.nav.plugins[e]){if(r=this.nav.plugins[e].description,r&&("undefined"==typeof this.nav.mimeTypes||!this.nav.mimeTypes[t]||this.nav.mimeTypes[t].enabledPlugin))for(a=r.replace(e,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),o=0;o<a.length;o++)a[o]=parseInt(a[o].match(/\d+/),10)}else if("undefined"!=typeof window.ActiveXObject)try{s=new ActiveXObject(n),s&&(a=i(s))}catch(l){}return a}},mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(e){var t=[],n=e.GetVariable("$version");return n&&(n=n.split(" ")[1].split(","),t=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)]),t}),mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(e){var t=[0,0,0,0],n=function(e,t,n,i){for(;e.isVersionSupported(t[0]+"."+t[1]+"."+t[2]+"."+t[3]);)t[n]+=i;t[n]-=i};return n(e,t,0,1),n(e,t,1,1),n(e,t,2,1e4),n(e,t,2,1e3),n(e,t,2,100),n(e,t,2,10),n(e,t,2,1),n(e,t,3,1),t}),mejs.MediaFeatures={init:function(){var e,t,n=this,i=document,r=mejs.PluginDetector.nav,o=mejs.PluginDetector.ua.toLowerCase(),s=["source","track","audio","video"];n.isiPad=null!==o.match(/ipad/i),n.isiPhone=null!==o.match(/iphone/i),n.isiOS=n.isiPhone||n.isiPad,n.isAndroid=null!==o.match(/android/i),n.isBustedAndroid=null!==o.match(/android 2\.[12]/),n.isBustedNativeHTTPS="https:"===location.protocol&&(null!==o.match(/android [12]\./)||null!==o.match(/macintosh.* version.* safari/)),n.isIE=-1!=r.appName.toLowerCase().indexOf("microsoft")||null!==r.appName.toLowerCase().match(/trident/gi),n.isChrome=null!==o.match(/chrome/gi),n.isChromium=null!==o.match(/chromium/gi),n.isFirefox=null!==o.match(/firefox/gi),n.isWebkit=null!==o.match(/webkit/gi),n.isGecko=null!==o.match(/gecko/gi)&&!n.isWebkit&&!n.isIE,n.isOpera=null!==o.match(/opera/gi),n.hasTouch="ontouchstart"in window,n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(e=0;e<s.length;e++)t=document.createElement(s[e]);n.supportsMediaTag="undefined"!=typeof t.canPlayType||n.isBustedAndroid;try{t.canPlayType("video/mp4")}catch(a){n.supportsMediaTag=!1}n.hasSemiNativeFullScreen="undefined"!=typeof t.webkitEnterFullscreen,n.hasNativeFullscreen="undefined"!=typeof t.requestFullscreen,n.hasWebkitNativeFullScreen="undefined"!=typeof t.webkitRequestFullScreen,n.hasMozNativeFullScreen="undefined"!=typeof t.mozRequestFullScreen,n.hasMsNativeFullScreen="undefined"!=typeof t.msRequestFullscreen,n.hasTrueNativeFullScreen=n.hasWebkitNativeFullScreen||n.hasMozNativeFullScreen||n.hasMsNativeFullScreen,n.nativeFullScreenEnabled=n.hasTrueNativeFullScreen,n.hasMozNativeFullScreen?n.nativeFullScreenEnabled=document.mozFullScreenEnabled:n.hasMsNativeFullScreen&&(n.nativeFullScreenEnabled=document.msFullscreenEnabled),n.isChrome&&(n.hasSemiNativeFullScreen=!1),n.hasTrueNativeFullScreen&&(n.fullScreenEventName="",n.hasWebkitNativeFullScreen?n.fullScreenEventName="webkitfullscreenchange":n.hasMozNativeFullScreen?n.fullScreenEventName="mozfullscreenchange":n.hasMsNativeFullScreen&&(n.fullScreenEventName="MSFullscreenChange"),n.isFullScreen=function(){return n.hasMozNativeFullScreen?i.mozFullScreen:n.hasWebkitNativeFullScreen?i.webkitIsFullScreen:n.hasMsNativeFullScreen?null!==i.msFullscreenElement:void 0},n.requestFullScreen=function(e){n.hasWebkitNativeFullScreen?e.webkitRequestFullScreen():n.hasMozNativeFullScreen?e.mozRequestFullScreen():n.hasMsNativeFullScreen&&e.msRequestFullscreen()},n.cancelFullScreen=function(){n.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():n.hasMozNativeFullScreen?document.mozCancelFullScreen():n.hasMsNativeFullScreen&&document.msExitFullscreen()}),n.hasSemiNativeFullScreen&&o.match(/mac os x 10_5/i)&&(n.hasNativeFullScreen=!1,n.hasSemiNativeFullScreen=!1)}},mejs.MediaFeatures.init(),mejs.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(e){this.currentTime=e},setMuted:function(e){this.muted=e},setVolume:function(e){this.volume=e},stop:function(){this.pause()},setSrc:function(e){for(var t=this.getElementsByTagName("source");t.length>0;)this.removeChild(t[0]);if("string"==typeof e)this.src=e;else{var n,i;for(n=0;n<e.length;n++)if(i=e[n],this.canPlayType(i.type)){this.src=i.src;break}}},setVideoSize:function(e,t){this.width=e,this.height=t}},mejs.PluginMediaElement=function(e,t,n){this.id=e,this.pluginType=t,this.src=n,this.events={},this.attributes={}},mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType||this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(e){var t,n,i,r=mejs.plugins[this.pluginType];for(t=0;t<r.length;t++)if(i=r[t],mejs.PluginDetector.hasPluginVersion(this.pluginType,i.version))for(n=0;n<i.types.length;n++)if(e==i.types[n])return"probably";return""},positionFullscreenButton:function(e,t,n){null!=this.pluginApi&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(e),Math.floor(t),n)},hideFullscreenButton:function(){null!=this.pluginApi&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(e){if("string"==typeof e)this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e)),this.src=mejs.Utility.absolutizeUrl(e);else{var t,n;for(t=0;t<e.length;t++)if(n=e[t],this.canPlayType(n.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(n.src)),this.src=mejs.Utility.absolutizeUrl(e);break}}},setCurrentTime:function(e){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.seekTo(e):this.pluginApi.setCurrentTime(e),this.currentTime=e)},setVolume:function(e){null!=this.pluginApi&&(this.pluginApi.setVolume("youtube"==this.pluginType?100*e:e),this.volume=e)},setMuted:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?(e?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=e,this.dispatchEvent("volumechange")):this.pluginApi.setMuted(e),this.muted=e)},setVideoSize:function(e,t){this.pluginElement&&this.pluginElement.style&&(this.pluginElement.style.width=e+"px",this.pluginElement.style.height=t+"px"),null!=this.pluginApi&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(e,t)},setFullscreen:function(e){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(e)},enterFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},removeEventListener:function(e,t){if(!e)return this.events={},!0;var n=this.events[e];if(!n)return!0;if(!t)return this.events[e]=[],!0;for(var i=0;i<n.length;i++)if(n[i]===t)return this.events[e].splice(i,1),!0;return!1},dispatchEvent:function(e){var t,n,i=this.events[e];if(i)for(n=Array.prototype.slice.call(arguments,1),t=0;t<i.length;t++)i[t].apply(null,n)},hasAttribute:function(e){return e in this.attributes},removeAttribute:function(e){delete this.attributes[e]},getAttribute:function(e){return this.hasAttribute(e)?this.attributes[e]:""},setAttribute:function(e,t){this.attributes[e]=t},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id),mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}},mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(e,t,n){this.pluginMediaElements[e]=t,this.htmlMediaElements[e]=n},unregisterPluginElement:function(e){delete this.pluginMediaElements[e],delete this.htmlMediaElements[e]},initPlugin:function(e){var t=this.pluginMediaElements[e],n=this.htmlMediaElements[e];if(t){switch(t.pluginType){case"flash":t.pluginElement=t.pluginApi=document.getElementById(e);break;case"silverlight":t.pluginElement=document.getElementById(t.id),t.pluginApi=t.pluginElement.Content.MediaElementJS}null!=t.pluginApi&&t.success&&t.success(t,n)}},fireEvent:function(e,t,n){var i,r,o,s=this.pluginMediaElements[e];if(s){i={type:t,target:s};for(r in n)s[r]=n[r],i[r]=n[r];o=n.bufferedTime||0,i.target.buffered=i.buffered={start:function(){return 0},end:function(){return o},length:1},s.dispatchEvent(i.type,i)}}},mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,httpsBasicAuthSite:!1,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:!1,enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}},mejs.MediaElement=function(e,t){return mejs.HtmlMediaElementShim.create(e,t)},mejs.HtmlMediaElementShim={create:function(e,t){var n,i,r=mejs.MediaElementDefaults,o="string"==typeof e?document.getElementById(e):e,s=o.tagName.toLowerCase(),a="audio"===s||"video"===s,l=o.getAttribute(a?"src":"href"),u=o.getAttribute("poster"),c=o.getAttribute("autoplay"),d=o.getAttribute("preload"),h=o.getAttribute("controls");for(i in t)r[i]=t[i];return l="undefined"==typeof l||null===l||""==l?null:l,u="undefined"==typeof u||null===u?"":u,d="undefined"==typeof d||null===d||"false"===d?"none":d,c=!("undefined"==typeof c||null===c||"false"===c),h=!("undefined"==typeof h||null===h||"false"===h),n=this.determinePlayback(o,r,mejs.MediaFeatures.supportsMediaTag,a,l),n.url=null!==n.url?mejs.Utility.absolutizeUrl(n.url):"","native"==n.method?(mejs.MediaFeatures.isBustedAndroid&&(o.src=n.url,o.addEventListener("click",function(){o.play()},!1)),this.updateNative(n,r,c,d)):""!==n.method?this.createPlugin(n,r,u,c,d,h):(this.createErrorMessage(n,r,u),this)},determinePlayback:function(e,t,n,i,r){var o,s,a,l,u,c,d,h,p,f,m,g=[],v={method:"",url:"",htmlMediaElement:e,isVideo:"audio"!=e.tagName.toLowerCase()};if("undefined"!=typeof t.type&&""!==t.type)if("string"==typeof t.type)g.push({type:t.type,url:r});else for(o=0;o<t.type.length;o++)g.push({type:t.type[o],url:r});else if(null!==r)c=this.formatType(r,e.getAttribute("type")),g.push({type:c,url:r});else for(o=0;o<e.childNodes.length;o++)u=e.childNodes[o],1==u.nodeType&&"source"==u.tagName.toLowerCase()&&(r=u.getAttribute("src"),c=this.formatType(r,u.getAttribute("type")),m=u.getAttribute("media"),(!m||!window.matchMedia||window.matchMedia&&window.matchMedia(m).matches)&&g.push({type:c,url:r}));if(!i&&g.length>0&&null!==g[0].url&&this.getTypeFromFile(g[0].url).indexOf("audio")>-1&&(v.isVideo=!1),mejs.MediaFeatures.isBustedAndroid&&(e.canPlayType=function(e){return null!==e.match(/video\/(mp4|m4v)/gi)?"maybe":""}),mejs.MediaFeatures.isChromium&&(e.canPlayType=function(e){return null!==e.match(/video\/(webm|ogv|ogg)/gi)?"maybe":""}),!(!n||"auto"!==t.mode&&"auto_plugin"!==t.mode&&"native"!==t.mode||mejs.MediaFeatures.isBustedNativeHTTPS&&t.httpsBasicAuthSite===!0)){for(i||(f=document.createElement(v.isVideo?"video":"audio"),e.parentNode.insertBefore(f,e),e.style.display="none",v.htmlMediaElement=e=f),o=0;o<g.length;o++)if("video/m3u8"==g[o].type||""!==e.canPlayType(g[o].type).replace(/no/,"")||""!==e.canPlayType(g[o].type.replace(/mp3/,"mpeg")).replace(/no/,"")||""!==e.canPlayType(g[o].type.replace(/m4a/,"mp4")).replace(/no/,"")){v.method="native",v.url=g[o].url;break}if("native"===v.method&&(null!==v.url&&(e.src=v.url),"auto_plugin"!==t.mode))return v}if("auto"===t.mode||"auto_plugin"===t.mode||"shim"===t.mode)for(o=0;o<g.length;o++)for(c=g[o].type,s=0;s<t.plugins.length;s++)for(d=t.plugins[s],h=mejs.plugins[d],a=0;a<h.length;a++)if(p=h[a],null==p.version||mejs.PluginDetector.hasPluginVersion(d,p.version))for(l=0;l<p.types.length;l++)if(c==p.types[l])return v.method=d,v.url=g[o].url,v;return"auto_plugin"===t.mode&&"native"===v.method?v:(""===v.method&&g.length>0&&(v.url=g[0].url),v)},formatType:function(e,t){return e&&!t?this.getTypeFromFile(e):t&&~t.indexOf(";")?t.substr(0,t.indexOf(";")):t},getTypeFromFile:function(e){e=e.split("?")[0];var t=e.substring(e.lastIndexOf(".")+1).toLowerCase();return(/(mp4|m4v|ogg|ogv|m3u8|webm|webmv|flv|wmv|mpeg|mov)/gi.test(t)?"video":"audio")+"/"+this.getTypeFromExtension(t)},getTypeFromExtension:function(e){switch(e){case"mp4":case"m4v":case"m4a":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return e}},createErrorMessage:function(e,t,n){var i=e.htmlMediaElement,r=document.createElement("div");r.className="me-cannotplay";try{r.style.width=i.width+"px",r.style.height=i.height+"px"}catch(o){}r.innerHTML=t.customError?t.customError:""!==n?'<a href="'+e.url+'"><img src="'+n+'" width="100%" height="100%" /></a>':'<a href="'+e.url+'"><span>'+mejs.i18n.t("Download File")+"</span></a>",i.parentNode.insertBefore(r,i),i.style.display="none",t.error(i)},createPlugin:function(e,t,n,i,r,o){var s,a,l,u=e.htmlMediaElement,c=1,d=1,h="me_"+e.method+"_"+mejs.meIndex++,p=new mejs.PluginMediaElement(h,e.method,e.url),f=document.createElement("div");p.tagName=u.tagName;for(var m=0;m<u.attributes.length;m++){var g=u.attributes[m];1==g.specified&&p.setAttribute(g.name,g.value)}for(a=u.parentNode;null!==a&&"body"!==a.tagName.toLowerCase()&&null!=a.parentNode;){if("p"===a.parentNode.tagName.toLowerCase()){a.parentNode.parentNode.insertBefore(a,a.parentNode);break}a=a.parentNode}switch(e.isVideo?(c=t.pluginWidth>0?t.pluginWidth:t.videoWidth>0?t.videoWidth:null!==u.getAttribute("width")?u.getAttribute("width"):t.defaultVideoWidth,d=t.pluginHeight>0?t.pluginHeight:t.videoHeight>0?t.videoHeight:null!==u.getAttribute("height")?u.getAttribute("height"):t.defaultVideoHeight,c=mejs.Utility.encodeUrl(c),d=mejs.Utility.encodeUrl(d)):t.enablePluginDebug&&(c=320,d=240),p.success=t.success,mejs.MediaPluginBridge.registerPluginElement(h,p,u),f.className="me-plugin",f.id=h+"_container",e.isVideo?u.parentNode.insertBefore(f,u):document.body.insertBefore(f,document.body.childNodes[0]),l=["id="+h,"isvideo="+(e.isVideo?"true":"false"),"autoplay="+(i?"true":"false"),"preload="+r,"width="+c,"startvolume="+t.startVolume,"timerrate="+t.timerRate,"flashstreamer="+t.flashStreamer,"height="+d,"pseudostreamstart="+t.pseudoStreamingStartQueryParam],null!==e.url&&l.push("flash"==e.method?"file="+mejs.Utility.encodeUrl(e.url):"file="+e.url),t.enablePluginDebug&&l.push("debug=true"),t.enablePluginSmoothing&&l.push("smoothing=true"),t.enablePseudoStreaming&&l.push("pseudostreaming=true"),o&&l.push("controls=true"),t.pluginVars&&(l=l.concat(t.pluginVars)),e.method){case"silverlight":f.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+h+'" name="'+h+'" width="'+c+'" height="'+d+'" class="mejs-shim"><param name="initParams" value="'+l.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+t.pluginPath+t.silverlightName+'" /></object>';break;case"flash":mejs.MediaFeatures.isIE?(s=document.createElement("div"),f.appendChild(s),s.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+h+'" width="'+c+'" height="'+d+'" class="mejs-shim"><param name="movie" value="'+t.pluginPath+t.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+l.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /><param name="scale" value="default" /></object>'):f.innerHTML='<embed id="'+h+'" name="'+h+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+t.pluginPath+t.flashName+'" flashvars="'+l.join("&")+'" width="'+c+'" height="'+d+'" scale="default"class="mejs-shim"></embed>';break;case"youtube":var v;-1!=e.url.lastIndexOf("youtu.be")?(v=e.url.substr(e.url.lastIndexOf("/")+1),-1!=v.indexOf("?")&&(v=v.substr(0,v.indexOf("?")))):v=e.url.substr(e.url.lastIndexOf("=")+1),youtubeSettings={container:f,containerId:f.id,pluginMediaElement:p,pluginId:h,videoId:v,height:d,width:c},mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":var y=h+"_player";if(p.vimeoid=e.url.substr(e.url.lastIndexOf("/")+1),f.innerHTML='<iframe src="//player.vimeo.com/video/'+p.vimeoid+"?api=1&portrait=0&byline=0&title=0&player_id="+y+'" width="'+c+'" height="'+d+'" frameborder="0" class="mejs-shim" id="'+y+'"></iframe>',"function"==typeof $f){var b=$f(f.childNodes[0]);b.addEvent("ready",function(){function e(e,t,n,i){var r={type:n,target:t};"timeupdate"==n&&(t.currentTime=r.currentTime=i.seconds,t.duration=r.duration=i.duration),t.dispatchEvent(r.type,r)}$.extend(b,{playVideo:function(){b.api("play")},stopVideo:function(){b.api("unload")},pauseVideo:function(){b.api("pause")},seekTo:function(e){b.api("seekTo",e)},setVolume:function(e){b.api("setVolume",e)},setMuted:function(e){e?(b.lastVolume=b.api("getVolume"),b.api("setVolume",0)):(b.api("setVolume",b.lastVolume),delete b.lastVolume)}}),b.addEvent("play",function(){e(b,p,"play"),e(b,p,"playing")}),b.addEvent("pause",function(){e(b,p,"pause")}),b.addEvent("finish",function(){e(b,p,"ended")}),b.addEvent("playProgress",function(t){e(b,p,"timeupdate",t)}),p.pluginElement=f,p.pluginApi=b,mejs.MediaPluginBridge.initPlugin(h)})}else console.warn("You need to include froogaloop for vimeo to work")}return u.style.display="none",u.removeAttribute("autoplay"),p},updateNative:function(e,t){var n,i=e.htmlMediaElement;for(n in mejs.HtmlMediaElement)i[n]=mejs.HtmlMediaElement[n];return t.success(i,i),i}},mejs.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(){if(!this.isIframeStarted){var e=document.createElement("script");e.src="//www.youtube.com/player_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(e){this.isLoaded?this.createIframe(e):(this.loadIframeApi(),this.iframeQueue.push(e))},createIframe:function(e){var t=e.pluginMediaElement,n=new YT.Player(e.containerId,{height:e.height,width:e.width,videoId:e.videoId,playerVars:{controls:0},events:{onReady:function(){e.pluginMediaElement.pluginApi=n,mejs.MediaPluginBridge.initPlugin(e.pluginId),setInterval(function(){mejs.YouTubeApi.createEvent(n,t,"timeupdate")},250)},onStateChange:function(e){mejs.YouTubeApi.handleStateChange(e.data,n,t)}}})},createEvent:function(e,t,n){var i={type:n,target:t};if(e&&e.getDuration){t.currentTime=i.currentTime=e.getCurrentTime(),t.duration=i.duration=e.getDuration(),i.paused=t.paused,i.ended=t.ended,i.muted=e.isMuted(),i.volume=e.getVolume()/100,i.bytesTotal=e.getVideoBytesTotal(),i.bufferedBytes=e.getVideoBytesLoaded();var r=i.bufferedBytes/i.bytesTotal*i.duration;i.target.buffered=i.buffered={start:function(){return 0},end:function(){return r},length:1}}t.dispatchEvent(i.type,i)},iFrameReady:function(){for(this.isLoaded=!0,this.isIframeLoaded=!0;this.iframeQueue.length>0;){var e=this.iframeQueue.pop();this.createIframe(e)}},flashPlayers:{},createFlash:function(e){this.flashPlayers[e.pluginId]=e;var t,n="//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+e.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";mejs.MediaFeatures.isIE?(t=document.createElement("div"),e.container.appendChild(t),t.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+e.pluginId+'" width="'+e.width+'" height="'+e.height+'" class="mejs-shim"><param name="movie" value="'+n+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'):e.container.innerHTML='<object type="application/x-shockwave-flash" id="'+e.pluginId+'" data="'+n+'" width="'+e.width+'" height="'+e.height+'" style="visibility: visible; " class="mejs-shim"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'},flashReady:function(e){var t=this.flashPlayers[e],n=document.getElementById(e),i=t.pluginMediaElement;i.pluginApi=i.pluginElement=n,mejs.MediaPluginBridge.initPlugin(e),n.cueVideoById(t.videoId);var r=t.containerId+"_callback";window[r]=function(e){mejs.YouTubeApi.handleStateChange(e,n,i)},n.addEventListener("onStateChange",r),setInterval(function(){mejs.YouTubeApi.createEvent(n,i,"timeupdate")},250),mejs.YouTubeApi.createEvent(n,i,"canplay")},handleStateChange:function(e,t,n){switch(e){case-1:n.paused=!0,n.ended=!0,mejs.YouTubeApi.createEvent(t,n,"loadedmetadata");break;case 0:n.paused=!1,n.ended=!0,mejs.YouTubeApi.createEvent(t,n,"ended");break;case 1:n.paused=!1,n.ended=!1,mejs.YouTubeApi.createEvent(t,n,"play"),mejs.YouTubeApi.createEvent(t,n,"playing");break;case 2:n.paused=!0,n.ended=!1,mejs.YouTubeApi.createEvent(t,n,"pause");break;case 3:mejs.YouTubeApi.createEvent(t,n,"progress");break;case 5:}}},window.mejs=mejs,window.MediaElement=mejs.MediaElement,function(e,t){"use strict";var n={locale:{language:"",strings:{}},methods:{}};n.getLanguage=function(){var e=n.locale.language||window.navigator.userLanguage||window.navigator.language;return e.substr(0,2).toLowerCase()},"undefined"!=typeof mejsL10n&&(n.locale.language=mejsL10n.language),n.methods.checkPlain=function(e){var t,n,i={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};e=String(e);for(t in i)i.hasOwnProperty(t)&&(n=new RegExp(t,"g"),e=e.replace(n,i[t]));return e},n.methods.t=function(e,t){return n.locale.strings&&n.locale.strings[t.context]&&n.locale.strings[t.context][e]&&(e=n.locale.strings[t.context][e]),n.methods.checkPlain(e)},n.t=function(e,t){if("string"==typeof e&&e.length>0){var i=n.getLanguage();return t=t||{context:i},n.methods.t(e,t)}throw{name:"InvalidArgumentException",message:"First argument is either not a string or empty."}},t.i18n=n}(document,mejs),function(e){"use strict";"undefined"!=typeof mejsL10n&&(e[mejsL10n.language]=mejsL10n.strings)}(mejs.i18n.locale.strings),function(e){"use strict";"undefined"==typeof e.de&&(e.de={Fullscreen:"Vollbild","Go Fullscreen":"Vollbild an","Turn off Fullscreen":"Vollbild aus",Close:"Schlie\xdfen"})}(mejs.i18n.locale.strings),function(e){"use strict";"undefined"==typeof e.zh&&(e.zh={Fullscreen:"\u5168\u87a2\u5e55","Go Fullscreen":"\u5168\u5c4f\u6a21\u5f0f","Turn off Fullscreen":"\u9000\u51fa\u5168\u5c4f\u6a21\u5f0f",Close:"\u95dc\u9589"})}(mejs.i18n.locale.strings),/*!
 * MediaElementPlayer
 * http://mediaelementjs.com/
 *
 * Creates a controller bar for HTML5 <video> add <audio> tags
 * using jQuery and MediaElement.js (HTML5 Flash/Silverlight wrapper)
 *
 * Copyright 2010-2013, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
"undefined"!=typeof jQuery?mejs.$=jQuery:"undefined"!=typeof ender&&(mejs.$=ender),function(e){mejs.MepDefaults={poster:"",showPosterWhenEnded:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(e){return.05*e.duration},defaultSeekForwardInterval:function(e){return.05*e.duration},setDimensions:!0,audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,autoRewind:!0,enableAutosize:!0,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,clickToPlayPause:!0,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(e,t){t.paused||t.ended?e.play():e.pause()}},{keys:[38],action:function(e,t){e.container.find(".mejs-volume-slider").css("display","block"),e.isVideo&&(e.showControls(),e.startControlsTimer());var n=Math.min(t.volume+.1,1);t.setVolume(n)}},{keys:[40],action:function(e,t){e.container.find(".mejs-volume-slider").css("display","block"),e.isVideo&&(e.showControls(),e.startControlsTimer());var n=Math.max(t.volume-.1,0);t.setVolume(n)}},{keys:[37,227],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){e.isVideo&&(e.showControls(),e.startControlsTimer());var n=Math.max(t.currentTime-e.options.defaultSeekBackwardInterval(t),0);t.setCurrentTime(n)}}},{keys:[39,228],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){e.isVideo&&(e.showControls(),e.startControlsTimer());var n=Math.min(t.currentTime+e.options.defaultSeekForwardInterval(t),t.duration);t.setCurrentTime(n)}}},{keys:[70],action:function(e){"undefined"!=typeof e.enterFullScreen&&(e.isFullScreen?e.exitFullScreen():e.enterFullScreen())}},{keys:[77],action:function(e){e.container.find(".mejs-volume-slider").css("display","block"),e.isVideo&&(e.showControls(),e.startControlsTimer()),e.setMuted(e.media.muted?!1:!0)}}]},mejs.mepIndex=0,mejs.players={},mejs.MediaElementPlayer=function(t,n){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(t,n);var i=this;return i.$media=i.$node=e(t),i.node=i.media=i.$media[0],"undefined"!=typeof i.node.player?i.node.player:(i.node.player=i,"undefined"==typeof n&&(n=i.$node.data("mejsoptions")),i.options=e.extend({},mejs.MepDefaults,n),i.id="mep_"+mejs.mepIndex++,mejs.players[i.id]=i,i.init(),i)},mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var t=this,n=mejs.MediaFeatures,i=e.extend(!0,{},t.options,{success:function(e,n){t.meReady(e,n)},error:function(e){t.handleError(e)}}),r=t.media.tagName.toLowerCase();if(t.isDynamic="audio"!==r&&"video"!==r,t.isVideo=t.isDynamic?t.options.isVideo:"audio"!==r&&t.options.isVideo,n.isiPad&&t.options.iPadUseNativeControls||n.isiPhone&&t.options.iPhoneUseNativeControls)t.$media.attr("controls","controls"),n.isiPad&&null!==t.media.getAttribute("autoplay")&&t.play();else if(n.isAndroid&&t.options.AndroidUseNativeControls);else{if(t.$media.removeAttr("controls"),t.container=e('<div id="'+t.id+'" class="mejs-container '+(mejs.MediaFeatures.svg?"svg":"no-svg")+'"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(t.$media[0].className).insertBefore(t.$media),t.container.addClass((n.isAndroid?"mejs-android ":"")+(n.isiOS?"mejs-ios ":"")+(n.isiPad?"mejs-ipad ":"")+(n.isiPhone?"mejs-iphone ":"")+(t.isVideo?"mejs-video ":"mejs-audio ")),n.isiOS){var o=t.$media.clone();t.container.find(".mejs-mediaelement").append(o),t.$media.remove(),t.$node=t.$media=o,t.node=t.media=o[0]}else t.container.find(".mejs-mediaelement").append(t.$media);t.controls=t.container.find(".mejs-controls"),t.layers=t.container.find(".mejs-layers");var s=t.isVideo?"video":"audio",a=s.substring(0,1).toUpperCase()+s.substring(1);t.width=t.options[s+"Width"]>0||t.options[s+"Width"].toString().indexOf("%")>-1?t.options[s+"Width"]:""!==t.media.style.width&&null!==t.media.style.width?t.media.style.width:null!==t.media.getAttribute("width")?t.$media.attr("width"):t.options["default"+a+"Width"],t.height=t.options[s+"Height"]>0||t.options[s+"Height"].toString().indexOf("%")>-1?t.options[s+"Height"]:""!==t.media.style.height&&null!==t.media.style.height?t.media.style.height:null!==t.$media[0].getAttribute("height")?t.$media.attr("height"):t.options["default"+a+"Height"],t.setPlayerSize(t.width,t.height),i.pluginWidth=t.width,i.pluginHeight=t.height}mejs.MediaElement(t.$media[0],i),"undefined"!=typeof t.container&&t.controlsAreVisible&&t.container.trigger("controlsshown")},showControls:function(e){var t=this;e="undefined"==typeof e||e,t.controlsAreVisible||(e?(t.controls.css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0,t.container.trigger("controlsshown")}),t.container.find(".mejs-control").css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0})):(t.controls.css("visibility","visible").css("display","block"),t.container.find(".mejs-control").css("visibility","visible").css("display","block"),t.controlsAreVisible=!0,t.container.trigger("controlsshown")),t.setControlsSize())},hideControls:function(t){var n=this;t="undefined"==typeof t||t,n.controlsAreVisible&&!n.options.alwaysShowControls&&(t?(n.controls.stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block"),n.controlsAreVisible=!1,n.container.trigger("controlshidden")}),n.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block")})):(n.controls.css("visibility","hidden").css("display","block"),n.container.find(".mejs-control").css("visibility","hidden").css("display","block"),n.controlsAreVisible=!1,n.container.trigger("controlshidden")))},controlsTimer:null,startControlsTimer:function(e){var t=this;e="undefined"!=typeof e?e:1500,t.killControlsTimer("start"),t.controlsTimer=setTimeout(function(){t.hideControls(),t.killControlsTimer("hide")},e)},killControlsTimer:function(){var e=this;null!==e.controlsTimer&&(clearTimeout(e.controlsTimer),delete e.controlsTimer,e.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){var e=this;e.killControlsTimer(),e.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){var e=this;e.showControls(!1),e.controlsEnabled=!0},meReady:function(e,t){var n,i,r=this,o=mejs.MediaFeatures,s=t.getAttribute("autoplay"),a=!("undefined"==typeof s||null===s||"false"===s);if(!r.created){if(r.created=!0,r.media=e,r.domNode=t,!(o.isAndroid&&r.options.AndroidUseNativeControls||o.isiPad&&r.options.iPadUseNativeControls||o.isiPhone&&r.options.iPhoneUseNativeControls)){r.buildposter(r,r.controls,r.layers,r.media),r.buildkeyboard(r,r.controls,r.layers,r.media),r.buildoverlays(r,r.controls,r.layers,r.media),r.findTracks();for(n in r.options.features)if(i=r.options.features[n],r["build"+i])try{r["build"+i](r,r.controls,r.layers,r.media)}catch(l){}r.container.trigger("controlsready"),r.setPlayerSize(r.width,r.height),r.setControlsSize(),r.isVideo&&(mejs.MediaFeatures.hasTouch?r.$media.bind("touchstart",function(){r.controlsAreVisible?r.hideControls(!1):r.controlsEnabled&&r.showControls(!1)}):(r.clickToPlayPauseCallback=function(){r.options.clickToPlayPause&&(r.media.paused?r.play():r.pause())},r.media.addEventListener("click",r.clickToPlayPauseCallback,!1),r.container.bind("mouseenter mouseover",function(){r.controlsEnabled&&(r.options.alwaysShowControls||(r.killControlsTimer("enter"),r.showControls(),r.startControlsTimer(2500)))}).bind("mousemove",function(){r.controlsEnabled&&(r.controlsAreVisible||r.showControls(),r.options.alwaysShowControls||r.startControlsTimer(2500))}).bind("mouseleave",function(){r.controlsEnabled&&(r.media.paused||r.options.alwaysShowControls||r.startControlsTimer(1e3))})),r.options.hideVideoControlsOnLoad&&r.hideControls(!1),a&&!r.options.alwaysShowControls&&r.hideControls(),r.options.enableAutosize&&r.media.addEventListener("loadedmetadata",function(e){r.options.videoHeight<=0&&null===r.domNode.getAttribute("height")&&!isNaN(e.target.videoHeight)&&(r.setPlayerSize(e.target.videoWidth,e.target.videoHeight),r.setControlsSize(),r.media.setVideoSize(e.target.videoWidth,e.target.videoHeight))},!1)),e.addEventListener("play",function(){var e;for(e in mejs.players){var t=mejs.players[e];t.id==r.id||!r.options.pauseOtherPlayers||t.paused||t.ended||t.pause(),t.hasFocus=!1}r.hasFocus=!0},!1),r.media.addEventListener("ended",function(){if(r.options.autoRewind)try{r.media.setCurrentTime(0)}catch(e){}r.media.pause(),r.setProgressRail&&r.setProgressRail(),r.setCurrentRail&&r.setCurrentRail(),r.options.loop?r.play():!r.options.alwaysShowControls&&r.controlsEnabled&&r.showControls()},!1),r.media.addEventListener("loadedmetadata",function(){r.updateDuration&&r.updateDuration(),r.updateCurrent&&r.updateCurrent(),r.isFullScreen||(r.setPlayerSize(r.width,r.height),r.setControlsSize())},!1),setTimeout(function(){r.setPlayerSize(r.width,r.height),r.setControlsSize()},50),r.globalBind("resize",function(){r.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||r.setPlayerSize(r.width,r.height),r.setControlsSize()}),"youtube"==r.media.pluginType&&r.options.autoplay&&r.container.find(".mejs-overlay-play").hide()}a&&"native"==e.pluginType&&r.play(),r.options.success&&("string"==typeof r.options.success?window[r.options.success](r.media,r.domNode,r):r.options.success(r.media,r.domNode,r))}},handleError:function(e){var t=this;t.controls.hide(),t.options.error&&t.options.error(e)},setPlayerSize:function(t,n){var i=this;if(!i.options.setDimensions)return!1;if("undefined"!=typeof t&&(i.width=t),"undefined"!=typeof n&&(i.height=n),i.height.toString().indexOf("%")>0||"100%"===i.$node.css("max-width")||i.$node[0].currentStyle&&"100%"===i.$node[0].currentStyle.maxWidth){var r=function(){return i.isVideo?i.media.videoWidth&&i.media.videoWidth>0?i.media.videoWidth:null!==i.media.getAttribute("width")?i.media.getAttribute("width"):i.options.defaultVideoWidth:i.options.defaultAudioWidth}(),o=function(){return i.isVideo?i.media.videoHeight&&i.media.videoHeight>0?i.media.videoHeight:null!==i.media.getAttribute("height")?i.media.getAttribute("height"):i.options.defaultVideoHeight:i.options.defaultAudioHeight}(),s=i.container.parent().closest(":visible").width(),a=i.container.parent().closest(":visible").height(),l=i.isVideo||!i.options.autosizeProgress?parseInt(s*o/r,10):o;(isNaN(l)||0!=a&&l>a)&&(l=a),"body"===i.container.parent()[0].tagName.toLowerCase()&&(s=e(window).width(),l=e(window).height()),0!=l&&0!=s&&(i.container.width(s).height(l),i.$media.add(i.container.find(".mejs-shim")).width("100%").height("100%"),i.isVideo&&i.media.setVideoSize&&i.media.setVideoSize(s,l),i.layers.children(".mejs-layer").width("100%").height("100%"))}else i.container.width(i.width).height(i.height),i.layers.children(".mejs-layer").width(i.width).height(i.height);var u=i.layers.find(".mejs-overlay-play"),c=u.find(".mejs-overlay-button");u.height(i.container.height()-i.controls.height()),c.css("margin-top","-"+(c.height()/2-i.controls.height()/2).toString()+"px")},setControlsSize:function(){var t=this,n=0,i=0,r=t.controls.find(".mejs-time-rail"),o=t.controls.find(".mejs-time-total"),s=(t.controls.find(".mejs-time-current"),t.controls.find(".mejs-time-loaded"),r.siblings()),a=s.last(),l=null;if(t.container.is(":visible")&&r.length&&r.is(":visible")){t.options&&!t.options.autosizeProgress&&(i=parseInt(r.css("width"))),0!==i&&i||(s.each(function(){var t=e(this);"absolute"!=t.css("position")&&t.is(":visible")&&(n+=e(this).outerWidth(!0))}),i=t.controls.width()-n-(r.outerWidth(!0)-r.width()));do r.width(i),o.width(i-(o.outerWidth(!0)-o.width())),"absolute"!=a.css("position")&&(l=a.position(),i--);while(null!=l&&l.top>0&&i>0);t.setProgressRail&&t.setProgressRail(),t.setCurrentRail&&t.setCurrentRail()}},buildposter:function(t,n,i,r){var o=this,s=e('<div class="mejs-poster mejs-layer"></div>').appendTo(i),a=t.$media.attr("poster");""!==t.options.poster&&(a=t.options.poster),""!==a&&null!=a?o.setPoster(a):s.hide(),r.addEventListener("play",function(){s.hide()},!1),t.options.showPosterWhenEnded&&t.options.autoRewind&&r.addEventListener("ended",function(){s.show()},!1)},setPoster:function(t){var n=this,i=n.container.find(".mejs-poster"),r=i.find("img");0==r.length&&(r=e('<img width="100%" height="100%" />').appendTo(i)),r.attr("src",t),i.css({"background-image":"url("+t+")"})},buildoverlays:function(t,n,i,r){var o=this;if(t.isVideo){var s=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(i),a=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(i),l=e('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(i).bind("click",function(){o.options.clickToPlayPause&&r.paused&&r.play()});r.addEventListener("play",function(){l.hide(),s.hide(),n.find(".mejs-time-buffering").hide(),a.hide()},!1),r.addEventListener("playing",function(){l.hide(),s.hide(),n.find(".mejs-time-buffering").hide(),a.hide()},!1),r.addEventListener("seeking",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),r.addEventListener("seeked",function(){s.hide(),n.find(".mejs-time-buffering").hide()},!1),r.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||l.show()},!1),r.addEventListener("waiting",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),r.addEventListener("loadeddata",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),r.addEventListener("canplay",function(){s.hide(),n.find(".mejs-time-buffering").hide()},!1),r.addEventListener("error",function(){s.hide(),n.find(".mejs-time-buffering").hide(),a.show(),a.find("mejs-overlay-error").html("Error loading this resource")},!1),r.addEventListener("keydown",function(e){o.onkeydown(t,r,e)},!1)}},buildkeyboard:function(t,n,i,r){var o=this;o.globalBind("keydown",function(e){return o.onkeydown(t,r,e)}),o.globalBind("click",function(n){t.hasFocus=0!=e(n.target).closest(".mejs-container").length})},onkeydown:function(e,t,n){if(e.hasFocus&&e.options.enableKeyboard)for(var i=0,r=e.options.keyActions.length;r>i;i++)for(var o=e.options.keyActions[i],s=0,a=o.keys.length;a>s;s++)if(n.keyCode==o.keys[s])return"function"==typeof n.preventDefault&&n.preventDefault(),o.action(e,t,n.keyCode),!1;return!0},findTracks:function(){var t=this,n=t.$media.find("track");t.tracks=[],n.each(function(n,i){i=e(i),t.tracks.push({srclang:i.attr("srclang")?i.attr("srclang").toLowerCase():"",src:i.attr("src"),kind:i.attr("kind"),label:i.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(e){this.container[0].className="mejs-container "+e,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.load(),this.media.play()},pause:function(){try{this.media.pause()}catch(e){}},load:function(){this.isLoaded||this.media.load(),this.isLoaded=!0},setMuted:function(e){this.media.setMuted(e)},setCurrentTime:function(e){this.media.setCurrentTime(e)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(e){this.media.setVolume(e)},getVolume:function(){return this.media.volume},setSrc:function(e){this.media.setSrc(e)},remove:function(){var e,t,n=this;for(e in n.options.features)if(t=n.options.features[e],n["clean"+t])try{n["clean"+t](n)}catch(i){}n.isDynamic?n.$node.insertBefore(n.container):(n.$media.prop("controls",!0),n.$node.clone().insertBefore(n.container).show(),n.$node.remove()),"native"!==n.media.pluginType&&n.media.remove(),delete mejs.players[n.id],"object"==typeof n.container&&n.container.remove(),n.globalUnbind(),delete n.node.player}},function(){function t(t,i){var r={d:[],w:[]};return e.each((t||"").split(" "),function(e,t){var o=t+"."+i;0===o.indexOf(".")?(r.d.push(o),r.w.push(o)):r[n.test(t)?"w":"d"].push(o)}),r.d=r.d.join(" "),r.w=r.w.join(" "),r}var n=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;mejs.MediaElementPlayer.prototype.globalBind=function(n,i,r){var o=this;n=t(n,o.id),n.d&&e(document).bind(n.d,i,r),n.w&&e(window).bind(n.w,i,r)},mejs.MediaElementPlayer.prototype.globalUnbind=function(n,i){var r=this;n=t(n,r.id),n.d&&e(document).unbind(n.d,i),n.w&&e(window).unbind(n.w,i)}}(),"undefined"!=typeof e&&(e.fn.mediaelementplayer=function(t){return this.each(t===!1?function(){var t=e(this).data("mediaelementplayer");t&&t.remove(),e(this).removeData("mediaelementplayer")}:function(){e(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,t))}),this},e(document).ready(function(){e(".mejs-player").mediaelementplayer()})),window.MediaElementPlayer=mejs.MediaElementPlayer}(mejs.$),function(e){e.extend(mejs.MepDefaults,{playpauseText:mejs.i18n.t("Play/Pause")}),e.extend(MediaElementPlayer.prototype,{buildplaypause:function(t,n,i,r){var o=this,s=e('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+o.id+'" title="'+o.options.playpauseText+'" aria-label="'+o.options.playpauseText+'"></button></div>').appendTo(n).click(function(e){return e.preventDefault(),r.paused?r.play():r.pause(),!1});r.addEventListener("play",function(){s.removeClass("mejs-play").addClass("mejs-pause")},!1),r.addEventListener("playing",function(){s.removeClass("mejs-play").addClass("mejs-pause")},!1),r.addEventListener("pause",function(){s.removeClass("mejs-pause").addClass("mejs-play")},!1),r.addEventListener("paused",function(){s.removeClass("mejs-pause").addClass("mejs-play")},!1)}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{stopText:"Stop"}),e.extend(MediaElementPlayer.prototype,{buildstop:function(t,n,i,r){{var o=this;e('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+o.id+'" title="'+o.options.stopText+'" aria-label="'+o.options.stopText+'"></button></div>').appendTo(n).click(function(){r.paused||r.pause(),r.currentTime>0&&(r.setCurrentTime(0),r.pause(),n.find(".mejs-time-current").width("0px"),n.find(".mejs-time-handle").css("left","0px"),n.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0)),n.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0)),i.find(".mejs-poster").show())})}}})}(mejs.$),function(e){e.extend(MediaElementPlayer.prototype,{buildprogress:function(t,n,i,r){e('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(n),n.find(".mejs-time-buffering").hide();var o=this,s=n.find(".mejs-time-total"),a=n.find(".mejs-time-loaded"),l=n.find(".mejs-time-current"),u=n.find(".mejs-time-handle"),c=n.find(".mejs-time-float"),d=n.find(".mejs-time-float-current"),h=function(e){if(e.originalEvent.changedTouches)var t=e.originalEvent.changedTouches[0].pageX;else var t=e.pageX;var n=s.offset(),i=s.outerWidth(!0),o=0,a=0,l=0;r.duration&&(t<n.left?t=n.left:t>i+n.left&&(t=i+n.left),l=t-n.left,o=l/i,a=.02>=o?0:o*r.duration,p&&a!==r.currentTime&&r.setCurrentTime(a),mejs.MediaFeatures.hasTouch||(c.css("left",l),d.html(mejs.Utility.secondsToTimeCode(a)),c.show()))},p=!1,f=!1;s.bind("mousedown touchstart",function(e){return 1===e.which||0===e.which?(p=!0,h(e),o.globalBind("mousemove.dur touchmove.dur",function(e){h(e)}),o.globalBind("mouseup.dur touchend.dur",function(){p=!1,c.hide(),o.globalUnbind(".dur")}),!1):void 0}).bind("mouseenter",function(){f=!0,o.globalBind("mousemove.dur",function(e){h(e)}),mejs.MediaFeatures.hasTouch||c.show()}).bind("mouseleave",function(){f=!1,p||(o.globalUnbind(".dur"),c.hide())}),r.addEventListener("progress",function(e){t.setProgressRail(e),t.setCurrentRail(e)},!1),r.addEventListener("timeupdate",function(e){t.setProgressRail(e),t.setCurrentRail(e)},!1),o.loaded=a,o.total=s,o.current=l,o.handle=u},setProgressRail:function(e){var t=this,n=void 0!=e?e.target:t.media,i=null;n&&n.buffered&&n.buffered.length>0&&n.buffered.end&&n.duration?i=n.buffered.end(0)/n.duration:n&&void 0!=n.bytesTotal&&n.bytesTotal>0&&void 0!=n.bufferedBytes?i=n.bufferedBytes/n.bytesTotal:e&&e.lengthComputable&&0!=e.total&&(i=e.loaded/e.total),null!==i&&(i=Math.min(1,Math.max(0,i)),t.loaded&&t.total&&t.loaded.width(t.total.width()*i))},setCurrentRail:function(){var e=this;if(void 0!=e.media.currentTime&&e.media.duration&&e.total&&e.handle){var t=Math.round(e.total.width()*e.media.currentTime/e.media.duration),n=t-Math.round(e.handle.outerWidth(!0)/2);e.current.width(t),e.handle.css("left",n)}}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:"<span> | </span>"}),e.extend(MediaElementPlayer.prototype,{buildcurrent:function(t,n,i,r){var o=this;e('<div class="mejs-time"><span class="mejs-currenttime">'+(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(n),o.currenttime=o.controls.find(".mejs-currenttime"),r.addEventListener("timeupdate",function(){t.updateCurrent()},!1)},buildduration:function(t,n,i,r){var o=this;n.children().last().find(".mejs-currenttime").length>0?e(o.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(o.options.duration>0?mejs.Utility.secondsToTimeCode(o.options.duration,o.options.alwaysShowHours||o.media.duration>3600,o.options.showTimecodeFrameCount,o.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(n.find(".mejs-time")):(n.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),e('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(o.options.duration>0?mejs.Utility.secondsToTimeCode(o.options.duration,o.options.alwaysShowHours||o.media.duration>3600,o.options.showTimecodeFrameCount,o.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span></div>").appendTo(n)),o.durationD=o.controls.find(".mejs-duration"),r.addEventListener("timeupdate",function(){t.updateDuration()},!1)},updateCurrent:function(){var e=this;e.currenttime&&e.currenttime.html(mejs.Utility.secondsToTimeCode(e.media.currentTime,e.options.alwaysShowHours||e.media.duration>3600,e.options.showTimecodeFrameCount,e.options.framesPerSecond||25))},updateDuration:function(){var e=this;e.container.toggleClass("mejs-long-video",e.media.duration>3600),e.durationD&&(e.options.duration>0||e.media.duration)&&e.durationD.html(mejs.Utility.secondsToTimeCode(e.options.duration>0?e.options.duration:e.media.duration,e.options.alwaysShowHours,e.options.showTimecodeFrameCount,e.options.framesPerSecond||25))}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{muteText:mejs.i18n.t("Mute Toggle"),hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),e.extend(MediaElementPlayer.prototype,{buildvolume:function(t,n,i,r){if(!mejs.MediaFeatures.isAndroid&&!mejs.MediaFeatures.isiOS||!this.options.hideVolumeOnTouchDevices){var o=this,s=o.isVideo?o.options.videoVolume:o.options.audioVolume,a="horizontal"==s?e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+o.id+'" title="'+o.options.muteText+'" aria-label="'+o.options.muteText+'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(n):e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+o.id+'" title="'+o.options.muteText+'" aria-label="'+o.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(n),l=o.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),u=o.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),c=o.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),d=o.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),h=function(e,t){if(!l.is(":visible")&&"undefined"==typeof t)return l.show(),h(e,!0),void l.hide();if(e=Math.max(0,e),e=Math.min(e,1),0==e?a.removeClass("mejs-mute").addClass("mejs-unmute"):a.removeClass("mejs-unmute").addClass("mejs-mute"),"vertical"==s){var n=u.height(),i=u.position(),r=n-n*e;d.css("top",Math.round(i.top+r-d.height()/2)),c.height(n-r),c.css("top",i.top+r)}else{var o=u.width(),i=u.position(),p=o*e;d.css("left",Math.round(i.left+p-d.width()/2)),c.width(Math.round(p))}},p=function(e){var t=null,n=u.offset();if("vertical"==s){var i=u.height(),o=(parseInt(u.css("top").replace(/px/,""),10),e.pageY-n.top);if(t=(i-o)/i,0==n.top||0==n.left)return}else{var a=u.width(),l=e.pageX-n.left;t=l/a}t=Math.max(0,t),t=Math.min(t,1),h(t),r.setMuted(0==t?!0:!1),r.setVolume(t)},f=!1,m=!1;a.hover(function(){l.show(),m=!0},function(){m=!1,f||"vertical"!=s||l.hide()}),l.bind("mouseover",function(){m=!0}).bind("mousedown",function(e){return p(e),o.globalBind("mousemove.vol",function(e){p(e)}),o.globalBind("mouseup.vol",function(){f=!1,o.globalUnbind(".vol"),m||"vertical"!=s||l.hide()}),f=!0,!1}),a.find("button").click(function(){r.setMuted(!r.muted)}),r.addEventListener("volumechange",function(){f||(r.muted?(h(0),a.removeClass("mejs-mute").addClass("mejs-unmute")):(h(r.volume),a.removeClass("mejs-unmute").addClass("mejs-mute")))},!1),o.container.is(":visible")&&(h(t.options.startVolume),0===t.options.startVolume&&r.setMuted(!0),"native"===r.pluginType&&r.setVolume(t.options.startVolume))}}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:mejs.i18n.t("Fullscreen")}),e.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,buildfullscreen:function(t,n,i,r){if(t.isVideo){if(t.isInIframe=window.location!=window.parent.location,mejs.MediaFeatures.hasTrueNativeFullScreen){var o=function(){t.isFullScreen&&(mejs.MediaFeatures.isFullScreen()?(t.isNativeFullScreen=!0,t.setControlsSize()):(t.isNativeFullScreen=!1,t.exitFullScreen()))};t.globalBind(mejs.MediaFeatures.fullScreenEventName,o)}var s=this,a=(t.container,e('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+s.id+'" title="'+s.options.fullscreenText+'" aria-label="'+s.options.fullscreenText+'"></button></div>').appendTo(n));if("native"===s.media.pluginType||!s.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)a.click(function(){var e=mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||t.isFullScreen;e?t.exitFullScreen():t.enterFullScreen()});else{var l=null,u=function(){var e,t=document.createElement("x"),n=document.documentElement,i=window.getComputedStyle;return"pointerEvents"in t.style?(t.style.pointerEvents="auto",t.style.pointerEvents="x",n.appendChild(t),e=i&&"auto"===i(t,"").pointerEvents,n.removeChild(t),!!e):!1}();if(u&&!mejs.MediaFeatures.isOpera){var c,d,h=!1,p=function(){if(h){for(var e in f)f[e].hide();a.css("pointer-events",""),s.controls.css("pointer-events",""),s.media.removeEventListener("click",s.clickToPlayPauseCallback),h=!1}},f={},m=["top","left","right","bottom"],g=function(){var e=a.offset().left-s.container.offset().left,t=a.offset().top-s.container.offset().top,n=a.outerWidth(!0),i=a.outerHeight(!0),r=s.container.width(),o=s.container.height();for(c in f)f[c].css({position:"absolute",top:0,left:0});f.top.width(r).height(t),f.left.width(e).height(i).css({top:t}),f.right.width(r-e-n).height(i).css({top:t,left:e+n}),f.bottom.width(r).height(o-i-t).css({top:t+i})};for(s.globalBind("resize",function(){g()}),c=0,d=m.length;d>c;c++)f[m[c]]=e('<div class="mejs-fullscreen-hover" />').appendTo(s.container).mouseover(p).hide();a.on("mouseover",function(){if(!s.isFullScreen){var e=a.offset(),n=t.container.offset();r.positionFullscreenButton(e.left-n.left,e.top-n.top,!1),a.css("pointer-events","none"),s.controls.css("pointer-events","none"),s.media.addEventListener("click",s.clickToPlayPauseCallback);for(c in f)f[c].show();g(),h=!0}}),r.addEventListener("fullscreenchange",function(){s.isFullScreen=!s.isFullScreen,s.isFullScreen?s.media.removeEventListener("click",s.clickToPlayPauseCallback):s.media.addEventListener("click",s.clickToPlayPauseCallback),p()}),s.globalBind("mousemove",function(e){if(h){var t=a.offset();(e.pageY<t.top||e.pageY>t.top+a.outerHeight(!0)||e.pageX<t.left||e.pageX>t.left+a.outerWidth(!0))&&(a.css("pointer-events",""),s.controls.css("pointer-events",""),h=!1)}})}else a.on("mouseover",function(){null!==l&&(clearTimeout(l),delete l);var e=a.offset(),n=t.container.offset();r.positionFullscreenButton(e.left-n.left,e.top-n.top,!0)}).on("mouseout",function(){null!==l&&(clearTimeout(l),delete l),l=setTimeout(function(){r.hideFullscreenButton()},1500)})}t.fullscreenBtn=a,s.globalBind("keydown",function(e){(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||s.isFullScreen)&&27==e.keyCode&&t.exitFullScreen()})}},cleanfullscreen:function(e){e.exitFullScreen()},containerSizeTimeout:null,enterFullScreen:function(){var t=this;if("native"===t.media.pluginType||!mejs.MediaFeatures.isFirefox&&!t.options.usePluginFullScreen){if(e(document.documentElement).addClass("mejs-fullscreen"),normalHeight=t.container.height(),normalWidth=t.container.width(),"native"===t.media.pluginType)if(mejs.MediaFeatures.hasTrueNativeFullScreen)mejs.MediaFeatures.requestFullScreen(t.container[0]),t.isInIframe&&setTimeout(function i(){if(t.isNativeFullScreen){var n=window.devicePixelRatio||1,r=.002,o=n*e(window).width(),s=screen.width,a=Math.abs(s-o),l=s*r;a>l?t.exitFullScreen():setTimeout(i,500)}},500);else if(mejs.MediaFeatures.hasSemiNativeFullScreen)return void t.media.webkitEnterFullscreen();if(t.isInIframe){var n=t.options.newWindowCallback(this);if(""!==n){if(!mejs.MediaFeatures.hasTrueNativeFullScreen)return t.pause(),void window.open(n,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");setTimeout(function(){t.isNativeFullScreen||(t.pause(),window.open(n,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"))},250)}}t.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),t.containerSizeTimeout=setTimeout(function(){t.container.css({width:"100%",height:"100%"}),t.setControlsSize()},500),"native"===t.media.pluginType?t.$media.width("100%").height("100%"):(t.container.find(".mejs-shim").width("100%").height("100%"),t.media.setVideoSize(e(window).width(),e(window).height())),t.layers.children("div").width("100%").height("100%"),t.fullscreenBtn&&t.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),t.setControlsSize(),t.isFullScreen=!0,t.container.find(".mejs-captions-text").css("font-size",screen.width/t.width*1*100+"%"),t.container.find(".mejs-captions-position").css("bottom","45px")}},exitFullScreen:function(){var t=this;return clearTimeout(t.containerSizeTimeout),"native"!==t.media.pluginType&&mejs.MediaFeatures.isFirefox?void t.media.setFullscreen(!1):(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||t.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen(),e(document.documentElement).removeClass("mejs-fullscreen"),t.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight),"native"===t.media.pluginType?t.$media.width(normalWidth).height(normalHeight):(t.container.find(".mejs-shim").width(normalWidth).height(normalHeight),t.media.setVideoSize(normalWidth,normalHeight)),t.layers.children("div").width(normalWidth).height(normalHeight),t.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),t.setControlsSize(),t.isFullScreen=!1,t.container.find(".mejs-captions-text").css("font-size",""),void t.container.find(".mejs-captions-position").css("bottom",""))}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{speeds:["1.50","1.25","1.00","0.75"],defaultSpeed:"1.00"}),e.extend(MediaElementPlayer.prototype,{buildspeed:function(t,n,i,r){var o=this;if("native"==o.media.pluginType){var s,a,l='<div class="mejs-button mejs-speed-button"><button type="button">'+o.options.defaultSpeed+'x</button><div class="mejs-speed-selector"><ul>';
for(-1===e.inArray(o.options.defaultSpeed,o.options.speeds)&&o.options.speeds.push(o.options.defaultSpeed),o.options.speeds.sort(function(e,t){return parseFloat(t)-parseFloat(e)}),s=0;s<o.options.speeds.length;s++)l+='<li><input type="radio" name="speed" value="'+o.options.speeds[s]+'" id="'+o.options.speeds[s]+'" ',o.options.speeds[s]==o.options.defaultSpeed?(l+="checked=true ",l+='/><label for="'+o.options.speeds[s]+'" class="mejs-speed-selected">'+o.options.speeds[s]+"x</label></li>"):l+='/><label for="'+o.options.speeds[s]+'">'+o.options.speeds[s]+"x</label></li>";l+="</ul></div></div>",t.speedButton=e(l).appendTo(n),t.playbackspeed=o.options.defaultSpeed,t.speedButton.on("click","input[type=radio]",function(){t.playbackspeed=e(this).attr("value"),r.playbackRate=parseFloat(t.playbackspeed),t.speedButton.find("button").text(t.playbackspeed+"x"),t.speedButton.find(".mejs-speed-selected").removeClass("mejs-speed-selected"),t.speedButton.find("input[type=radio]:checked").next().addClass("mejs-speed-selected")}),a=t.speedButton.find(".mejs-speed-selector"),a.height(this.speedButton.find(".mejs-speed-selector ul").outerHeight(!0)+t.speedButton.find(".mejs-speed-translations").outerHeight(!0)),a.css("top",-1*a.height()+"px")}}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{startLanguage:"",tracksText:mejs.i18n.t("Captions/Subtitles"),hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""}),e.extend(MediaElementPlayer.prototype,{hasChapters:!1,buildtracks:function(t,n,i,r){if(0!==t.tracks.length){var o,s=this;if(s.domNode.textTracks)for(o=s.domNode.textTracks.length-1;o>=0;o--)s.domNode.textTracks[o].mode="hidden";t.chapters=e('<div class="mejs-chapters mejs-layer"></div>').prependTo(i).hide(),t.captions=e('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover"><span class="mejs-captions-text"></span></div></div>').prependTo(i).hide(),t.captionsText=t.captions.find(".mejs-captions-text"),t.captionsButton=e('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+s.id+'" title="'+s.options.tracksText+'" aria-label="'+s.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+t.id+'_captions" id="'+t.id+'_captions_none" value="none" checked="checked" /><label for="'+t.id+'_captions_none">'+mejs.i18n.t("None")+"</label></li></ul></div></div>").appendTo(n);var a=0;for(o=0;o<t.tracks.length;o++)"subtitles"==t.tracks[o].kind&&a++;for(s.options.toggleCaptionsButtonWhenOnlyOne&&1==a?t.captionsButton.on("click",function(){lang=null===t.selectedTrack?t.tracks[0].srclang:"none",t.setTrack(lang)}):(t.captionsButton.on("mouseenter focusin",function(){e(this).find(".mejs-captions-selector").css("visibility","visible")}).on("click","input[type=radio]",function(){lang=this.value,t.setTrack(lang)}),t.captionsButton.on("mouseleave focusout",function(){e(this).find(".mejs-captions-selector").css("visibility","hidden")})),t.options.alwaysShowControls?t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):t.container.bind("controlsshown",function(){t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("controlshidden",function(){r.paused||t.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}),t.trackToLoad=-1,t.selectedTrack=null,t.isLoadingTrack=!1,o=0;o<t.tracks.length;o++)"subtitles"==t.tracks[o].kind&&t.addTrackButton(t.tracks[o].srclang,t.tracks[o].label);t.loadNextTrack(),r.addEventListener("timeupdate",function(){t.displayCaptions()},!1),""!==t.options.slidesSelector&&(t.slidesContainer=e(t.options.slidesSelector),r.addEventListener("timeupdate",function(){t.displaySlides()},!1)),r.addEventListener("loadedmetadata",function(){t.displayChapters()},!1),t.container.hover(function(){t.hasChapters&&(t.chapters.css("visibility","visible"),t.chapters.fadeIn(200).height(t.chapters.find(".mejs-chapter").outerHeight()))},function(){t.hasChapters&&!r.paused&&t.chapters.fadeOut(200,function(){e(this).css("visibility","hidden"),e(this).css("display","block")})}),null!==t.node.getAttribute("autoplay")&&t.chapters.css("visibility","hidden")}},setTrack:function(e){var t,n=this;if("none"==e)n.selectedTrack=null,n.captionsButton.removeClass("mejs-captions-enabled");else for(t=0;t<n.tracks.length;t++)if(n.tracks[t].srclang==e){null===n.selectedTrack&&n.captionsButton.addClass("mejs-captions-enabled"),n.selectedTrack=n.tracks[t],n.captions.attr("lang",n.selectedTrack.srclang),n.displayCaptions();break}},loadNextTrack:function(){var e=this;e.trackToLoad++,e.trackToLoad<e.tracks.length?(e.isLoadingTrack=!0,e.loadTrack(e.trackToLoad)):(e.isLoadingTrack=!1,e.checkForTracks())},loadTrack:function(t){var n=this,i=n.tracks[t],r=function(){i.isLoaded=!0,n.enableTrackButton(i.srclang,i.label),n.loadNextTrack()};e.ajax({url:i.src,dataType:"text",success:function(e){i.entries="string"==typeof e&&/<tt\s+xml/gi.exec(e)?mejs.TrackFormatParser.dfxp.parse(e):mejs.TrackFormatParser.webvtt.parse(e),r(),"chapters"==i.kind&&n.media.addEventListener("play",function(){n.media.duration>0&&n.displayChapters(i)},!1),"slides"==i.kind&&n.setupSlides(i)},error:function(){n.loadNextTrack()}})},enableTrackButton:function(t,n){var i=this;""===n&&(n=mejs.language.codes[t]||t),i.captionsButton.find("input[value="+t+"]").prop("disabled",!1).siblings("label").html(n),i.options.startLanguage==t&&e("#"+i.id+"_captions_"+t).prop("checked",!0).trigger("click"),i.adjustLanguageBox()},addTrackButton:function(t,n){var i=this;""===n&&(n=mejs.language.codes[t]||t),i.captionsButton.find("ul").append(e('<li><input type="radio" name="'+i.id+'_captions" id="'+i.id+"_captions_"+t+'" value="'+t+'" disabled="disabled" /><label for="'+i.id+"_captions_"+t+'">'+n+" (loading)</label></li>")),i.adjustLanguageBox(),i.container.find(".mejs-captions-translations option[value="+t+"]").remove()},adjustLanguageBox:function(){var e=this;e.captionsButton.find(".mejs-captions-selector").height(e.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+e.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},checkForTracks:function(){var e=this,t=!1;if(e.options.hideCaptionsButtonWhenEmpty){for(i=0;i<e.tracks.length;i++)if("subtitles"==e.tracks[i].kind){t=!0;break}t||(e.captionsButton.hide(),e.setControlsSize())}},displayCaptions:function(){if("undefined"!=typeof this.tracks){var e,t=this,n=t.selectedTrack;if(null!==n&&n.isLoaded){for(e=0;e<n.entries.times.length;e++)if(t.media.currentTime>=n.entries.times[e].start&&t.media.currentTime<=n.entries.times[e].stop)return t.captionsText.html(n.entries.text[e]).attr("class","mejs-captions-text "+(n.entries.times[e].identifier||"")),void t.captions.show().height(0);t.captions.hide()}else t.captions.hide()}},setupSlides:function(e){var t=this;t.slides=e,t.slides.entries.imgs=[t.slides.entries.text.length],t.showSlide(0)},showSlide:function(t){if("undefined"!=typeof this.tracks&&"undefined"!=typeof this.slidesContainer){var n=this,i=n.slides.entries.text[t],r=n.slides.entries.imgs[t];"undefined"==typeof r||"undefined"==typeof r.fadeIn?n.slides.entries.imgs[t]=r=e('<img src="'+i+'">').on("load",function(){r.appendTo(n.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()}):r.is(":visible")||r.is(":animated")||r.fadeIn().siblings(":visible").fadeOut()}},displaySlides:function(){if("undefined"!=typeof this.slides){var e,t=this,n=t.slides;for(e=0;e<n.entries.times.length;e++)if(t.media.currentTime>=n.entries.times[e].start&&t.media.currentTime<=n.entries.times[e].stop)return void t.showSlide(e)}},displayChapters:function(){var e,t=this;for(e=0;e<t.tracks.length;e++)if("chapters"==t.tracks[e].kind&&t.tracks[e].isLoaded){t.drawChapters(t.tracks[e]),t.hasChapters=!0;break}},drawChapters:function(t){var n,i,r=this,o=0,s=0;for(r.chapters.empty(),n=0;n<t.entries.times.length;n++)i=t.entries.times[n].stop-t.entries.times[n].start,o=Math.floor(i/r.media.duration*100),(o+s>100||n==t.entries.times.length-1&&100>o+s)&&(o=100-s),r.chapters.append(e('<div class="mejs-chapter" rel="'+t.entries.times[n].start+'" style="left: '+s.toString()+"%;width: "+o.toString()+'%;"><div class="mejs-chapter-block'+(n==t.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+t.entries.text[n]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(t.entries.times[n].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(t.entries.times[n].stop)+"</span></div></div>")),s+=o;r.chapters.find("div.mejs-chapter").click(function(){r.media.setCurrentTime(parseFloat(e(this).attr("rel"))),r.media.paused&&r.media.play()}),r.chapters.show()}}),mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",fl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},mejs.TrackFormatParser={webvtt:{pattern_timecode:/^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(t){for(var n,i,r,o=0,s=mejs.TrackFormatParser.split2(t,/\r?\n/),a={text:[],times:[]};o<s.length;o++){if(n=this.pattern_timecode.exec(s[o]),n&&o<s.length){for(o-1>=0&&""!==s[o-1]&&(r=s[o-1]),o++,i=s[o],o++;""!==s[o]&&o<s.length;)i=i+"\n"+s[o],o++;i=e.trim(i).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),a.text.push(i),a.times.push({identifier:r,start:0===mejs.Utility.convertSMPTEtoSeconds(n[1])?.2:mejs.Utility.convertSMPTEtoSeconds(n[1]),stop:mejs.Utility.convertSMPTEtoSeconds(n[3]),settings:n[5]})}r=""}return a}},dfxp:{parse:function(t){t=e(t).filter("tt");var n,i,r=0,o=t.children("div").eq(0),s=o.find("p"),a=t.find("#"+o.attr("style")),l={text:[],times:[]};if(a.length){var u=a.removeAttr("id").get(0).attributes;if(u.length)for(n={},r=0;r<u.length;r++)n[u[r].name.split(":")[1]]=u[r].value}for(r=0;r<s.length;r++){var c,d={start:null,stop:null,style:null};if(s.eq(r).attr("begin")&&(d.start=mejs.Utility.convertSMPTEtoSeconds(s.eq(r).attr("begin"))),!d.start&&s.eq(r-1).attr("end")&&(d.start=mejs.Utility.convertSMPTEtoSeconds(s.eq(r-1).attr("end"))),s.eq(r).attr("end")&&(d.stop=mejs.Utility.convertSMPTEtoSeconds(s.eq(r).attr("end"))),!d.stop&&s.eq(r+1).attr("begin")&&(d.stop=mejs.Utility.convertSMPTEtoSeconds(s.eq(r+1).attr("begin"))),n){c="";for(var h in n)c+=h+":"+n[h]+";"}c&&(d.style=c),0===d.start&&(d.start=.2),l.times.push(d),i=e.trim(s.eq(r).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),l.text.push(i),0===l.times.start&&(l.times.start=2)}return l}},split2:function(e,t){return e.split(t)}},3!="x\n\ny".split(/\n/gi).length&&(mejs.TrackFormatParser.split2=function(e,t){var n,i=[],r="";for(n=0;n<e.length;n++)r+=e.substring(n,n+1),t.test(r)&&(i.push(r.replace(t,"")),r="");return i.push(r),i})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(e){return"undefined"==typeof e.enterFullScreen?null:mejs.i18n.t(e.isFullScreen?"Turn off Fullscreen":"Go Fullscreen")},click:function(e){e.isFullScreen?e.exitFullScreen():e.enterFullScreen()}},{render:function(e){return mejs.i18n.t(e.media.muted?"Unmute":"Mute")},click:function(e){e.setMuted(e.media.muted?!1:!0)}},{isSeparator:!0},{render:function(){return mejs.i18n.t("Download Video")},click:function(e){window.location.href=e.media.currentSrc}}]}),e.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(t){t.contextMenu=e('<div class="mejs-contextmenu"></div>').appendTo(e("body")).hide(),t.container.bind("contextmenu",function(e){return t.isContextMenuEnabled?(e.preventDefault(),t.renderContextMenu(e.clientX-1,e.clientY-1),!1):void 0}),t.container.bind("click",function(){t.contextMenu.hide()}),t.contextMenu.bind("mouseleave",function(){t.startContextMenuTimer()})},cleancontextmenu:function(e){e.contextMenu.remove()},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var e=this;e.killContextMenuTimer(),e.contextMenuTimer=setTimeout(function(){e.hideContextMenu(),e.killContextMenuTimer()},750)},killContextMenuTimer:function(){var e=this.contextMenuTimer;null!=e&&(clearTimeout(e),delete e,e=null)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(t,n){for(var i=this,r="",o=i.options.contextMenuItems,s=0,a=o.length;a>s;s++)if(o[s].isSeparator)r+='<div class="mejs-contextmenu-separator"></div>';else{var l=o[s].render(i);null!=l&&(r+='<div class="mejs-contextmenu-item" data-itemindex="'+s+'" id="element-'+1e6*Math.random()+'">'+l+"</div>")}i.contextMenu.empty().append(e(r)).css({top:n,left:t}).show(),i.contextMenu.find(".mejs-contextmenu-item").each(function(){var t=e(this),n=parseInt(t.data("itemindex"),10),r=i.options.contextMenuItems[n];"undefined"!=typeof r.show&&r.show(t,i),t.click(function(){"undefined"!=typeof r.click&&r.click(i),i.contextMenu.hide()})}),setTimeout(function(){i.killControlsTimer("rev3")},100)}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{postrollCloseText:mejs.i18n.t("Close")}),e.extend(MediaElementPlayer.prototype,{buildpostroll:function(t,n,i){var r=this,o=r.container.find('link[rel="postroll"]').attr("href");"undefined"!=typeof o&&(t.postroll=e('<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">'+r.options.postrollCloseText+'</a><div class="mejs-postroll-layer-content"></div></div>').prependTo(i).hide(),r.media.addEventListener("ended",function(){e.ajax({dataType:"html",url:o,success:function(e){i.find(".mejs-postroll-layer-content").html(e)}}),t.postroll.show()},!1))}})}(mejs.$);